Enter your prompt here

# Project Structure

‚îú‚îÄ üìÅ js
  ‚îî‚îÄ utils.test.js
  ‚îî‚îÄ utils.js
  ‚îî‚îÄ ui.js
  ‚îî‚îÄ tutorial.js
  ‚îî‚îÄ tournaments.js
  ‚îî‚îÄ storage.test.js
  ‚îî‚îÄ storage.js
  ‚îî‚îÄ statistics.js
  ‚îî‚îÄ random.test.js
  ‚îî‚îÄ random.js
  ‚îî‚îÄ player.js
  ‚îî‚îÄ network.js
  ‚îî‚îÄ main.js
  ‚îî‚îÄ localization.test.js
  ‚îî‚îÄ localization.js
  ‚îî‚îÄ game.js
  ‚îî‚îÄ config.js
  ‚îî‚îÄ board.js
  ‚îî‚îÄ audio.js
  ‚îî‚îÄ achievements.js
‚îú‚îÄ üìÅ src
  ‚îî‚îÄ style.css
  ‚îî‚îÄ index.html
  ‚îî‚îÄ game.js
‚îú‚îÄ üìÅ css
  ‚îî‚îÄ style.css
  ‚îî‚îÄ animations.css
‚îú‚îÄ üìÅ assets
  ‚îú‚îÄ üìÅ tokens
    ‚îî‚îÄ zh.json
    ‚îî‚îÄ ru.json
    ‚îî‚îÄ README.md
    ‚îî‚îÄ ko.json
    ‚îî‚îÄ ja.json
    ‚îî‚îÄ fr.json
    ‚îî‚îÄ es.json
    ‚îî‚îÄ en.json
    ‚îî‚îÄ de.json
  ‚îú‚îÄ üìÅ brands
    ‚îî‚îÄ README.md
  ‚îú‚îÄ üìÅ sounds
    ‚îî‚îÄ README.md
‚îî‚îÄ test.html
‚îî‚îÄ sw.js
‚îî‚îÄ stylelint.config.js
‚îî‚îÄ README.md
‚îî‚îÄ README.html
‚îî‚îÄ manifest.json
‚îî‚îÄ package.json
‚îî‚îÄ index.html
‚îî‚îÄ .stylelintrc.json
‚îî‚îÄ .htaccess


# Project Files

- test.html
- sw.js
- stylelint.config.js
- README.md
- README.html
- package.json
- manifest.json
- index.html
- js\utils.test.js
- js\utils.js
- js\ui.js
- js\tutorial.js
- js\tournaments.js
- js\storage.test.js
- js\storage.js
- js\statistics.js
- js\random.test.js
- js\random.js
- js\player.js
- js\network.js
- js\main.js
- js\localization.test.js
- js\localization.js
- js\game.js
- src\style.css
- src\index.html
- src\game.js
- css\style.css
- css\animations.css
- js\config.js
- js\board.js
- js\audio.js
- js\achievements.js
- .stylelintrc.json
- .htaccess
- assets\tokens\zh.json
- assets\tokens\ru.json
- assets\tokens\README.md
- assets\tokens\ko.json
- assets\tokens\ja.json
- assets\tokens\fr.json
- assets\tokens\es.json
- assets\sounds\README.md
- assets\tokens\en.json
- assets\tokens\de.json
- assets\brands\README.md

## test.html
```
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –†—É—Å—Å–∫–æ–π –ú–æ–Ω–æ–ø–æ–ª–∏–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 800px;
            max-inline-size: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            margin-block-end: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-result {
            margin-top: 10px;
            margin-block-start: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            font-family: monospace;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ –¢–µ—Å—Ç –†—É—Å—Å–∫–æ–π –ú–æ–Ω–æ–ø–æ–ª–∏–∏</h1>
        
        <div class="test-section">
            <h3>1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π</h3>
            <button class="test-button" onclick="testModules()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥—É–ª–∏</button>
            <div id="modules-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>2. –¢–µ—Å—Ç —É—Ç–∏–ª–∏—Ç</h3>
            <button class="test-button" onclick="testUtils()">–¢–µ—Å—Ç —É—Ç–∏–ª–∏—Ç</button>
            <div id="utils-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>3. –¢–µ—Å—Ç –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è</h3>
            <button class="test-button" onclick="testBoard()">–¢–µ—Å—Ç –ø–æ–ª—è</button>
            <div id="board-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>4. –¢–µ—Å—Ç –∏–≥—Ä–æ–∫–æ–≤</h3>
            <button class="test-button" onclick="testPlayers()">–¢–µ—Å—Ç –∏–≥—Ä–æ–∫–æ–≤</button>
            <div id="players-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>5. –¢–µ—Å—Ç –∏–≥—Ä—ã</h3>
            <button class="test-button" onclick="testGame()">–¢–µ—Å—Ç –∏–≥—Ä—ã</button>
            <div id="game-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>6. –¢–µ—Å—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏</h3>
            <button class="test-button" onclick="testLocalization()">–¢–µ—Å—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏</button>
            <div id="localization-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>7. –¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</h3>
            <button class="test-button" onclick="testSaveLoad()">–¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</button>
            <div id="save-result" class="test-result"></div>
        </div>
        
        <div class="test-section">
            <h3>8. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –∏–≥—Ä—ã</h3>
            <button class="test-button" onclick="launchGame()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É</button>
            <div id="launch-result" class="test-result"></div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/board.js"></script>
    <script src="js/player.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        function showResult(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `test-result ${type}`;
        }

        function testModules() {
            try {
                const modules = ['CONFIG', 'utils', 'board', 'Player', 'Game', 'UI', 'app'];
                const results = [];
                
                modules.forEach(module => {
                    if (typeof window[module] !== 'undefined') {
                        results.push(`‚úÖ ${module}`);
                    } else {
                        results.push(`‚ùå ${module}`);
                    }
                });
                
                const allLoaded = results.every(r => r.includes('‚úÖ'));
                showResult('modules-result', results.join('\n'), allLoaded ? 'success' : 'error');
            } catch (error) {
                showResult('modules-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testUtils() {
            try {
                const tests = [];
                
                // –¢–µ—Å—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
                const randomNum = utils.random(1, 10);
                tests.push(`–°–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ (1-10): ${randomNum}`);
                
                // –¢–µ—Å—Ç –∫–æ—Å—Ç–µ–π
                const dice = utils.rollDice();
                tests.push(`–ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π: ${dice.dice1} + ${dice.dice2} = ${dice.total}`);
                
                // –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–Ω–µ–≥
                const money = utils.formatMoney(1500);
                tests.push(`–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–≥: ${money}`);
                
                // –¢–µ—Å—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
                const text = utils.getText('COMMON.START');
                tests.push(`–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: ${text}`);
                
                showResult('utils-result', tests.join('\n'), 'success');
            } catch (error) {
                showResult('utils-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testBoard() {
            try {
                const tests = [];
                
                // –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–µ—Ç–∫–∏
                const cell = board.getCell(1);
                tests.push(`–ö–ª–µ—Ç–∫–∞ 1: ${cell.name} (${cell.price}‚ÇΩ)`);
                
                // –¢–µ—Å—Ç —Ü–≤–µ—Ç–æ–≤—ã—Ö –≥—Ä—É–ø–ø
                const brownCells = board.getCellsByColor('brown');
                tests.push(`–ö–æ—Ä–∏—á–Ω–µ–≤—ã—Ö –∫–ª–µ—Ç–æ–∫: ${brownCells.length}`);
                
                // –¢–µ—Å—Ç –ø–æ–∫—É–ø–∫–∏
                const purchaseResult = board.buyCell(1, 1, 600);
                tests.push(`–ü–æ–∫—É–ø–∫–∞ –∫–ª–µ—Ç–∫–∏: ${purchaseResult ? '—É—Å–ø–µ—à–Ω–æ' : '–Ω–µ—É–¥–∞—á–Ω–æ'}`);
                
                // –¢–µ—Å—Ç –∞—Ä–µ–Ω–¥—ã
                const rent = board.calculateRent(1, 1);
                tests.push(`–ê—Ä–µ–Ω–¥–∞: ${rent}‚ÇΩ`);
                
                showResult('board-result', tests.join('\n'), 'success');
            } catch (error) {
                showResult('board-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testPlayers() {
            try {
                const tests = [];
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
                const player = new Player(1, '–¢–µ—Å—Ç–æ–≤—ã–π –∏–≥—Ä–æ–∫', 'matryoshka');
                tests.push(`–°–æ–∑–¥–∞–Ω –∏–≥—Ä–æ–∫: ${player.name}`);
                
                // –¢–µ—Å—Ç –¥–µ–Ω–µ–≥
                player.addMoney(1000);
                tests.push(`–î–µ–Ω—å–≥–∏ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è: ${player.money}‚ÇΩ`);
                
                // –¢–µ—Å—Ç –¥–≤–∏–∂–µ–Ω–∏—è
                player.move(5);
                tests.push(`–ü–æ–∑–∏—Ü–∏—è –ø–æ—Å–ª–µ –¥–≤–∏–∂–µ–Ω–∏—è: ${player.position}`);
                
                // –¢–µ—Å—Ç –ø–æ–∫—É–ø–∫–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
                const buyResult = player.buyProperty(1, 600);
                tests.push(`–ü–æ–∫—É–ø–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: ${buyResult ? '—É—Å–ø–µ—à–Ω–æ' : '–Ω–µ—É–¥–∞—á–Ω–æ'}`);
                
                showResult('players-result', tests.join('\n'), 'success');
            } catch (error) {
                showResult('players-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testGame() {
            try {
                const tests = [];
                
                // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–≥—Ä—ã
                const testGame = new Game();
                tests.push('–ò–≥—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞');
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
                const playerData = [
                    { id: 1, name: '–ò–≥—Ä–æ–∫ 1', token: 'matryoshka' },
                    { id: 2, name: '–ò–≥—Ä–æ–∫ 2', token: 'balalaika' }
                ];
                
                testGame.startNewGame(playerData);
                tests.push(`–ò–≥—Ä–∞ –Ω–∞—á–∞—Ç–∞ —Å ${testGame.players.length} –∏–≥—Ä–æ–∫–∞–º–∏`);
                
                // –¢–µ—Å—Ç –±—Ä–æ—Å–∫–∞ –∫–æ—Å—Ç–µ–π
                const dice = testGame.rollDice();
                tests.push(`–ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π: ${dice.dice1} + ${dice.dice2}`);
                
                showResult('game-result', tests.join('\n'), 'success');
            } catch (error) {
                showResult('game-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testLocalization() {
            try {
                const tests = [];
                
                // –¢–µ—Å—Ç —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
                utils.setLocale('ru');
                const russianText = utils.getText('COMMON.START');
                tests.push(`–†—É—Å—Å–∫–∏–π: ${russianText}`);
                
                // –¢–µ—Å—Ç –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
                utils.setLocale('en');
                const englishText = utils.getText('COMMON.START');
                tests.push(`English: ${englishText}`);
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä—É—Å—Å–∫–∏–π
                utils.setLocale('ru');
                
                showResult('localization-result', tests.join('\n'), 'success');
            } catch (error) {
                showResult('localization-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function testSaveLoad() {
            try {
                const tests = [];
                
                // –¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                const testData = { test: 'data', number: 42 };
                utils.saveToStorage('test_key', testData);
                tests.push('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
                
                // –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏
                const loadedData = utils.loadFromStorage('test_key');
                tests.push(`–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã: ${JSON.stringify(loadedData)}`);
                
                // –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è
                utils.removeFromStorage('test_key');
                const deletedData = utils.loadFromStorage('test_key');
                tests.push(`–î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã: ${deletedData === null ? '–¥–∞' : '–Ω–µ—Ç'}`);
                
                showResult('save-result', tests.join('\n'), 'success');
            } catch (error) {
                showResult('save-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        function launchGame() {
            try {
                showResult('launch-result', '–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã...', 'success');
                
                // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1000);
            } catch (error) {
                showResult('launch-result', `–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            console.log('üß™ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤...');
            testModules();
        });
    </script>
</body>
</html> 
```

## sw.js
```
/**
 * Service Worker –¥–ª—è –ú–æ–Ω–æ–ø–æ–ª–∏–∏ –†–æ—Å—Å–∏–∏
 * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—É
 */

const CACHE_NAME = 'monopoly-russia-v1.0.0';
const STATIC_CACHE = 'monopoly-russia-static-v1.0.0';
const DYNAMIC_CACHE = 'monopoly-russia-dynamic-v1.0.0';

// –§–∞–π–ª—ã –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
const STATIC_FILES = [
    '/',
    '/src/index.html',
    '/src/style.css',
    '/src/game.js',
    '/dist/index.html',
    '/dist/style.min.css',
    '/dist/game.min.js'
];

// –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
const CACHE_STRATEGIES = {
    // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
    STATIC: 'static',
    // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
    STALE_WHILE_REVALIDATE: 'stale-while-revalidate',
    // –°–µ—Ç—å —Å fallback –Ω–∞ –∫—ç—à
    NETWORK_FIRST: 'network-first',
    // –ö—ç—à —Å fallback –Ω–∞ —Å–µ—Ç—å
    CACHE_FIRST: 'cache-first'
};

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Service Worker
self.addEventListener('install', event => {
    console.log('üîÑ Service Worker: –£—Å—Ç–∞–Ω–æ–≤–∫–∞...');
    
    event.waitUntil(
        caches.open(STATIC_CACHE)
            .then(cache => {
                console.log('üì¶ Service Worker: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤');
                return cache.addAll(STATIC_FILES);
            })
            .then(() => {
                console.log('‚úÖ Service Worker: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
                return self.skipWaiting();
            })
            .catch(error => {
                console.error('‚ùå Service Worker: –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏', error);
            })
    );
});

// –ê–∫—Ç–∏–≤–∞—Ü–∏—è Service Worker
self.addEventListener('activate', event => {
    console.log('üöÄ Service Worker: –ê–∫—Ç–∏–≤–∞—Ü–∏—è...');
    
    event.waitUntil(
        caches.keys()
            .then(cacheNames => {
                return Promise.all(
                    cacheNames.map(cacheName => {
                        if (cacheName !== STATIC_CACHE && cacheName !== DYNAMIC_CACHE) {
                            console.log('üóëÔ∏è Service Worker: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞', cacheName);
                            return caches.delete(cacheName);
                        }
                    })
                );
            })
            .then(() => {
                console.log('‚úÖ Service Worker: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
                return self.clients.claim();
            })
    );
});

// –ü–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
self.addEventListener('fetch', event => {
    const { request } = event;
    const url = new URL(request.url);
    
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
    if (request.method !== 'GET' || url.protocol === 'chrome-extension:') {
        return;
    }
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
    const strategy = getCacheStrategy(request);
    
    event.respondWith(
        handleRequest(request, strategy)
            .catch(error => {
                console.error('‚ùå Service Worker: –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞', error);
                return handleOfflineFallback(request);
            })
    );
});

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
function getCacheStrategy(request) {
    const url = new URL(request.url);
    
    // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
    if (url.pathname.match(/\.(css|js|html|woff2|woff|ttf|eot)$/)) {
        return CACHE_STRATEGIES.STATIC;
    }
    
    // API –∑–∞–ø—Ä–æ—Å—ã
    if (url.pathname.startsWith('/api/')) {
        return CACHE_STRATEGIES.NETWORK_FIRST;
    }
    
    // –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    if (url.pathname.match(/\.(png|jpg|jpeg|gif|svg|webp)$/)) {
        return CACHE_STRATEGIES.CACHE_FIRST;
    }
    
    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
    return CACHE_STRATEGIES.STALE_WHILE_REVALIDATE;
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
async function handleRequest(request, strategy) {
    switch (strategy) {
        case CACHE_STRATEGIES.STATIC:
            return handleStaticCache(request);
        case CACHE_STRATEGIES.CACHE_FIRST:
            return handleCacheFirst(request);
        case CACHE_STRATEGIES.NETWORK_FIRST:
            return handleNetworkFirst(request);
        case CACHE_STRATEGIES.STALE_WHILE_REVALIDATE:
            return handleStaleWhileRevalidate(request);
        default:
            return fetch(request);
    }
}

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
async function handleStaticCache(request) {
    const cache = await caches.open(STATIC_CACHE);
    const cachedResponse = await cache.match(request);
    
    if (cachedResponse) {
        return cachedResponse;
    }
    
    try {
        const networkResponse = await fetch(request);
        if (networkResponse.ok) {
            cache.put(request, networkResponse.clone());
        }
        return networkResponse;
    } catch (error) {
        throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—É—Ä—Å');
    }
}

// –ö—ç—à –ø–µ—Ä–≤—ã–º
async function handleCacheFirst(request) {
    const cache = await caches.open(DYNAMIC_CACHE);
    const cachedResponse = await cache.match(request);
    
    if (cachedResponse) {
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à –≤ —Ñ–æ–Ω–µ
        fetch(request)
            .then(response => {
                if (response.ok) {
                    cache.put(request, response);
                }
            })
            .catch(() => {
                // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞
            });
        
        return cachedResponse;
    }
    
    try {
        const networkResponse = await fetch(request);
        if (networkResponse.ok) {
            cache.put(request, networkResponse.clone());
        }
        return networkResponse;
    } catch (error) {
        throw new Error('–†–µ—Å—É—Ä—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
    }
}

// –°–µ—Ç—å –ø–µ—Ä–≤—ã–º
async function handleNetworkFirst(request) {
    try {
        const networkResponse = await fetch(request);
        if (networkResponse.ok) {
            const cache = await caches.open(DYNAMIC_CACHE);
            cache.put(request, networkResponse.clone());
        }
        return networkResponse;
    } catch (error) {
        const cache = await caches.open(DYNAMIC_CACHE);
        const cachedResponse = await cache.match(request);
        
        if (cachedResponse) {
            return cachedResponse;
        }
        
        throw new Error('–†–µ—Å—É—Ä—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫—ç—à–µ');
    }
}

// –£—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
async function handleStaleWhileRevalidate(request) {
    const cache = await caches.open(DYNAMIC_CACHE);
    const cachedResponse = await cache.match(request);
    
    const fetchPromise = fetch(request)
        .then(networkResponse => {
            if (networkResponse.ok) {
                cache.put(request, networkResponse.clone());
            }
            return networkResponse;
        })
        .catch(() => {
            // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏
        });
    
    if (cachedResponse) {
        return cachedResponse;
    }
    
    try {
        return await fetchPromise;
    } catch (error) {
        throw new Error('–†–µ—Å—É—Ä—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
    }
}

// –û—Ñ–ª–∞–π–Ω fallback
async function handleOfflineFallback(request) {
    const url = new URL(request.url);
    
    // –î–ª—è HTML –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ñ–ª–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—É
    if (request.headers.get('accept').includes('text/html')) {
        const cache = await caches.open(STATIC_CACHE);
        const offlinePage = await cache.match('/src/index.html');
        
        if (offlinePage) {
            return new Response(offlinePage.body, {
                status: 200,
                statusText: 'OK',
                headers: {
                    'Content-Type': 'text/html',
                    'X-Offline': 'true'
                }
            });
        }
    }
    
    // –î–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—à–∏–±–∫—É
    return new Response('–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º', {
        status: 503,
        statusText: 'Service Unavailable',
        headers: {
            'Content-Type': 'text/plain'
        }
    });
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
self.addEventListener('message', event => {
    const { type, data } = event.data;
    
    switch (type) {
        case 'SKIP_WAITING':
            self.skipWaiting();
            break;
        case 'GET_CACHE_INFO':
            getCacheInfo().then(info => {
                event.ports[0].postMessage(info);
            });
            break;
        case 'CLEAR_CACHE':
            clearCache().then(() => {
                event.ports[0].postMessage({ success: true });
            });
            break;
        default:
            console.log('Service Worker: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è', type);
    }
});

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—ç—à–µ
async function getCacheInfo() {
    const cacheNames = await caches.keys();
    const cacheInfo = {};
    
    for (const cacheName of cacheNames) {
        const cache = await caches.open(cacheName);
        const requests = await cache.keys();
        cacheInfo[cacheName] = {
            size: requests.length,
            urls: requests.map(req => req.url)
        };
    }
    
    return cacheInfo;
}

// –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
async function clearCache() {
    const cacheNames = await caches.keys();
    await Promise.all(
        cacheNames.map(cacheName => caches.delete(cacheName))
    );
}

// –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
self.addEventListener('periodicsync', event => {
    if (event.tag === 'cleanup-cache') {
        event.waitUntil(cleanupOldCache());
    }
});

// –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞
async function cleanupOldCache() {
    const cache = await caches.open(DYNAMIC_CACHE);
    const requests = await cache.keys();
    const now = Date.now();
    const maxAge = 7 * 24 * 60 * 60 * 1000; // 7 –¥–Ω–µ–π
    
    for (const request of requests) {
        const response = await cache.match(request);
        const dateHeader = response.headers.get('date');
        
        if (dateHeader) {
            const responseDate = new Date(dateHeader).getTime();
            if (now - responseDate > maxAge) {
                await cache.delete(request);
            }
        }
    }
}

self.addEventListener('push', function(event) {
  let data = {};
  if (event.data) {
    data = event.data.json();
  }
  const title = data.title || 'Monopoly Russia';
  const options = {
    body: data.body || '–£ –≤–∞—Å –Ω–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ!',
    icon: 'icons/icon-192x192.png',
    badge: 'icons/icon-72x72.png',
    data: data.url || '/' // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–ª–∏–∫—É
  };
  event.waitUntil(
    self.registration.showNotification(title, options)
  );
});

self.addEventListener('notificationclick', function(event) {
  event.notification.close();
  const url = event.notification.data || '/';
  event.waitUntil(
    clients.matchAll({ type: 'window' }).then(windowClients => {
      for (let client of windowClients) {
        if (client.url === url && 'focus' in client) {
          return client.focus();
        }
      }
      if (clients.openWindow) {
        return clients.openWindow(url);
      }
    })
  );
});

console.log('üé≤ Service Worker: –ú–æ–Ω–æ–ø–æ–ª–∏—è –†–æ—Å—Å–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω'); 
```

## stylelint.config.js
```
module.exports = {
  rules: {
    // –ó–∞–ø—Ä–µ—â–∞–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ CSS-—Å–≤–æ–π—Å—Ç–≤–∞ (margin-left, padding-right –∏ —Ç.–¥.)
    'declaration-property-value-disallowed-list': {
      '/^(margin|padding|border)-(left|right|top|bottom)/': [/.*/],
      '/^(left|right|top|bottom)$/': [/.*/],
      '/^(width|height)$/': [/.*/],
      '/^border-radius$/': [/.*/],
      '/^border-(top|bottom|left|right)-(left|right)-radius$/': [/.*/]
    }
  }
}; 
```

## README.md
```
# Monopoly Russia Prototype

–ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã, –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω–æ–π "–ú–æ–Ω–æ–ø–æ–ª–∏–µ–π" —Å —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–æ–π. –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ –ø—Ä–æ—Ç–æ—Ç–∏–ø —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
npm install
npm run dev
```
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run build     # –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
npm run serve     # –ó–∞–ø—É—Å–∫ production –≤–µ—Ä—Å–∏–∏
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ src/                    # –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html         # Development –≤–µ—Ä—Å–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ index.prod.html    # Production —à–∞–±–ª–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ style.css          # –°—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ game.js            # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ performance-report.md
‚îú‚îÄ‚îÄ dist/                  # –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html         # –ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ style.min.css      # –ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ game.min.js        # –ú–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JS
‚îú‚îÄ‚îÄ build.js               # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ .htaccess             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Apache
‚îî‚îÄ‚îÄ index.html            # –°—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```

## üéÆ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ** —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –≥–æ—Ä–æ–¥–∞–º–∏ –∏ –ª–æ–∫–∞—Ü–∏—è–º–∏
- **–ü–æ–∫—É–ø–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** –∏ —Å–∏—Å—Ç–µ–º–∞ –∞—Ä–µ–Ω–¥—ã
- **–ö–∞—Ä—Ç–æ—á–∫–∏ —à–∞–Ω—Å–∞** —Å —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥** —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º DOM –∏ –ø–ª–∞–≤–Ω—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å** —Å –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ —Å–∂–∞—Ç–∏–µ–º

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ù–∞—Ç–∏–≤–Ω—ã–π JavaScript –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DOM –æ–ø–µ—Ä–∞—Ü–∏–∏
- CSS –∞–Ω–∏–º–∞—Ü–∏–∏ —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º
- –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ —Å –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–∂–∞—Ç–∏–µ —á–µ—Ä–µ–∑ .htaccess
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ ~40%

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –†–∞–∑–º–µ—Ä bundle: ~2.8KB (–º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ~100ms
- DOM –∑–∞–ø—Ä–æ—Å—ã: 1-2 –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ
- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

## üîß –ö–æ–º–∞–Ω–¥—ã NPM

- `npm run start` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç dev —Å–µ—Ä–≤–µ—Ä–∞
- `npm run dev` - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ø–æ—Ä—Ç 8000)
- `npm run build` - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `npm run serve` - Production —Å–µ—Ä–≤–µ—Ä
- `npm run optimize` - –°–±–æ—Ä–∫–∞ + –∞–Ω–∞–ª–∏–∑
- `npm run analyze` - –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ bundle

## üåü –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –¢—É—Ä–Ω–∏—Ä–Ω—ã–π —Ä–µ–∂–∏–º  
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ–±—ã—Ç–∏–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏
- Progressive Web App –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

```

## README.html
```
- üëã Hi, I‚Äôm @Jokersochi
- üëÄ I‚Äôm interested in ...
- üå± I‚Äôm currently learning ...
- üíûÔ∏è I‚Äôm looking to collaborate on ...
- üì´ How to reach me ...

<!---
Jokersochi/Jokersochi is a ‚ú® special ‚ú® repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look at your chan

```

## package.json
```
{
  "name": "monopoly-russia-prototype",
  "version": "1.0.0",
  "description": "A browser-based Monopoly game with Russian cultural specifics",
  "main": "src/game.js",
  "scripts": {
    "build": "node build.js",
    "dev": "python3 -m http.server 8000",
    "serve": "python3 -m http.server 8000 -d dist",
    "start": "npm run dev",
    "test": "echo \"No tests specified\" && exit 0",
    "optimize": "npm run build && npm run analyze",
    "analyze": "node -e \"console.log('Bundle analysis:', require('./dist/build-info.json'))\"",
    "lint:css": "stylelint '**/*.css'"
  },
  "keywords": [
    "monopoly",
    "game",
    "javascript",
    "browser",
    "russia"
  ],
  "author": "Developer",
  "license": "MIT",
  "devDependencies": {
    "http-server": "^14.0.0",
    "stylelint": "^15.0.0",
    "stylelint-no-physical-properties": "^2.0.0"
  },
  "engines": {
    "node": ">=14.0.0"
  },
  "browserslist": [
    "last 2 versions",
    "> 1%",
    "not dead"
  ]
}
```

## manifest.json
```
{
  "name": "–ú–æ–Ω–æ–ø–æ–ª–∏—è –†–æ—Å—Å–∏–∏",
  "short_name": "–ú–æ–Ω–æ–ø–æ–ª–∏—è",
  "description": "–ë—ã—Å—Ç—Ä–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã –ú–æ–Ω–æ–ø–æ–ª–∏—è —Å —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π",
  "version": "1.0.0",
  "start_url": "/src/index.html",
  "display": "standalone",
  "orientation": "portrait-primary",
  "theme_color": "#007bff",
  "background_color": "#667eea",
  "scope": "/",
  "lang": "ru",
  "dir": "ltr",
  "categories": ["games", "entertainment", "board-games"],
  "icons": [
    {
      "src": "icons/icon-72x72.png",
      "sizes": "72x72",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-96x96.png",
      "sizes": "96x96",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-128x128.png",
      "sizes": "128x128",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-144x144.png",
      "sizes": "144x144",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-152x152.png",
      "sizes": "152x152",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-384x384.png",
      "sizes": "384x384",
      "type": "image/png",
      "purpose": "maskable any"
    },
    {
      "src": "icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "maskable any"
    }
  ],
  "screenshots": [
    {
      "src": "screenshots/desktop.png",
      "sizes": "1280x720",
      "type": "image/png",
      "form_factor": "wide",
      "label": "–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ"
    },
    {
      "src": "screenshots/mobile.png",
      "sizes": "375x667",
      "type": "image/png",
      "form_factor": "narrow",
      "label": "–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º"
    }
  ],
  "shortcuts": [
    {
      "name": "–ù–æ–≤–∞—è –∏–≥—Ä–∞",
      "short_name": "–ò–≥—Ä–∞—Ç—å",
      "description": "–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É",
      "url": "/src/index.html?action=new",
      "icons": [
        {
          "src": "icons/play-96x96.png",
          "sizes": "96x96"
        }
      ]
    },
    {
      "name": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
      "short_name": "–°—Ç–∞—Ç—ã",
      "description": "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä—ã",
      "url": "/src/index.html?action=stats",
      "icons": [
        {
          "src": "icons/stats-96x96.png",
          "sizes": "96x96"
        }
      ]
    }
  ],
  "related_applications": [],
  "prefer_related_applications": false,
  "edge_side_panel": {
    "preferred_width": 400
  },
  "launch_handler": {
    "client_mode": "navigate-existing"
  },
  "protocol_handlers": [
    {
      "protocol": "web+monopoly",
      "url": "/src/index.html?game=%s"
    }
  ],
  "file_handlers": [
    {
      "action": "/src/index.html",
      "accept": {
        "application/json": [".json"]
      }
    }
  ],
  "share_target": {
    "action": "/src/index.html",
    "method": "GET",
    "params": {
      "title": "title",
      "text": "text",
      "url": "url"
    }
  },
  "permissions": [
    "storage"
  ],
  "optional_permissions": [
    "notifications"
  ],
  "background": {
    "service_worker": "/sw.js",
    "type": "module"
  },
  "content_security_policy": {
    "extension_pages": "script-src 'self'; object-src 'self'"
  }
} 
```

## index.html
```
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monopoly Russia - Redirect</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            max-inline-size: 600px;
            margin: 50px auto;
            margin-block-start: 50px;
            margin-inline: auto;
            padding: 20px;
            background: #f0f0f0;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 10px;
            margin-inline: 10px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .btn-dev {
            background: #007bff;
            color: white;
        }
        .btn-prod {
            background: #28a745;
            color: white;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé≤ Monopoly Russia</h1>
        <p>–ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã —Å —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π</p>
        
        <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é:</h3>
        <a href="src/index.html" class="btn btn-dev">üîß Development</a>
        <a href="dist/index.html" class="btn btn-prod">üöÄ Production</a>
        
        <hr style="margin: 30px 0; margin-block: 30px;">
        
        <h3>–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:</h3>
        <p><code>npm run dev</code> - –∑–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞</p>
        <p><code>npm run build</code> - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</p>
        <p><code>npm run serve</code> - –∑–∞–ø—É—Å–∫ production –≤–µ—Ä—Å–∏–∏</p>
    </div>
</body>
</html>
```

## js\utils.test.js
```
import { isEven, isOdd, clamp, deepClone, formatMoney, generateId } from './utils.js';

describe('utils', () => {
  test('isEven', () => {
    expect(isEven(2)).toBe(true);
    expect(isEven(3)).toBe(false);
  });
  test('isOdd', () => {
    expect(isOdd(2)).toBe(false);
    expect(isOdd(3)).toBe(true);
  });
  test('clamp', () => {
    expect(clamp(5, 1, 10)).toBe(5);
    expect(clamp(-1, 0, 10)).toBe(0);
    expect(clamp(15, 0, 10)).toBe(10);
  });
  test('deepClone', () => {
    const obj = { a: 1, b: { c: 2 } };
    const clone = deepClone(obj);
    expect(clone).not.toBe(obj);
    expect(clone).toEqual(obj);
    clone.b.c = 3;
    expect(obj.b.c).toBe(2);
  });
  test('formatMoney', () => {
    expect(formatMoney(1000)).toBe('1,000‚ÇΩ');
    expect(formatMoney(500, '$')).toBe('500$');
  });
  test('generateId', () => {
    const id1 = generateId();
    const id2 = generateId();
    expect(id1).not.toBe(id2);
    expect(typeof id1).toBe('string');
  });
}); 
```

## js\utils.js
```
// –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
export const isEven = (num) => num % 2 === 0;
export const isOdd = (num) => num % 2 === 1;
export const clamp = (value, min, max) => Math.min(Math.max(value, min), max);
export const deepClone = (obj) => {
    if (obj === null || typeof obj !== 'object') return obj;
    if (obj instanceof Date) return new Date(obj.getTime());
    if (Array.isArray(obj)) return obj.map(deepClone);
    if (typeof obj === 'object') {
        const clonedObj = {};
        for (const key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
                clonedObj[key] = deepClone(obj[key]);
            }
        }
        return clonedObj;
    }
};
export const formatMoney = (amount, currency = '‚ÇΩ') => `${amount.toLocaleString()}${currency}`;
export const formatTime = (seconds) => {
    const m = Math.floor(seconds / 60).toString().padStart(2, '0');
    const s = Math.floor(seconds % 60).toString().padStart(2, '0');
    return `${m}:${s}`;
};
export const generateId = () => Date.now().toString(36) + Math.random().toString(36).substr(2); 
```

## js\ui.js
```
/**
 * –ú–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
 * –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —ç–∫—Ä–∞–Ω–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—ã—Ç–∏–π –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
 */

import { getText } from './localization.js';
import { formatMoney, generateId } from './utils.js';
import { saveToStorage, loadFromStorage } from './storage.js';
import { randomChoice, rollDice } from './random.js';
// –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
const escapeHTML = (str) => String(str).replace(/[&<>"]'/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]);
const showToast = (msg) => alert(msg);
const passedStart = (oldPos, newPos) => newPos < oldPos;

class UI {
    constructor() {
        this.currentScreen = 'main-menu';
        this.screens = {};
        this.eventListeners = [];
        
        this.initializeUI();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
     */
    initializeUI() {
        this.initializeScreens();
        this.initializeEventListeners();
        this.initializeModals();
        this.initializeAnimations();
        this.addDebugTestButtons();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω—ã
     */
    initializeScreens() {
        this.screens = {
            'main-menu': document.getElementById('main-menu'),
            'settings-screen': document.getElementById('settings-screen'),
            'game-screen': document.getElementById('game-screen')
        };
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
     */
    initializeEventListeners() {
        // –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
        this.addEventListener('#new-game-btn', 'click', () => {
            this.showScreen('settings-screen');
        });

        this.addEventListener('#join-game-btn', 'click', () => {
            this.showJoinGameDialog();
        });

        this.addEventListener('#settings-btn', 'click', () => {
            this.showScreen('settings-screen');
        });

        this.addEventListener('#rules-btn', 'click', () => {
            this.showRulesDialog();
        });

        // –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
        this.addEventListener('#achievements-btn', 'click', () => {
            this.showAchievementsModal();
        });
        this.addEventListener('#statistics-btn', 'click', () => {
            this.showStatisticsModal();
        });
        this.addEventListener('#tournaments-btn', 'click', () => {
            this.showTournamentsModal();
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        this.addEventListener('#back-to-menu', 'click', () => {
            this.showScreen('main-menu');
        });

        this.addEventListener('#start-game', 'click', () => {
            this.startGame();
        });

        // –ò–≥—Ä–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏
        this.addEventListener('#dice-btn', 'click', () => {
            this.rollDice();
        });

        this.addEventListener('#end-turn-btn', 'click', () => {
            this.endTurn();
        });

        // –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
        this.addEventListener('#trade-btn', 'click', () => {
            this.showTradeDialog();
        });

        this.addEventListener('#mortgage-btn', 'click', () => {
            this.showMortgageDialog();
        });

        this.addEventListener('#build-btn', 'click', () => {
            this.showBuildDialog();
        });

        this.addEventListener('#auction-btn', 'click', () => {
            this.showAuctionDialog();
        });

        // –í—ã–±–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤
        this.initializeTokenSelection();

        // –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
        this.initializePlayerCountSelection();

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
        this.initializeRuleSettings();

        // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
        this.initializeModalHandlers();

        // –ö–∞—Ä—Ç–æ—á–∫–∏
        this.addEventListener('#card-ok', 'click', () => {
            this.hideCardModal();
        });

        // –Ø–∑—ã–∫
        this.addEventListener('#language-select', 'change', (e) => {
            this.changeLanguage(e.target.value);
        });

        // –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (top-panel)
        this.addEventListener('#achievements-game-btn', 'click', () => {
            this.showAchievementsModal();
        });
        this.addEventListener('#statistics-game-btn', 'click', () => {
            this.showStatisticsModal();
        });
        this.addEventListener('#tournaments-game-btn', 'click', () => {
            this.showTournamentsModal();
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—ã–±–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤
     */
    initializeTokenSelection() {
        const tokenOptions = document.querySelectorAll('.token-option');
        tokenOptions.forEach(option => {
            option.addEventListener('click', () => {
                // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
                tokenOptions.forEach(opt => opt.classList.remove('selected'));
                // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
                option.classList.add('selected');
            });
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
     */
    initializePlayerCountSelection() {
        const playerCountSelect = document.getElementById('player-count');
        if (playerCountSelect) {
            playerCountSelect.addEventListener('change', (e) => {
                this.updatePlayerCount(parseInt(e.target.value));
            });
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
     */
    initializeRuleSettings() {
        const ruleCheckboxes = document.querySelectorAll('.rule-options input[type="checkbox"]');
        ruleCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                this.updateRuleSettings();
            });
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
     */
    initializeModalHandlers() {
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
        const modalOverlays = document.querySelectorAll('.modal-overlay');
        modalOverlays.forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    this.hideModal(overlay);
                }
            });
        });

        // –ö–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
        const closeButtons = document.querySelectorAll('.modal-close');
        closeButtons.forEach(button => {
            button.addEventListener('click', () => {
                const modal = button.closest('.modal-overlay');
                this.hideModal(modal);
            });
        });

        // –ö–Ω–æ–ø–∫–∏ –æ—Ç–º–µ–Ω—ã
        const cancelButtons = document.querySelectorAll('#modal-cancel');
        cancelButtons.forEach(button => {
            button.addEventListener('click', () => {
                const modal = button.closest('.modal-overlay');
                this.hideModal(modal);
            });
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
     */
    initializeModals() {
        // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
        if (!document.getElementById('modal-overlay')) {
            this.createModalOverlay();
        }
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
     */
    createModalOverlay() {
        const modalHTML = `
            <div id="modal-overlay" class="modal-overlay hidden">
                <div class="modal">
                    <div class="modal-header">
                        <h3 id="modal-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-content" id="modal-content">
                        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
                    </div>
                    <div class="modal-footer">
                        <button id="modal-cancel" class="btn secondary">–û—Ç–º–µ–Ω–∞</button>
                        <button id="modal-confirm" class="btn primary">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                    </div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', modalHTML);
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏
     */
    initializeAnimations() {
        // –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
        const buttons = document.querySelectorAll('.btn, .menu-btn');
        buttons.forEach(button => {
            button.addEventListener('mouseenter', () => {
                button.style.transform = 'translateY(-2px) scale(1.02)';
            });
            
            button.addEventListener('mouseleave', () => {
                button.style.transform = '';
            });
        });

        // –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–ª–µ—Ç–æ–∫
        const cells = document.querySelectorAll('.corner-cell, .property-cell, .chance-cell, .treasure-cell, .tax-cell');
        cells.forEach(cell => {
            cell.addEventListener('mouseenter', () => {
                cell.style.transform = 'scale(1.05)';
                cell.style.zIndex = '5';
            });
            
            cell.addEventListener('mouseleave', () => {
                cell.style.transform = '';
                cell.style.zIndex = '';
            });
        });
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è
     * @param {string} selector - —Å–µ–ª–µ–∫—Ç–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞
     * @param {string} event - —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è
     * @param {Function} handler - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
     */
    addEventListener(selector, event, handler) {
        const element = document.querySelector(selector);
        if (element) {
            element.addEventListener(event, handler);
            this.eventListeners.push({ element, event, handler });
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω
     * @param {string} screenName - –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞
     */
    showScreen(screenName) {
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
        Object.values(this.screens).forEach(screen => {
            if (screen) {
                screen.classList.remove('active');
                screen.classList.add('fade-out');
            }
        });

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
        const targetScreen = this.screens[screenName];
        if (targetScreen) {
            setTimeout(() => {
                Object.values(this.screens).forEach(screen => {
                    if (screen) {
                        screen.classList.remove('fade-out');
                    }
                });
                targetScreen.classList.add('active');
                this.currentScreen = screenName;
            }, 300);
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
     * @param {string} title - –∑–∞–≥–æ–ª–æ–≤–æ–∫
     * @param {string} content - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
     * @param {Function} onConfirm - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
     * @param {Function} onCancel - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–º–µ–Ω—ã
     */
    showModal(title, content, onConfirm = null, onCancel = null) {
        const modal = document.getElementById('modal-overlay');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const confirmBtn = document.getElementById('modal-confirm');
        const cancelBtn = document.getElementById('modal-cancel');

        if (modal && modalTitle && modalContent) {
            modalTitle.textContent = title;
            modalContent.innerHTML = content;
            modal.classList.remove('hidden');
            modal.classList.add('fade-in');
            const modalOverlay = document.querySelector('.modal-overlay');
            if (modalOverlay) {
                modalOverlay.classList.add('fade-in');
            }

            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
            const newConfirmBtn = confirmBtn.cloneNode(true);
            const newCancelBtn = cancelBtn.cloneNode(true);
            confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
            cancelBtn.parentNode.replaceChild(newCancelBtn, cancelBtn);

            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
            if (onConfirm) {
                newConfirmBtn.addEventListener('click', () => {
                    onConfirm();
                    this.hideModal(modal);
                });
            }

            if (onCancel) {
                newCancelBtn.addEventListener('click', () => {
                    onCancel();
                    this.hideModal(modal);
                });
            }
        }
    }

    /**
     * –°–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
     * @param {Element} modal - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
     */
    hideModal(modal) {
        if (!modal) return;
        const overlay = modal.closest('.modal-overlay');
        modal.classList.remove('fade-in');
        modal.classList.add('fade-out');
        if (overlay) {
            overlay.classList.remove('fade-in');
            overlay.classList.add('fade-out');
        }
        setTimeout(() => {
            if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
            if (modal && modal.parentNode) modal.parentNode.removeChild(modal);
        }, 350);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É
     * @param {string} title - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏
     * @param {string} text - —Ç–µ–∫—Å—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
     */
    showCard(title, text) {
        const cardModal = document.getElementById('card-modal');
        const cardTitle = document.getElementById('card-title');
        const cardText = document.getElementById('card-text');

        if (cardModal && cardTitle && cardText) {
            cardTitle.textContent = title;
            cardText.textContent = text;
            cardModal.classList.remove('hidden');
            cardModal.classList.add('fade-in');
        }
    }

    /**
     * –°–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É
     */
    hideCardModal() {
        const cardModal = document.querySelector('.card-modal');
        if (!cardModal) return;
        cardModal.classList.remove('fade-in');
        cardModal.classList.add('fade-out');
        setTimeout(() => {
            if (cardModal.parentNode) cardModal.parentNode.removeChild(cardModal);
        }, 350);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
     * @param {string} message - —Å–æ–æ–±—â–µ–Ω–∏–µ
     * @param {string} type - —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
     * @param {number} duration - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
     */
    showNotification(message, type = 'info', duration = 3000) {
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        
        notification.style.cssText = `
            position: fixed;
            inset-block-start: 20px;
            inset-block-start: 20px;
            inset-inline-end: 20px;
            inset-inline-end: 20px;
            padding: 15px 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10000;
            max-inline-size: 300px;
            max-inline-size: 300px;
            word-wrap: break-word;
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, duration);
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤
     * @param {number} count - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤
     */
    updatePlayerCount(count) {
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
        const playerList = document.querySelector('.player-list');
        if (playerList) {
            playerList.innerHTML = '';
            
            for (let i = 0; i < count; i++) {
                const playerItem = document.createElement('div');
                playerItem.className = 'player-item';
                playerItem.setAttribute('data-player', i + 1);
                playerItem.innerHTML = `
                    <img src="assets/tokens/matryoshka.png" alt="–¢–æ–∫–µ–Ω" class="player-token">
                    <div class="player-details">
                        <span class="player-name">–ò–≥—Ä–æ–∫ ${i + 1}</span>
                        <span class="player-money">2000‚ÇΩ</span>
                    </div>
                `;
                playerList.appendChild(playerItem);
            }
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
     */
    updateRuleSettings() {
        const settings = {
            auctionsEnabled: document.getElementById('auctions-enabled')?.checked || false,
            weatherEnabled: document.getElementById('weather-enabled')?.checked || false,
            economicEventsEnabled: document.getElementById('economic-events-enabled')?.checked || false,
            culturalEventsEnabled: document.getElementById('cultural-events-enabled')?.checked || false
        };
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        saveToStorage('game_settings', settings);
    }

    /**
     * –ú–µ–Ω—è–µ—Ç —è–∑—ã–∫
     * @param {string} language - –∫–æ–¥ —è–∑—ã–∫–∞
     */
    changeLanguage(language) {
        // utils.setLocale(language); // utils.setLocale –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        this.updateAllTexts();
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä —è–∑—ã–∫–∞
        saveToStorage('language', language);
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
     */
    updateAllTexts() {
        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
        const gameTitle = document.querySelector('.game-title');
        if (gameTitle) {
            gameTitle.textContent = '–†—É—Å—Å–∫–∞—è –ú–æ–Ω–æ–ø–æ–ª–∏—è';
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
        const buttons = document.querySelectorAll('.menu-btn, .btn');
        buttons.forEach(button => {
            const key = button.getAttribute('data-text-key');
            if (key) {
                button.textContent = getText(key);
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
        this.updateGameTexts();
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã
     */
    updateGameTexts() {
        // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–µ—Ç–æ–∫
        const cells = document.querySelectorAll('.cell-content h3');
        cells.forEach(cell => {
            const position = cell.closest('[data-position]')?.getAttribute('data-position');
            if (position) {
                const cellData = board.getCell(parseInt(position));
                if (cellData) {
                    cell.textContent = cellData.name;
                }
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–µ–Ω—ã
        const prices = document.querySelectorAll('.price');
        prices.forEach(price => {
            const position = price.closest('[data-position]')?.getAttribute('data-position');
            if (position) {
                const cellData = board.getCell(parseInt(position));
                if (cellData && cellData.price > 0) {
                    price.textContent = formatMoney(cellData.price);
                }
            }
        });
    }

    /**
     * –ë—Ä–æ—Å–∞–µ—Ç –∫–æ—Å—Ç–∏
     */
    rollDice() {
        const diceBtn = document.getElementById('dice-btn');
        if (diceBtn) {
            diceBtn.classList.add('rolling');
            diceBtn.disabled = true;
        }
        // –í–∏–±—Ä–æ–æ—Ç–∫–ª–∏–∫ –∏ –∑–≤—É–∫ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
        if (window.navigator && navigator.vibrate) {
            navigator.vibrate(80);
        }
        if (window.Audio) {
            try {
                const audio = new Audio('assets/sounds/dice.mp3');
                audio.volume = 0.5;
                audio.play();
            } catch (e) {}
        }
        // –ê–Ω–∏–º–∞—Ü–∏—è –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–æ–≤
        let diceResultBlock = document.querySelector('.dice-result');
        if (diceResultBlock) {
            diceResultBlock.classList.remove('visible');
            diceResultBlock.classList.add('dice-rolling');
        }
        setTimeout(() => {
            const result = game.rollDice();
            this.showDiceResult(result);
            if (diceBtn) {
                diceBtn.classList.remove('rolling');
                diceBtn.disabled = false;
            }
            if (diceResultBlock) {
                diceResultBlock.classList.remove('dice-rolling');
                diceResultBlock.classList.add('visible');
            }
        }, 700);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—Ä–æ—Å–∫–∞ –∫–æ—Å—Ç–µ–π
     * @param {Object} result - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—Ä–æ—Å–∫–∞
     */
    showDiceResult(result) {
        let diceResultBlock = document.querySelector('.dice-result');
        if (!diceResultBlock) {
            diceResultBlock = document.createElement('div');
            diceResultBlock.className = 'dice-result';
            document.body.appendChild(diceResultBlock);
        }
        diceResultBlock.innerHTML = `
            <div class="dice-numbers">
                <span class="dice">${result.dice1}</span>
                <span class="dice">${result.dice2}</span>
            </div>
        `;
        // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        setTimeout(() => {
            diceResultBlock.classList.add('visible');
        }, 50);
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ö–æ–¥
     */
    endTurn() {
        game.nextPlayer();
        this.updateGameUI();
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –∏–≥—Ä–µ
     */
    showJoinGameDialog() {
        const content = `
            <div class="join-game-form">
                <div class="form-group">
                    <label for="game-code">–ö–æ–¥ –∏–≥—Ä—ã:</label>
                    <input type="text" id="game-code" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–≥—Ä—ã">
                </div>
                <div class="form-group">
                    <label for="player-name">–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" id="player-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                </div>
            </div>
        `;
        
        this.showModal('–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ', content, () => {
            const gameCode = document.getElementById('game-code')?.value;
            const playerName = document.getElementById('player-name')?.value;
            
            if (gameCode && playerName) {
                this.joinGame(gameCode, playerName);
            }
        });
    }

    /**
     * –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ –∏–≥—Ä–µ
     * @param {string} gameCode - –∫–æ–¥ –∏–≥—Ä—ã
     * @param {string} playerName - –∏–º—è –∏–≥—Ä–æ–∫–∞
     */
    joinGame(gameCode, playerName) {
        // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä–µ
        this.showNotification('–§—É–Ω–∫—Ü–∏—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –∏–≥—Ä–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏', 'info');
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –ø—Ä–∞–≤–∏–ª
     */
    showRulesDialog() {
        const content = `
            <div class="rules-content">
                <h3>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h3>
                <div class="rules-section">
                    <h4>–¶–µ–ª—å –∏–≥—Ä—ã</h4>
                    <p>–°—Ç–∞—Ç—å —Å–∞–º—ã–º –±–æ–≥–∞—Ç—ã–º –∏–≥—Ä–æ–∫–æ–º, –ø–æ–∫—É–ø–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏ —Å–æ–±–∏—Ä–∞—è –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É.</p>
                </div>
                <div class="rules-section">
                    <h4>–•–æ–¥ –∏–≥—Ä—ã</h4>
                    <ul>
                        <li>–ë—Ä–æ—Å—å—Ç–µ –∫–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∏—à–∫—É</li>
                        <li>–ü–æ–∫—É–ø–∞–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏</li>
                        <li>–ü–ª–∞—Ç–∏—Ç–µ –∞—Ä–µ–Ω–¥—É –∑–∞ —á—É–∂–∏–µ —É—á–∞—Å—Ç–∫–∏</li>
                        <li>–°—Ç—Ä–æ–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è –∏ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏</li>
                    </ul>
                </div>
                <div class="rules-section">
                    <h4>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h4>
                    <ul>
                        <li>–†–µ–∑–∏–¥–µ–Ω—Ü–∏–∏ —É–¥–≤–∞–∏–≤–∞—é—Ç –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É</li>
                        <li>–ü–æ–≥–æ–¥–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</li>
                        <li>–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω—è—é—Ç —Ü–µ–Ω—ã</li>
                        <li>–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–∞—é—Ç –±–æ–Ω—É—Å—ã</li>
                    </ul>
                </div>
            </div>
        `;
        
        this.showModal('–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã', content);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Ç–æ—Ä–≥–æ–≤–ª–∏
     */
    showTradeDialog() {
        const currentPlayer = game.players[game.currentPlayerIndex];
        if (!currentPlayer) return;
        
        const content = `
            <div class="trade-dialog">
                <h3>–¢–æ—Ä–≥–æ–≤–ª—è</h3>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –æ–±–º–µ–Ω.</p>
                <div class="trade-form">
                    <select id="trade-partner">
                        ${game.players.filter(p => p.id !== currentPlayer.id && !p.bankrupt)
                            .map(p => `<option value="${p.id}">${p.name}</option>`).join('')}
                    </select>
                </div>
            </div>
        `;
        
        this.showModal('–¢–æ—Ä–≥–æ–≤–ª—è', content, () => {
            this.showNotification('–§—É–Ω–∫—Ü–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏', 'info');
        });
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –∑–∞–ª–æ–≥–∞
     */
    showMortgageDialog() {
        const currentPlayer = game.players[game.currentPlayerIndex];
        if (!currentPlayer) return;
        
        const mortgagedProperties = currentPlayer.getMortgagedProperties();
        const unmortgagedProperties = currentPlayer.getUnmortgagedProperties();
        
        const content = `
            <div class="mortgage-dialog">
                <h3>–ó–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h3>
                <div class="mortgage-options">
                    <div class="mortgage-section">
                        <h4>–ó–∞–ª–æ–∂–∏—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</h4>
                        ${unmortgagedProperties.map(pos => {
                            const cell = board.getCell(pos);
                            return `<div class="property-option">
                                <input type="radio" name="mortgage" value="${pos}">
                                <label>${cell.name} - ${formatMoney(cell.price / 2)}</label>
                            </div>`;
                        }).join('')}
                    </div>
                    <div class="mortgage-section">
                        <h4>–í—ã–∫—É–ø–∏—Ç—å –∏–∑ –∑–∞–ª–æ–≥–∞</h4>
                        ${mortgagedProperties.map(pos => {
                            const cell = board.getCell(pos);
                            return `<div class="property-option">
                                <input type="radio" name="unmortgage" value="${pos}">
                                <label>${cell.name} - ${formatMoney(cell.price / 2 * 1.1)}</label>
                            </div>`;
                        }).join('')}
                    </div>
                </div>
            </div>
        `;
        
        this.showModal('–ó–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏', content, () => {
            this.showNotification('–§—É–Ω–∫—Ü–∏—è –∑–∞–ª–æ–≥–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏', 'info');
        });
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
     */
    showBuildDialog() {
        const currentPlayer = game.players[game.currentPlayerIndex];
        if (!currentPlayer) return;
        
        const buildableProperties = currentPlayer.properties.filter(pos => {
            const cell = board.getCell(pos);
            return cell && !cell.mortgaged && board.hasColorMonopoly(cell.color, currentPlayer.id);
        });
        
        const content = `
            <div class="build-dialog">
                <h3>–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</h3>
                <div class="build-options">
                    ${buildableProperties.map(pos => {
                        const cell = board.getCell(pos);
                        return `<div class="build-option">
                            <h4>${cell.name}</h4>
                            <p>–£–ª—É—á—à–µ–Ω–∏—è: ${cell.improvements}/${CONFIG.IMPROVEMENT.MAX_LEVEL}</p>
                            <p>–°—Ç–æ–∏–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏—è: ${formatMoney(CONFIG.IMPROVEMENT.COST_PER_LEVEL)}</p>
                            <button onclick="ui.buildImprovement(${pos})" ${cell.improvements >= CONFIG.IMPROVEMENT.MAX_LEVEL ? 'disabled' : ''}>
                                –î–æ–±–∞–≤–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ
                            </button>
                        </div>`;
                    }).join('')}
                </div>
            </div>
        `;
        
        this.showModal('–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ', content);
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     */
    buildImprovement(position) {
        const currentPlayer = game.players[game.currentPlayerIndex];
        if (currentPlayer && currentPlayer.addImprovement(position)) {
            this.showNotification('–£–ª—É—á—à–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ!', 'success');
            this.updateGameUI();
        } else {
            this.showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ', 'error');
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –∞—É–∫—Ü–∏–æ–Ω–∞
     */
    showAuctionDialog() {
        const content = `
            <div class="auction-dialog">
                <h3>–ê—É–∫—Ü–∏–æ–Ω—ã</h3>
                <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω—ã.</p>
                <p>–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤.</p>
            </div>
        `;
        
        this.showModal('–ê—É–∫—Ü–∏–æ–Ω—ã', content);
    }

    /**
     * –ù–∞—á–∏–Ω–∞–µ—Ç –∏–≥—Ä—É
     */
    startGame() {
        // –ü–æ–ª—É—á–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        const playerCount = parseInt(document.getElementById('player-count')?.value || 4);
        const selectedTokens = document.querySelectorAll('.token-option.selected');
        
        if (selectedTokens.length !== playerCount) {
            this.showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤', 'error');
            return;
        }
        
        // –°–æ–∑–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤
        const playerData = [];
        for (let i = 0; i < playerCount; i++) {
            const token = selectedTokens[i]?.getAttribute('data-token') || 'matryoshka';
            playerData.push({
                id: i + 1,
                name: `–ò–≥—Ä–æ–∫ ${i + 1}`,
                token: `assets/tokens/${token}.png`
            });
        }
        
        // –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É
        game.startNewGame(playerData);
        this.showScreen('game-screen');
        this.updateGameUI();
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
     */
    updateGameUI() {
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
        game.players.forEach(player => {
            player.updateMoneyDisplay();
            player.updateTokenPosition();
        });
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
        game.updateCurrentPlayerDisplay();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
        game.updateWeatherDisplay();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
        game.updateEventsDisplay();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–∞—Ç–∞
        game.updateChatDisplay();
    }

    /**
     * –û—á–∏—â–∞–µ—Ç –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
     */
    cleanup() {
        this.eventListeners.forEach(({ element, event, handler }) => {
            element.removeEventListener(event, handler);
        });
        this.eventListeners = [];
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    showAchievementsModal() {
        try {
            if (!achievements) {
                this.showNotification('–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞', 'error');
                return;
            }
            const player = game?.players?.[game.currentPlayerIndex];
            let playerAchievements = player ? achievements.getPlayerAchievements(player) : [];
            if (!Array.isArray(playerAchievements)) throw new Error('Achievements data corrupted');
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
            const rarities = ['all', 'common', 'rare', 'epic', 'secret'];
            let selectedRarity = this._achievementsRarityFilter || 'all';
            if (selectedRarity !== 'all') {
                playerAchievements = playerAchievements.filter(a => a.rarity === selectedRarity);
            }
            const total = achievements.achievements.size;
            const unlocked = playerAchievements.filter(a => a.unlocked).length;
            const percent = total ? Math.round(unlocked / total * 100) : 0;
            const filterButtons = rarities.map(r => `<button class=\"btn secondary${selectedRarity === r ? ' active' : ''}\" data-rarity=\"${r}\">${r === 'all' ? '–í—Å–µ' : r.charAt(0).toUpperCase() + r.slice(1)}</button>`).join(' ');
            // SVG Pie chart
            const radius = 32, stroke = 8, circ = 2 * Math.PI * radius, offset = circ * (1 - percent / 100);
            const pieChart = `<svg width='80' height='80' style='display:block;margin:0 auto 8px;'><circle r='${radius}' cx='40' cy='40' fill='none' stroke='#eee' stroke-width='${stroke}'/><circle r='${radius}' cx='40' cy='40' fill='none' stroke='#4caf50' stroke-width='${stroke}' stroke-dasharray='${circ}' stroke-dashoffset='${offset}' style='transition:stroke-dashoffset 0.5s;'/><text x='40' y='46' text-anchor='middle' font-size='1.2em' fill='#333'>${percent}%</text></svg>`;
            const content = `
                <div class=\"achievements-modal\">
                    <h3>${getText('ACHIEVEMENTS_TITLE')}</h3>
                    <div style=\"margin-block-end:12px;\">
                        <div style=\"display:flex;align-items:center;flex-direction:column;\">${pieChart}</div>
                        <div style=\"font-size:0.95em; margin-block-end:4px;\">${unlocked} / ${total} (${percent}%) ${getText('ACHIEVEMENTS_UNLOCKED') || '—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ'}</div>
                        <div style=\"background:#eee; border-radius:6px; block-size:10px; inline-size:100%; overflow:hidden; margin-block-end:8px;\">
                            <div style=\"background:#4caf50; inline-size:${percent}%; inline-size:${percent}%; block-size:100%;\"></div>
                        </div>
                        <div class=\"achievements-filters\" style=\"margin-block-end:8px;\">${filterButtons}</div>
                    </div>
                    <ul class=\"achievements-list\">
                        ${playerAchievements.length ? playerAchievements.map(a => `
                            <li class=\"achievement ${a.unlocked ? 'unlocked' : 'locked'}\">\n                                <span class=\"icon\">${a.icon || 'üèÜ'}</span>\n                                <span class=\"title\">${a.title || a.name}</span>\n                                <span class=\"desc\">${a.message || a.description}</span>\n                                <span class=\"date\">${a.unlocked ? (new Date(a.unlockedAt)).toLocaleDateString() : ''}</span>\n                            </li>
                        `).join('') : `<li>${getText('ACHIEVEMENTS_NONE')}</li>`}
                    </ul>
                </div>
                <script>
                    document.querySelectorAll('.achievements-filters button').forEach(btn => {
                        btn.onclick = function() {
                            ui._achievementsRarityFilter = this.getAttribute('data-rarity');
                            ui.showAchievementsModal();
                        };
                    });
                </script>
            `;
            this.showModal(getText('ACHIEVEMENTS_TITLE'), content);
        } catch (e) {
            this.showNotification('–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π: ' + (e.message || e), 'error');
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
     */
    showStatisticsModal() {
        try {
            if (!statistics) {
                this.showNotification('–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞', 'error');
                return;
            }
            const player = game?.players?.[game.currentPlayerIndex];
            const stats = player ? statistics.getPlayerStats(player.id) : null;
            const globalStats = statistics.getGlobalStats ? statistics.getGlobalStats() : null;
            const records = statistics.getRecords ? statistics.getRecords() : null;
            const tabs = [
                { key: 'player', label: '–ò–≥—Ä–æ–∫–∞' },
                { key: 'global', label: '–ì–ª–æ–±–∞–ª—å–Ω–∞—è' },
                { key: 'records', label: '–†–µ–∫–æ—Ä–¥—ã' }
            ];
            let selectedTab = this._statisticsTab || 'player';
            const tabButtons = tabs.map(tab => `<button class="btn secondary${selectedTab === tab.key ? ' active' : ''}" data-tab="${tab.key}">${tab.label}</button>`).join(' ');
            let contentTab = '';
            if (selectedTab === 'player') {
                contentTab = stats ? `
                    <ul class="statistics-list">
                        <li>${getText('STATISTICS.GAMES_PLAYED')}: ${stats.gamesPlayed}</li>
                        <li>${getText('STATISTICS.GAMES_WON')}: ${stats.gamesWon}</li>
                        <li>${getText('STATISTICS.TOTAL_MONEY')}: ${stats.totalMoneyEarned}‚ÇΩ</li>
                        <li>${getText('STATISTICS.TOTAL_PROPERTIES')}: ${stats.totalPropertiesPurchased}</li>
                        <li>${getText('STATISTICS.TOTAL_TRADES')}: ${stats.totalTradesCompleted}</li>
                        <li>${getText('STATISTICS.TOTAL_AUCTIONS')}: ${stats.totalAuctionsWon}</li>
                        <li>${getText('STATISTICS.ACHIEVEMENTS_UNLOCKED')}: ${stats.totalAchievementsUnlocked || 0}</li>
                        <li>${getText('STATISTICS.TIME_PLAYED')}: ${stats.totalPlayTime || 0}</li>
                    </ul>
                ` : `<div>${getText('STATISTICS_NONE')}</div>`;
            } else if (selectedTab === 'global') {
                contentTab = globalStats ? `
                    <ul class="statistics-list">
                        <li>${getText('STATISTICS.GAMES_PLAYED')}: ${globalStats.totalGames}</li>
                        <li>${getText('STATISTICS.TOTAL_MONEY')}: ${globalStats.totalMoneyEarned}‚ÇΩ</li>
                        <li>${getText('STATISTICS.TOTAL_PROPERTIES')}: ${globalStats.totalPropertiesPurchased}</li>
                        <li>${getText('STATISTICS.TOTAL_TRADES')}: ${globalStats.totalTradesCompleted}</li>
                        <li>${getText('STATISTICS.TOTAL_AUCTIONS')}: ${globalStats.totalAuctionsWon}</li>
                        <li>${getText('STATISTICS.TIME_PLAYED')}: ${globalStats.totalPlayTime || 0}</li>
                    </ul>
                ` : `<div>${getText('STATISTICS_NONE')}</div>`;
            } else if (selectedTab === 'records') {
                contentTab = records ? `
                    <ul class="statistics-list">
                        ${Array.from(records.entries()).map(([key, rec]) => `<li>${getText('STATISTICS.'+key.toUpperCase()) || key}: ${rec.value} (${rec.player || ''})</li>`).join('')}
                    </ul>
                ` : `<div>${getText('STATISTICS_NONE')}</div>`;
            }
            const content = `
                <div class="statistics-modal">
                    <h3>${getText('STATISTICS_TITLE')}</h3>
                    <div class="statistics-tabs" style="margin-block-end:12px;">${tabButtons}</div>
                    <div class="statistics-tab-content">${contentTab}</div>
                </div>
                <script>
                    document.querySelectorAll('.statistics-tabs button').forEach(btn => {
                        btn.onclick = function() {
                            ui._statisticsTab = this.getAttribute('data-tab');
                            ui.showStatisticsModal();
                        };
                    });
                </script>
            `;
            this.showModal(getText('STATISTICS_TITLE'), content);
        } catch (e) {
            this.showNotification('–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: ' + (e.message || e), 'error');
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    showTournamentsModal() {
        try {
            if (!tournaments) {
                this.showNotification('–°–∏—Å—Ç–µ–º–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞', 'error');
                return;
            }
            const tabs = [
                { key: 'active', label: '–ê–∫—Ç–∏–≤–Ω—ã–µ' },
                { key: 'history', label: '–ò—Å—Ç–æ—Ä–∏—è' },
                { key: 'rankings', label: '–†–µ–π—Ç–∏–Ω–≥' }
            ];
            let selectedTab = this._tournamentsTab || 'active';
            const tabButtons = tabs.map(tab => `<button class="btn secondary${selectedTab === tab.key ? ' active' : ''}" data-tab="${tab.key}">${tab.label}</button>`).join(' ');
            let contentTab = '';
            if (selectedTab === 'active') {
                const activeTournaments = tournaments.getActiveTournaments();
                contentTab = `<ul class="tournaments-list">
                    ${activeTournaments.length ? activeTournaments.map(t => `
                        <li class="tournament">
                            <span class="name">${t.name}</span>
                            <span class="type">–¢–∏–ø: ${t.type}</span>
                            <span class="status">–°—Ç–∞—Ç—É—Å: ${t.status}</span>
                            <span class="players">–ò–≥—Ä–æ–∫–æ–≤: ${t.currentPlayers?.length || 0}/${t.maxPlayers}</span>
                        </li>
                    `).join('') : `<li>${getText('TOURNAMENTS_NONE')}</li>`}
                </ul>`;
            } else if (selectedTab === 'history') {
                const history = tournaments.getTournamentHistory ? tournaments.getTournamentHistory(10) : [];
                contentTab = `<ul class="tournaments-list">
                    ${history.length ? history.map(t => `
                        <li class="tournament">
                            <span class="name">${t.name}</span>
                            <span class="type">–¢–∏–ø: ${t.type}</span>
                            <span class="status">–°—Ç–∞—Ç—É—Å: ${t.status}</span>
                            <span class="players">–ò–≥—Ä–æ–∫–æ–≤: ${t.currentPlayers?.length || 0}/${t.maxPlayers}</span>
                            <span class="winner">–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${t.winner || '-'}</span>
                        </li>
                    `).join('') : `<li>–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤</li>`}
                </ul>`;
            } else if (selectedTab === 'rankings') {
                const rankings = tournaments.getRankings ? tournaments.getRankings(10) : [];
                contentTab = `<ul class="tournaments-list">
                    ${rankings.length ? rankings.map(r => `
                        <li class="tournament">
                            <span class="name">${r.playerName || r.player || '-'}</span>
                            <span class="type">–û—á–∫–∏: ${r.points || 0}</span>
                            <span class="status">–ü–æ–±–µ–¥: ${r.tournamentsWon || r.wins || 0}</span>
                        </li>
                    `).join('') : `<li>–ù–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞</li>`}
                </ul>`;
            }
            const content = `
                <div class="tournaments-modal">
                    <h3>${getText('TOURNAMENTS_TITLE')}</h3>
                    <div class="tournaments-tabs" style="margin-block-end:12px;">${tabButtons}</div>
                    <div class="tournaments-tab-content">${contentTab}</div>
                </div>
                <script>
                    document.querySelectorAll('.tournaments-tabs button').forEach(btn => {
                        btn.onclick = function() {
                            ui._tournamentsTab = this.getAttribute('data-tab');
                            ui.showTournamentsModal();
                        };
                    });
                </script>
            `;
            this.showModal(getText('TOURNAMENTS_TITLE'), content);
        } catch (e) {
            this.showNotification('–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–æ–≤: ' + (e.message || e), 'error');
        }
    }

    // DEBUG: —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ APP_CONFIG.DEBUG_MODE)
    addDebugTestButtons() {
        if (!(window.APP_CONFIG && APP_CONFIG.DEBUG_MODE)) return;
        const panel = document.createElement('div');
        panel.style.position = 'fixed';
        panel.style.bottom = '16px';
        panel.style.right = '16px';
        panel.style.zIndex = 30000;
        panel.style.background = '#fff';
        panel.style.border = '1px solid #ccc';
        panel.style.borderRadius = '8px';
        panel.style.padding = '8px 12px';
        panel.style.boxShadow = '0 2px 8px rgba(0,0,0,0.12)';
        panel.innerHTML = `
            <button onclick="if(window.achievements){achievements.showAchievementNotification({icon:'üèÜ',name:'–¢–µ—Å—Ç',description:'–¢–µ—Å—Ç–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ',points:10,rarity:'epic'})}">–¢–µ—Å—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ</button>
            <button onclick="if(window.ui){ui.showNotification('–¢–µ—Å—Ç —Ä–µ–∫–æ—Ä–¥ <button class=\\'notification-details\\' onclick=\\'window.ui.showStatisticsModal()\\'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>','success',5000)}">–¢–µ—Å—Ç —Ä–µ–∫–æ—Ä–¥</button>
            <button onclick="if(window.ui){ui.showNotification('–¢–µ—Å—Ç —Ç—É—Ä–Ω–∏—Ä <button class=\\'notification-details\\' onclick=\\'window.ui.showTournamentsModal()\\'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>','success',5000)}">–¢–µ—Å—Ç —Ç—É—Ä–Ω–∏—Ä</button>
        `;
        document.body.appendChild(panel);
    }
}

// –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä UI
const ui = new UI();

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
if (typeof module !== 'undefined' && module.exports) {
    module.exports = UI;
} 

/**
 * –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å—Ç—Ä–æ–∏—Ç –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É (40 –∫–ª–µ—Ç–æ–∫), —Å –ª–æ–≥–æ—Ç–∏–ø–∞–º–∏, —Ü–≤–µ—Ç–∞–º–∏ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
 */
function renderBoard() {
    const boardContainer = document.querySelector('.game-board');
    if (!boardContainer) return;
    boardContainer.innerHTML = '';

    // –°–æ–∑–¥–∞—ë–º —Å–µ—Ç–∫—É 11x11 (81 —è—á–µ–π–∫–∞, 40 –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É)
    const size = 11;
    const boardGrid = document.createElement('div');
    boardGrid.className = 'board-grid';
    boardGrid.style.display = 'grid';
    boardGrid.style.gridTemplateRows = `repeat(${size}, 1fr)`;
    boardGrid.style.gridTemplateColumns = `repeat(${size}, 1fr)`;
    boardGrid.style.width = '100%';
    boardGrid.style.height = '100%';
    boardGrid.style.position = 'relative';

    // –ú–∞—Å—Å–∏–≤ –ø–æ–∑–∏—Ü–∏–π –∫–ª–µ—Ç–æ–∫ –ø–æ –ø–µ—Ä–∏–º–µ—Ç—Ä—É (–ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ)
    const positions = [];
    for (let i = 0; i < size; i++) positions.push(i); // –≤–µ—Ä—Ö
    for (let i = 1; i < size - 1; i++) positions.push(size - 1 + i * (size - 1)); // –ø—Ä–∞–≤—ã–π
    for (let i = size - 2; i >= 0; i--) positions.push((size * (size - 1)) + i); // –Ω–∏–∑
    for (let i = size - 2; i > 0; i--) positions.push(i * size); // –ª–µ–≤—ã–π

    // –ü–æ–ª—É—á–∞–µ–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é —Ç—É–ª—Ç–∏–ø–æ–≤
    const tooltips = (CONFIG && CONFIG.TOOLTIPS) || {};

    // –î–ª—è –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ —Å–æ–∑–¥–∞—ë–º –∫–ª–µ—Ç–∫—É
    for (let idx = 0; idx < 40; idx++) {
        const cell = board.getCell(idx);
        const pos = positions[idx];
        const row = Math.floor(pos / size) + 1;
        const col = (pos % size) + 1;
        const cellDiv = document.createElement('div');
        cellDiv.classList.add('board-cell');
        cellDiv.style.gridRow = row;
        cellDiv.style.gridColumn = col;
        cellDiv.setAttribute('data-cell-idx', idx);
        cellDiv.setAttribute('data-cell-type', cell.type);

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç—É–ª—Ç–∏–ø –¥–ª—è —Ç–∏–ø–∞ –∫–ª–µ—Ç–∫–∏
        let tooltipText = '';
        switch (cell.type) {
            case 'property':
                tooltipText = `${tooltips.PROPERTY_INFO || '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å'}: ${cell.name}\n–¶–µ–Ω–∞: ${cell.price}‚ÇΩ\n–ê—Ä–µ–Ω–¥–∞: ${cell.rent || '-'}‚ÇΩ`;
                break;
            case 'chance':
                tooltipText = tooltips.CHANCE || '–®–∞–Ω—Å: –ø–æ–ª—É—á–∏—Ç–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ';
                break;
            case 'tax':
                tooltipText = tooltips.TAX || '–ù–∞–ª–æ–≥: –∑–∞–ø–ª–∞—Ç–∏—Ç–µ –Ω–∞–ª–æ–≥';
                break;
            case 'jail':
                tooltipText = tooltips.JAIL || '–¢—é—Ä—å–º–∞: –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–µ—â–µ–Ω–∏–µ';
                break;
            case 'free_parking':
                tooltipText = tooltips.FREE_PARKING || '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞';
                break;
            case 'go_to_jail':
                tooltipText = tooltips.GO_TO_JAIL || '–ò–¥–∏—Ç–µ –≤ —Ç—é—Ä—å–º—É!';
                break;
            case 'treasure':
                tooltipText = tooltips.TREASURE || '–ö–∞–∑–Ω–∞: –ø–æ–ª—É—á–∏—Ç–µ –∏–ª–∏ –ø–æ—Ç–µ—Ä—è–π—Ç–µ –¥–µ–Ω—å–≥–∏';
                break;
            case 'start':
                tooltipText = tooltips.START || '–°—Ç–∞—Ä—Ç: –ø–æ–ª—É—á–∏—Ç–µ –¥–µ–Ω—å–≥–∏ –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏';
                break;
            default:
                tooltipText = cell.name;
        }
        cellDiv.setAttribute('data-tooltip', tooltipText);

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–∫–æ–Ω–∫—É/—Ü–≤–µ—Ç –¥–ª—è —Ç—É–ª—Ç–∏–ø–∞
        let tooltipIcon = '';
        let tooltipColor = '';
        switch (cell.type) {
            case 'property':
                tooltipColor = cell.color || '#888';
                break;
            case 'chance':
                tooltipIcon = 'üé≤';
                break;
            case 'tax':
                tooltipIcon = 'üí∏';
                break;
            case 'jail':
                tooltipIcon = 'üöî';
                break;
            case 'free_parking':
                tooltipIcon = 'üÖøÔ∏è';
                break;
            case 'go_to_jail':
                tooltipIcon = '‚û°Ô∏èüöî';
                break;
            case 'treasure':
                tooltipIcon = 'üí∞';
                break;
            case 'start':
                tooltipIcon = 'üèÅ';
                break;
            default:
                tooltipIcon = '';
        }

        // –£–≥–ª–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏
        if ([0, 10, 20, 30].includes(idx)) {
            cellDiv.classList.add('corner-cell');
            cellDiv.innerHTML = `<div class="cell-content"><h3>${cell.name}</h3></div>`;
        } else if (cell.type === 'property') {
            // –ö–ª–µ—Ç–∫–∏-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
            cellDiv.classList.add('property-cell');
            if (cell.color) cellDiv.setAttribute('data-color', cell.color);
            let logoHtml = '';
            if (cell.logo) {
                if (typeof cell.logo === 'string' && (cell.logo.endsWith('.svg') || cell.logo.endsWith('.png'))) {
                    logoHtml = `<img src="${cell.logo}" alt="logo" class="property-logo-img">`;
                } else {
                    logoHtml = cell.logo;
                }
            }
            let ownerHtml = '';
            let improvementsHtml = '';
            // –¢–µ—Å—Ç–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (idx % 4)
            const ownerColors = ['#e53935', '#1e88e5', '#43a047', '#fbc02d'];
            if (cell.owner !== null && cell.owner !== undefined) {
                const color = ownerColors[cell.owner % ownerColors.length];
                ownerHtml = `<span class="property-owner" style="background:${color}"></span>`;
            }
            if (cell.improvements && cell.improvements > 0) {
                for (let i = 0; i < cell.improvements; i++) {
                    improvementsHtml += '<span class="property-improvement">üè†</span>';
                }
            }
            cellDiv.innerHTML = `
                <div class="cell-content">
                    <div class="property-color" style="background:${cell.color}"></div>
                    <div class="property-logo">${logoHtml}</div>
                    <h3>${cell.name}</h3>
                    <p class="price">${cell.price}‚ÇΩ</p>
                    <div class="property-extras">${ownerHtml}${improvementsHtml}</div>
                </div>
            `;
        } else if (cell.type === 'chance') {
            cellDiv.classList.add('chance-cell');
            cellDiv.innerHTML = `<div class="cell-content"><span>?</span><h3>–®–ê–ù–°</h3></div>`;
        } else if (cell.type === 'treasure') {
            cellDiv.classList.add('treasure-cell');
            cellDiv.innerHTML = `<div class="cell-content"><span>üí∞</span><h3>–ö–ê–ó–ù–ê</h3></div>`;
        } else if (cell.type === 'tax') {
            cellDiv.classList.add('tax-cell');
            cellDiv.innerHTML = `<div class="cell-content"><span>üí∏</span><h3>–ù–ê–õ–û–ì</h3></div>`;
        } else if (cell.type === 'jail') {
            cellDiv.classList.add('corner-cell', 'jail');
            cellDiv.innerHTML = `<div class="cell-content"><span>üöî</span><h3>–¢–Æ–†–¨–ú–ê</h3></div>`;
        } else if (cell.type === 'free_parking') {
            cellDiv.classList.add('corner-cell', 'free-parking');
            cellDiv.innerHTML = `<div class="cell-content"><span>üÖøÔ∏è</span><h3>–ü–ê–†–ö–û–í–ö–ê</h3></div>`;
        } else if (cell.type === 'go_to_jail') {
            cellDiv.classList.add('corner-cell', 'go-to-jail');
            cellDiv.innerHTML = `<div class="cell-content"><span>‚û°Ô∏èüöî</span><h3>–í –¢–Æ–†–¨–ú–£</h3></div>`;
        } else {
            cellDiv.innerHTML = `<div class="cell-content"><h3>${cell.name}</h3></div>`;
        }

        // –ù–∞–≤–µ—à–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        cellDiv.addEventListener('click', () => {
            let modalTitle = cell.name;
            let modalContent = '';
            switch (cell.type) {
                case 'property':
                    modalContent = `<div><b>–¶–µ–Ω–∞:</b> ${cell.price}‚ÇΩ<br><b>–ê—Ä–µ–Ω–¥–∞:</b> ${cell.rent || '-'}‚ÇΩ<br><b>–í–ª–∞–¥–µ–ª–µ—Ü:</b> ${cell.owner !== null ? '–ò–≥—Ä–æ–∫ ' + (cell.owner + 1) : '–Ω–µ—Ç'}<br><b>–£–ª—É—á—à–µ–Ω–∏—è:</b> ${cell.improvements || 0}</div>`;
                    if (cell.owner === null) {
                        modalContent += `<button class='btn primary' onclick='game.buyProperty(${idx})'>–ö—É–ø–∏—Ç—å</button>`;
                    } else if (cell.owner !== game.currentPlayerIndex) {
                        modalContent += `<button class='btn primary' onclick='game.payRent(${idx})'>–û–ø–ª–∞—Ç–∏—Ç—å –∞—Ä–µ–Ω–¥—É</button>`;
                    } else {
                        modalContent += `<button class='btn secondary' onclick='ui.showBuildDialog()'>–£–ª—É—á—à–∏—Ç—å</button>`;
                    }
                    break;
                case 'chance':
                    modalContent = `<div>–í—ã—Ç—è–Ω–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –®–∞–Ω—Å!</div>`;
                    break;
                case 'tax':
                    modalContent = `<div>–ó–∞–ø–ª–∞—Ç–∏—Ç–µ –Ω–∞–ª–æ–≥!</div>`;
                    break;
                case 'jail':
                    modalContent = `<div>–¢—é—Ä—å–º–∞. –ü—Ä–æ—Å—Ç–æ –ø–æ—Å–µ—â–µ–Ω–∏–µ.</div>`;
                    break;
                case 'free_parking':
                    modalContent = `<div>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞. –û—Ç–¥–æ—Ö–Ω–∏—Ç–µ!</div>`;
                    break;
                case 'go_to_jail':
                    modalContent = `<div>–í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å –≤ —Ç—é—Ä—å–º—É!</div>`;
                    break;
                case 'treasure':
                    modalContent = `<div>–ö–∞–∑–Ω–∞. –ü–æ–ª—É—á–∏—Ç–µ –∏–ª–∏ –ø–æ—Ç–µ—Ä—è–π—Ç–µ –¥–µ–Ω—å–≥–∏!</div>`;
                    break;
                case 'start':
                    modalContent = `<div>–°—Ç–∞—Ä—Ç. –ü–æ–ª—É—á–∏—Ç–µ –¥–µ–Ω—å–≥–∏ –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏!</div>`;
                    break;
                default:
                    modalContent = `<div>${cell.name}</div>`;
            }
            ui.showModal(modalTitle, modalContent);
        });

        // –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç—É–ª—Ç–∏–ø
        cellDiv.addEventListener('mouseenter', (e) => {
            showCustomTooltip(cellDiv, {
                text: tooltipText,
                type: cell.type,
                color: tooltipColor,
                icon: tooltipIcon
            }, e);
        });
        cellDiv.addEventListener('mouseleave', hideCustomTooltip);
        // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö ‚Äî –ø–æ —Ç–∞–ø—É
        cellDiv.addEventListener('touchstart', (e) => {
            showCustomTooltip(cellDiv, {
                text: tooltipText,
                type: cell.type,
                color: tooltipColor,
                icon: tooltipIcon
            }, e);
        });
        cellDiv.addEventListener('touchend', hideCustomTooltip);

        boardGrid.appendChild(cellDiv);
    }

    // –¶–µ–Ω—Ç—Ä –¥–æ—Å–∫–∏ ‚Äî –ø—É—Å—Ç–æ–π div –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏/–≤–∏–¥–∂–µ—Ç–æ–≤
    const centerDiv = document.createElement('div');
    centerDiv.className = 'board-center';
    centerDiv.style.gridRow = '2 / span 9';
    centerDiv.style.gridColumn = '2 / span 9';
    boardGrid.appendChild(centerDiv);

    boardContainer.appendChild(boardGrid);
}

// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç—É–ª—Ç–∏–ø
function showCustomTooltip(target, opts, event) {
    hideCustomTooltip();
    const tooltip = document.createElement('div');
    tooltip.className = 'custom-tooltip';
    let iconHtml = '';
    if (opts.type === 'property' && opts.color) {
        iconHtml = `<span class="custom-tooltip__color" style="background:${opts.color}"></span>`;
    } else if (opts.icon) {
        iconHtml = `<span class="custom-tooltip__icon">${opts.icon}</span>`;
    }
    tooltip.innerHTML = `${iconHtml}<span class="custom-tooltip__text">${opts.text.replace(/\n/g, '<br>')}</span>`;
    document.body.appendChild(tooltip);
    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    const rect = target.getBoundingClientRect();
    // –°–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–µ–º –≤–∏–¥–∏–º—ã–º, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –≤—ã—Å–æ—Ç—É
    tooltip.style.left = rect.left + window.scrollX + rect.width / 2 + 'px';
    tooltip.style.insetInlineStart = rect.left + window.scrollX + rect.width / 2 + 'px';
    tooltip.style.top = rect.top + window.scrollY - tooltip.offsetHeight - 8 + 'px';
    tooltip.style.insetBlockStart = rect.top + window.scrollY - tooltip.offsetHeight - 8 + 'px';
    tooltip.style.transform = 'translate(-50%, -100%)';
    tooltip.style.opacity = '1';
    // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –µ—Å–ª–∏ —Ç—É–ª—Ç–∏–ø –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —ç–∫—Ä–∞–Ω
    const tRect = tooltip.getBoundingClientRect();
    if (tRect.left < 4) {
        tooltip.style.left = (rect.left + window.scrollX + tRect.width / 2 + 8) + 'px';
        tooltip.style.insetInlineStart = (rect.left + window.scrollX + tRect.width / 2 + 8) + 'px';
    }
    if (tRect.right > window.innerWidth - 4) {
        tooltip.style.left = (rect.right + window.scrollX - tRect.width / 2 - 8) + 'px';
        tooltip.style.insetInlineStart = (rect.right + window.scrollX - tRect.width / 2 - 8) + 'px';
    }
    if (tRect.top < 4) {
        tooltip.style.top = (rect.top + window.scrollY + rect.height + 8) + 'px';
        tooltip.style.insetBlockStart = (rect.top + window.scrollY + rect.height + 8) + 'px';
        tooltip.style.transform = 'translate(-50%, 0)';
    }
    // –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö ‚Äî –∞–≤—Ç–æ–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
    if (event && event.type && event.type.startsWith('touch')) {
        setTimeout(hideCustomTooltip, 2000);
    }
}
function hideCustomTooltip() {
    const tooltip = document.querySelector('.custom-tooltip');
    if (tooltip) tooltip.remove();
} 
```

## js\tutorial.js
```
/**
 * –ú–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º—ã –æ–±—É—á–µ–Ω–∏—è –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫
 * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
 */

import { getText } from './localization.js';

class TutorialManager {
    constructor() {
        this.currentStep = 0;
        this.tutorials = new Map();
        this.activeTutorial = null;
        this.completedTutorials = new Set();
        this.tooltips = new Map();
        this.highlights = new Map();
        this.overlay = null;
        
        this.initializeTutorials();
        this.setupOverlay();
        this.loadProgress();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
     */
    initializeTutorials() {
        // –û—Å–Ω–æ–≤–Ω–æ–π —É—á–µ–±–Ω–∏–∫ –¥–ª—è –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
        this.tutorials.set('basic', {
            id: 'basic',
            name: '–û—Å–Ω–æ–≤—ã –∏–≥—Ä—ã',
            en_name: 'Game Basics',
            description: '–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –º–µ—Ö–∞–Ω–∏–∫–∏ –∏–≥—Ä—ã',
            en_description: 'Learn the basic rules and game mechanics',
            steps: [
                {
                    id: 'welcome',
                    title: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –†—É—Å—Å–∫—É—é –ú–æ–Ω–æ–ø–æ–ª–∏—é!',
                    en_title: 'Welcome to Russian Monopoly!',
                    content: '–≠—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—á–µ–±–Ω–∏–∫ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –æ—Å–≤–æ–∏—Ç—å –∏–≥—Ä—É. –ù–∞–∂–∏–º–∞–π—Ç–µ "–î–∞–ª–µ–µ" –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.',
                    en_content: 'This interactive tutorial will help you learn the game. Click "Next" to continue.',
                    target: null,
                    position: 'center',
                    action: 'next'
                },
                {
                    id: 'game_board',
                    title: '–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ',
                    en_title: 'Game Board',
                    content: '–≠—Ç–æ –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ —Å 40 –∫–ª–µ—Ç–∫–∞–º–∏. –ö–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.',
                    en_content: 'This is the game board with 40 cells. Each cell has its own features and opportunities.',
                    target: '.game-board',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'properties',
                    title: '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
                    en_title: 'Properties',
                    content: '–¶–≤–µ—Ç–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ - —ç—Ç–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∫—É–ø–∞—Ç—å –∏—Ö –∏ –ø–æ–ª—É—á–∞—Ç—å –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É.',
                    en_content: 'Colored cells are properties. You can buy them and collect rent.',
                    target: '.property-cell',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'chance_cards',
                    title: '–ö–∞—Ä—Ç–æ—á–∫–∏ –®–∞–Ω—Å',
                    en_title: 'Chance Cards',
                    content: '–ö–ª–µ—Ç–∫–∏ "–®–ê–ù–°" –¥–∞—é—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–º–æ—á—å –∏–ª–∏ –Ω–∞–≤—Ä–µ–¥–∏—Ç—å.',
                    en_content: '"CHANCE" cells provide random events that can help or harm you.',
                    target: '.chance-cell',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'treasure_cards',
                    title: '–ö–∞—Ä—Ç–æ—á–∫–∏ –ö–∞–∑–Ω–∞',
                    en_title: 'Treasure Cards',
                    content: '–ö–ª–µ—Ç–∫–∏ "–ö–ê–ó–ù–ê" –¥–∞—é—Ç –¥–µ–Ω—å–≥–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –±–æ–Ω—É—Å—ã.',
                    en_content: '"TREASURE" cells give money or other bonuses.',
                    target: '.treasure-cell',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'dice_rolling',
                    title: '–ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π',
                    en_title: 'Dice Rolling',
                    content: '–ù–∞–∂–º–∏—Ç–µ "–ë—Ä–æ—Å–∏—Ç—å –∫–æ—Å—Ç–∏" –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ –ø–æ–ª—é.',
                    en_content: 'Click "Roll Dice" to move around the board.',
                    target: '#dice-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'money_management',
                    title: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–Ω—å–≥–∞–º–∏',
                    en_title: 'Money Management',
                    content: '–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º–∏ –¥–µ–Ω—å–≥–∞–º–∏. –í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Å 2000‚ÇΩ.',
                    en_content: 'Keep track of your money. You start with 2000$.',
                    target: '.player-money',
                    position: 'left',
                    action: 'highlight'
                },
                {
                    id: 'buying_properties',
                    title: '–ü–æ–∫—É–ø–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',
                    en_title: 'Buying Properties',
                    content: '–ö–æ–≥–¥–∞ –≤—ã –ø–æ–ø–∞–¥–∞–µ—Ç–µ –Ω–∞ —Å–≤–æ–±–æ–¥–Ω—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –≤—ã –º–æ–∂–µ—Ç–µ –µ—ë –∫—É–ø–∏—Ç—å.',
                    en_content: 'When you land on an unowned property, you can buy it.',
                    target: '.property-cell',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'rent_payment',
                    title: '–ê—Ä–µ–Ω–¥–Ω–∞—è –ø–ª–∞—Ç–∞',
                    en_title: 'Rent Payment',
                    content: '–ï—Å–ª–∏ –≤—ã –ø–æ–ø–∞–¥–∞–µ—Ç–µ –Ω–∞ —á—É–∂—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –≤—ã –ø–ª–∞—Ç–∏—Ç–µ –∞—Ä–µ–Ω–¥—É.',
                    en_content: 'If you land on someone else\'s property, you pay rent.',
                    target: '.property-cell',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'improvements',
                    title: '–£–ª—É—á—à–µ–Ω–∏—è',
                    en_title: 'Improvements',
                    content: '–í—ã –º–æ–∂–µ—Ç–µ —É–ª—É—á—à–∞—Ç—å —Å–≤–æ—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, —É–≤–µ–ª–∏—á–∏–≤–∞—è –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É.',
                    en_content: 'You can improve your properties to increase rent.',
                    target: '.improvement-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'residences',
                    title: '–†–µ–∑–∏–¥–µ–Ω—Ü–∏–∏',
                    en_title: 'Residences',
                    content: '–†–µ–∑–∏–¥–µ–Ω—Ü–∏–∏ —É–¥–≤–∞–∏–≤–∞—é—Ç –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É. –°—Ç—Ä–æ–π—Ç–µ –∏—Ö –Ω–∞ —Å–≤–æ–∏—Ö —É—á–∞—Å—Ç–∫–∞—Ö.',
                    en_content: 'Residences double the rent. Build them on your properties.',
                    target: '.residence-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'auctions',
                    title: '–ê—É–∫—Ü–∏–æ–Ω—ã',
                    en_title: 'Auctions',
                    content: '–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ —Ö–æ—á–µ—Ç –ø–æ–∫—É–ø–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –æ–Ω–∞ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω.',
                    en_content: 'If a player doesn\'t want to buy a property, it goes to auction.',
                    target: '.auction-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'trading',
                    title: '–¢–æ—Ä–≥–æ–≤–ª—è',
                    en_title: 'Trading',
                    content: '–í—ã –º–æ–∂–µ—Ç–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –∏ –¥–µ–Ω—å–≥–∞–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏.',
                    en_content: 'You can trade properties and money with other players.',
                    target: '.trade-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'weather_effects',
                    title: '–ü–æ–≥–æ–¥–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã',
                    en_title: 'Weather Effects',
                    content: '–ü–æ–≥–æ–¥–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É –∏ –¥—Ä—É–≥–∏–µ –∞—Å–ø–µ–∫—Ç—ã –∏–≥—Ä—ã.',
                    en_content: 'Weather affects rent and other game aspects.',
                    target: '.weather-indicator',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'events',
                    title: '–°–æ–±—ã—Ç–∏—è',
                    en_title: 'Events',
                    content: '–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏–∑–º–µ–Ω—è—é—Ç —É—Å–ª–æ–≤–∏—è –∏–≥—Ä—ã.',
                    en_content: 'Economic and cultural events change game conditions.',
                    target: '.event-indicator',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'alliances',
                    title: '–ê–ª—å—è–Ω—Å—ã',
                    en_title: 'Alliances',
                    content: '–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∞–ª—å—è–Ω—Å—ã —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏ –¥–ª—è –≤–∑–∞–∏–º–Ω–æ–π –≤—ã–≥–æ–¥—ã.',
                    en_content: 'Form alliances with other players for mutual benefit.',
                    target: '.alliance-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'tournaments',
                    title: '–¢—É—Ä–Ω–∏—Ä—ã',
                    en_title: 'Tournaments',
                    content: '–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥.',
                    en_content: 'Participate in tournaments for additional rewards.',
                    target: '.tournament-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'achievements',
                    title: '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è',
                    en_title: 'Achievements',
                    content: '–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–∞.',
                    en_content: 'Complete achievements for bonuses and status.',
                    target: '.achievements-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'chat',
                    title: '–ß–∞—Ç',
                    en_title: 'Chat',
                    content: '–û–±—â–∞–π—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏ —á–µ—Ä–µ–∑ —á–∞—Ç.',
                    en_content: 'Communicate with other players through chat.',
                    target: '.chat-container',
                    position: 'left',
                    action: 'highlight'
                },
                {
                    id: 'settings',
                    title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
                    en_title: 'Settings',
                    content: '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–≥—Ä—É –ø–æ–¥ —Å–≤–æ–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è.',
                    en_content: 'Customize the game to your preferences.',
                    target: '.settings-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'complete',
                    title: '–û–±—É—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!',
                    en_title: 'Tutorial Complete!',
                    content: '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∏–∑—É—á–∏–ª–∏ –æ—Å–Ω–æ–≤—ã –∏–≥—Ä—ã. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –∏–≥—Ä–∞—Ç—å.',
                    en_content: 'Congratulations! You have learned the basics. You can now start playing.',
                    target: null,
                    position: 'center',
                    action: 'complete'
                }
            ]
        });

        // –£—á–µ–±–Ω–∏–∫ –ø–æ —Ç–æ—Ä–≥–æ–≤–ª–µ
        this.tutorials.set('trading', {
            id: 'trading',
            name: '–¢–æ—Ä–≥–æ–≤–ª—è',
            en_name: 'Trading',
            description: '–ò–∑—É—á–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É —Ç–æ—Ä–≥–æ–≤–ª–∏ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏',
            en_description: 'Learn the trading system between players',
            steps: [
                {
                    id: 'trade_intro',
                    title: '–í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–æ—Ä–≥–æ–≤–ª—é',
                    en_title: 'Trading Introduction',
                    content: '–¢–æ—Ä–≥–æ–≤–ª—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é –∏ –¥–µ–Ω—å–≥–∞–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏.',
                    en_content: 'Trading allows you to exchange properties and money with other players.',
                    target: '.trade-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'trade_offer',
                    title: '–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏',
                    en_title: 'Trade Offer',
                    content: '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–≥—Ä–æ–∫–∞ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ç–æ—Ä–≥–æ–≤–ª—é".',
                    en_content: 'Click on a player and select "Offer Trade".',
                    target: '.player-item',
                    position: 'right',
                    action: 'highlight'
                },
                {
                    id: 'trade_items',
                    title: '–ü—Ä–µ–¥–º–µ—Ç—ã —Ç–æ—Ä–≥–æ–≤–ª–∏',
                    en_title: 'Trade Items',
                    content: '–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç–µ –∏ —á—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ.',
                    en_content: 'Select what you offer and what you request.',
                    target: '.trade-items',
                    position: 'center',
                    action: 'highlight'
                },
                {
                    id: 'trade_accept',
                    title: '–ü—Ä–∏–Ω—è—Ç–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏',
                    en_title: 'Accepting Trades',
                    content: '–î—Ä—É–≥–æ–π –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –≤–∞—à–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.',
                    en_content: 'The other player can accept or reject your offer.',
                    target: '.trade-actions',
                    position: 'bottom',
                    action: 'highlight'
                }
            ]
        });

        // –£—á–µ–±–Ω–∏–∫ –ø–æ –∞—É–∫—Ü–∏–æ–Ω–∞–º
        this.tutorials.set('auctions', {
            id: 'auctions',
            name: '–ê—É–∫—Ü–∏–æ–Ω—ã',
            en_name: 'Auctions',
            description: '–ò–∑—É—á–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –∞—É–∫—Ü–∏–æ–Ω–æ–≤',
            en_description: 'Learn the auction system',
            steps: [
                {
                    id: 'auction_intro',
                    title: '–í–≤–µ–¥–µ–Ω–∏–µ –≤ –∞—É–∫—Ü–∏–æ–Ω—ã',
                    en_title: 'Auction Introduction',
                    content: '–ê—É–∫—Ü–∏–æ–Ω—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç, –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–∫—É–ø–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å.',
                    en_content: 'Auctions occur when a player refuses to buy a property.',
                    target: '.auction-modal',
                    position: 'center',
                    action: 'highlight'
                },
                {
                    id: 'auction_bidding',
                    title: '–°—Ç–∞–≤–∫–∏',
                    en_title: 'Bidding',
                    content: '–î–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫–∏ –≤—ã—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã.',
                    en_content: 'Make bids above the minimum amount.',
                    target: '.auction-bid',
                    position: 'bottom',
                    action: 'highlight'
                },
                {
                    id: 'auction_timer',
                    title: '–¢–∞–π–º–µ—Ä',
                    en_title: 'Timer',
                    content: '–£ –≤–∞—Å –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Å—Ç–∞–≤–∫–∏.',
                    en_content: 'You have limited time to bid.',
                    target: '.auction-timer',
                    position: 'top',
                    action: 'highlight'
                }
            ]
        });

        // –£—á–µ–±–Ω–∏–∫ –ø–æ –∞–ª—å—è–Ω—Å–∞–º
        this.tutorials.set('alliances', {
            id: 'alliances',
            name: '–ê–ª—å—è–Ω—Å—ã',
            en_name: 'Alliances',
            description: '–ò–∑—É—á–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –∞–ª—å—è–Ω—Å–æ–≤',
            en_description: 'Learn the alliance system',
            steps: [
                {
                    id: 'alliance_intro',
                    title: '–í–≤–µ–¥–µ–Ω–∏–µ –≤ –∞–ª—å—è–Ω—Å—ã',
                    en_title: 'Alliance Introduction',
                    content: '–ê–ª—å—è–Ω—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–≥—Ä–æ–∫–∞–º –æ–±—ä–µ–¥–∏–Ω—è—Ç—å—Å—è –¥–ª—è –≤–∑–∞–∏–º–Ω–æ–π –≤—ã–≥–æ–¥—ã.',
                    en_content: 'Alliances allow players to unite for mutual benefit.',
                    target: '.alliance-btn',
                    position: 'top',
                    action: 'highlight'
                },
                {
                    id: 'alliance_benefits',
                    title: '–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞–ª—å—è–Ω—Å–æ–≤',
                    en_title: 'Alliance Benefits',
                    content: '–£—á–∞—Å—Ç–Ω–∏–∫–∏ –∞–ª—å—è–Ω—Å–∞ –ø–æ–ª—É—á–∞—é—Ç –±–æ–Ω—É—Å—ã –∫ –∞—Ä–µ–Ω–¥–µ –∏ —Ç–æ—Ä–≥–æ–≤–ª–µ.',
                    en_content: 'Alliance members receive bonuses to rent and trading.',
                    target: '.alliance-benefits',
                    position: 'center',
                    action: 'highlight'
                }
            ]
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–≤–µ—Ä–ª–µ–π –¥–ª—è —É—á–µ–±–Ω–∏–∫–∞
     */
    setupOverlay() {
        this.overlay = document.createElement('div');
        this.overlay.className = 'tutorial-overlay';
        this.overlay.style.cssText = `
            position: fixed;
            top: 0; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
            inset-block-start: 0; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
            left: 0; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
            inset-inline-start: 0; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
            width: 100%; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
            inline-size: 100%; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
            height: 100%; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
            block-size: 100%; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            display: none;
            pointer-events: none;
        `;
        document.body.appendChild(this.overlay);
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
     */
    loadProgress() {
        try {
            const progress = JSON.parse(localStorage.getItem('tutorialProgress'));
            if (progress) {
                this.completedTutorials = new Set(progress.completed || []);
            }
        } catch (error) {
            console.warn('Failed to load tutorial progress:', error);
        }
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
     */
    saveProgress() {
        const progress = {
            completed: Array.from(this.completedTutorials),
            timestamp: Date.now()
        };
        localStorage.setItem('tutorialProgress', JSON.stringify(progress));
    }

    /**
     * –ù–∞—á–∏–Ω–∞–µ—Ç —É—á–µ–±–Ω–∏–∫
     * @param {string} tutorialId - ID —É—á–µ–±–Ω–∏–∫–∞
     */
    startTutorial(tutorialId) {
        const tutorial = this.tutorials.get(tutorialId);
        if (!tutorial) {
            console.warn(`Tutorial not found: ${tutorialId}`);
            return;
        }

        this.activeTutorial = tutorial;
        this.currentStep = 0;
        this.showStep();
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —à–∞–≥
     */
    showStep() {
        if (!this.activeTutorial) return;

        const step = this.activeTutorial.steps[this.currentStep];
        if (!step) {
            this.completeTutorial();
            return;
        }

        this.showTooltip(step);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É
     * @param {Object} step - —à–∞–≥ —É—á–µ–±–Ω–∏–∫–∞
     */
    showTooltip(step) {
        // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        this.hideAllTooltips();

        // –°–æ–∑–¥–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        const tooltip = document.createElement('div');
        tooltip.className = 'tutorial-tooltip';
        tooltip.innerHTML = `
            <div class="tutorial-header">
                <h3>${getText(`TUTORIAL.${step.title.toUpperCase()}`)}</h3>
                <button class="tutorial-close" onclick="tutorial.closeTutorial()">√ó</button>
            </div>
            <div class="tutorial-content">
                <p>${getText(`TUTORIAL.${step.content.toUpperCase()}`)}</p>
            </div>
            <div class="tutorial-footer">
                <span class="tutorial-progress">${this.currentStep + 1} / ${this.activeTutorial.steps.length}</span>
                <div class="tutorial-actions">
                    ${this.currentStep > 0 ? '<button class="tutorial-prev" onclick="tutorial.prevStep()">–ù–∞–∑–∞–¥</button>' : ''}
                    <button class="tutorial-next" onclick="tutorial.nextStep()">
                        ${this.currentStep === this.activeTutorial.steps.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ'}
                    </button>
                </div>
            </div>
        `;

        // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        this.positionTooltip(tooltip, step);

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–≤–µ—Ä–ª–µ–π
        this.overlay.style.display = 'block';
        this.overlay.appendChild(tooltip);

        // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Ü–µ–ª—å
        if (step.target) {
            this.highlightTarget(step.target);
        }

        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏
        this.addTooltipStyles();
    }

    /**
     * –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É
     * @param {HTMLElement} tooltip - –ø–æ–¥—Å–∫–∞–∑–∫–∞
     * @param {Object} step - —à–∞–≥ —É—á–µ–±–Ω–∏–∫–∞
     */
    positionTooltip(tooltip, step) {
        if (!step.target) {
            // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
            tooltip.style.position = 'absolute';
            tooltip.style.top = '50%'; /* fallback for logical property */
            tooltip.style.insetBlockStart = '50%';
            tooltip.style.left = '50%'; /* fallback for logical property */
            tooltip.style.insetInlineStart = '50%';
            tooltip.style.transform = 'translate(-50%, -50%)';
            return;
        }

        const target = document.querySelector(step.target);
        if (!target) return;

        const targetRect = target.getBoundingClientRect();
        const tooltipRect = tooltip.getBoundingClientRect();

        let top, left;

        switch (step.position) {
            case 'top':
                top = targetRect.top - tooltipRect.height - 10;
                left = targetRect.left + (targetRect.width - tooltipRect.width) / 2;
                break;
            case 'bottom':
                top = targetRect.bottom + 10;
                left = targetRect.left + (targetRect.width - tooltipRect.width) / 2;
                break;
            case 'left':
                top = targetRect.top + (targetRect.height - tooltipRect.height) / 2;
                left = targetRect.left - tooltipRect.width - 10;
                break;
            case 'right':
                top = targetRect.top + (targetRect.height - tooltipRect.height) / 2;
                left = targetRect.right + 10;
                break;
            default:
                top = targetRect.top + (targetRect.height - tooltipRect.height) / 2;
                left = targetRect.left + (targetRect.width - tooltipRect.width) / 2;
        }

        tooltip.style.position = 'absolute';
        tooltip.style.top = `${Math.max(10, top)}px`; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
        tooltip.style.insetBlockStart = `${Math.max(10, top)}px`; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
        tooltip.style.left = `${Math.max(10, left)}px`; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
        tooltip.style.insetInlineStart = `${Math.max(10, left)}px`; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
    }

    /**
     * –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª—å
     * @param {string} selector - —Å–µ–ª–µ–∫—Ç–æ—Ä —Ü–µ–ª–∏
     */
    highlightTarget(selector) {
        const targets = document.querySelectorAll(selector);
        targets.forEach(target => {
            target.classList.add('tutorial-highlight');
            this.highlights.set(target, true);
        });
    }

    /**
     * –°–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
     */
    hideAllTooltips() {
        const tooltips = document.querySelectorAll('.tutorial-tooltip');
        tooltips.forEach(tooltip => tooltip.remove());

        // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É
        this.highlights.forEach((highlighted, element) => {
            if (highlighted) {
                element.classList.remove('tutorial-highlight');
            }
        });
        this.highlights.clear();

        // –°–∫—Ä—ã–≤–∞–µ–º –æ–≤–µ—Ä–ª–µ–π
        this.overlay.style.display = 'none';
    }

    /**
     * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
     */
    nextStep() {
        if (!this.activeTutorial) return;

        this.currentStep++;
        if (this.currentStep >= this.activeTutorial.steps.length) {
            this.completeTutorial();
        } else {
            this.showStep();
        }
    }

    /**
     * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —à–∞–≥—É
     */
    prevStep() {
        if (!this.activeTutorial || this.currentStep <= 0) return;

        this.currentStep--;
        this.showStep();
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç —É—á–µ–±–Ω–∏–∫
     */
    completeTutorial() {
        if (!this.activeTutorial) return;

        this.completedTutorials.add(this.activeTutorial.id);
        this.saveProgress();
        this.hideAllTooltips();
        this.activeTutorial = null;

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
        this.showCompletionMessage();
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
     */
    showCompletionMessage() {
        const message = document.createElement('div');
        message.className = 'tutorial-completion';
        message.innerHTML = `
            <div class="completion-content">
                <h3>üéâ –£—á–µ–±–Ω–∏–∫ –∑–∞–≤–µ—Ä—à–µ–Ω!</h3>
                <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É—Å–ø–µ—à–Ω–æ –∏–∑—É—á–∏–ª–∏ –æ—Å–Ω–æ–≤—ã –∏–≥—Ä—ã.</p>
                <button onclick="this.parentElement.parentElement.remove()">–ü–æ–Ω—è—Ç–Ω–æ</button>
            </div>
        `;
        document.body.appendChild(message);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
        setTimeout(() => {
            if (message.parentElement) {
                message.remove();
            }
        }, 5000);
    }

    /**
     * –ó–∞–∫—Ä—ã–≤–∞–µ—Ç —É—á–µ–±–Ω–∏–∫
     */
    closeTutorial() {
        this.hideAllTooltips();
        this.activeTutorial = null;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à–µ–Ω –ª–∏ —É—á–µ–±–Ω–∏–∫
     * @param {string} tutorialId - ID —É—á–µ–±–Ω–∏–∫–∞
     * @returns {boolean} –∑–∞–≤–µ—Ä—à–µ–Ω –ª–∏
     */
    isTutorialCompleted(tutorialId) {
        return this.completedTutorials.has(tutorialId);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—á–µ–±–Ω–∏–∫–æ–≤
     * @returns {Array} —Å–ø–∏—Å–æ–∫ —É—á–µ–±–Ω–∏–∫–æ–≤
     */
    getAvailableTutorials() {
        return Array.from(this.tutorials.values());
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
     * @returns {Object} –ø—Ä–æ–≥—Ä–µ—Å—Å
     */
    getProgress() {
        return {
            completed: Array.from(this.completedTutorials),
            total: this.tutorials.size,
            percentage: Math.round((this.completedTutorials.size / this.tutorials.size) * 100)
        };
    }

    /**
     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
     */
    resetProgress() {
        this.completedTutorials.clear();
        this.saveProgress();
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç–∏–ª–∏ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫
     */
    addTooltipStyles() {
        if (document.getElementById('tutorial-styles')) return;

        const styles = document.createElement('style');
        styles.id = 'tutorial-styles';
        styles.textContent = `
            .tutorial-overlay {
                pointer-events: auto;
            }
            
            .tutorial-tooltip {
                background: var(--bg-secondary);
                border: 2px solid var(--primary-light);
                border-radius: var(--radius-lg);
                padding: 1.5rem;
                max-width: 400px; /* fallback for logical property */
                max-inline-size: 400px;
                box-shadow: var(--shadow-xl);
                z-index: 10000;
                pointer-events: auto;
            }
            
            .tutorial-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 1rem; /* fallback for logical property */
                margin-block-end: 1rem;
                padding-bottom: 0.5rem; /* fallback for logical property */
                padding-block-end: 0.5rem;
                border-bottom: 1px solid var(--bg-tertiary); /* fallback for logical property */
                border-block-end: 1px solid var(--bg-tertiary);
            }
            
            .tutorial-header h3 {
                margin: 0;
                color: var(--primary-light);
                font-size: 1.2rem;
            }
            
            .tutorial-close {
                background: none;
                border: none;
                color: var(--text-secondary);
                font-size: 1.5rem;
                cursor: pointer;
                padding: 0.25rem;
                border-radius: var(--radius-sm);
                transition: all var(--transition-normal);
            }
            
            .tutorial-close:hover {
                background: var(--bg-tertiary);
                color: var(--text-primary);
            }
            
            .tutorial-content {
                margin-bottom: 1rem; /* fallback for logical property */
                margin-block-end: 1rem;
            }
            
            .tutorial-content p {
                margin: 0;
                line-height: 1.5;
                color: var(--text-secondary);
            }
            
            .tutorial-footer {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .tutorial-progress {
                font-size: 0.9rem;
                color: var(--text-muted);
            }
            
            .tutorial-actions {
                display: flex;
                gap: 0.5rem;
            }
            
            .tutorial-prev,
            .tutorial-next {
                padding: 0.5rem 1rem;
                border: none;
                border-radius: var(--radius-md);
                cursor: pointer;
                transition: all var(--transition-normal);
                font-size: 0.9rem;
            }
            
            .tutorial-prev {
                background: var(--bg-tertiary);
                color: var(--text-secondary);
            }
            
            .tutorial-prev:hover {
                background: var(--bg-secondary);
                color: var(--text-primary);
            }
            
            .tutorial-next {
                background: var(--primary-light);
                color: white;
            }
            
            .tutorial-next:hover {
                background: var(--primary-color);
                transform: translateY(-1px);
            }
            
            .tutorial-highlight {
                position: relative;
                z-index: 10001;
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);
                animation: tutorial-pulse 2s ease-in-out infinite;
            }
            
            @keyframes tutorial-pulse {
                0%, 100% {
                    box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);
                }
                50% {
                    box-shadow: 0 0 30px rgba(59, 130, 246, 1);
                }
            }
            
            .tutorial-completion {
                position: fixed;
                top: 50%; /* fallback for logical property */
                inset-block-start: 50%;
                left: 50%; /* fallback for logical property */
                inset-inline-start: 50%;
                transform: translate(-50%, -50%);
                background: var(--bg-secondary);
                border: 2px solid var(--success-color);
                border-radius: var(--radius-xl);
                padding: 2rem;
                text-align: center;
                z-index: 10002;
                box-shadow: var(--shadow-2xl);
                animation: tutorial-completion-in 0.5s ease-out;
            }
            
            @keyframes tutorial-completion-in {
                from {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0.8);
                }
                to {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1);
                }
            }
            
            .completion-content h3 {
                margin: 0 0 1rem 0;
                color: var(--success-color);
                font-size: 1.5rem;
            }
            
            .completion-content p {
                margin: 0 0 1.5rem 0;
                color: var(--text-secondary);
            }
            
            .completion-content button {
                padding: 0.75rem 1.5rem;
                background: var(--success-color);
                color: white;
                border: none;
                border-radius: var(--radius-lg);
                cursor: pointer;
                transition: all var(--transition-normal);
            }
            
            .completion-content button:hover {
                background: var(--success-color);
                transform: translateY(-2px);
            }
        `;
        document.head.appendChild(styles);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
     * @param {string} elementId - ID —ç–ª–µ–º–µ–Ω—Ç–∞
     * @param {string} message - —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
     * @param {number} duration - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞
     */
    showContextualTooltip(elementId, message, duration = 3000) {
        const element = document.getElementById(elementId);
        if (!element) return;

        const tooltip = document.createElement('div');
        tooltip.className = 'contextual-tooltip';
        tooltip.textContent = message;
        tooltip.style.cssText = `
            position: absolute;
            background: var(--bg-secondary);
            border: 1px solid var(--primary-light);
            border-radius: var(--radius-md);
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            color: var(--text-primary);
            z-index: 10000;
            box-shadow: var(--shadow-lg);
            pointer-events: none;
            opacity: 0;
            transition: opacity var(--transition-normal);
        `;

        // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        const rect = element.getBoundingClientRect();
        tooltip.style.top = `${rect.bottom + 5}px`; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
        tooltip.style.insetBlockStart = `${rect.bottom + 5}px`; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */
        tooltip.style.left = `${rect.left + (rect.width - tooltip.offsetWidth) / 2}px`; /* —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ */
        tooltip.style.insetInlineStart = `${rect.left + (rect.width - tooltip.offsetWidth) / 2}px`; /* –ª–æ–≥–∏—á–µ—Å–∫–æ–µ */

        document.body.appendChild(tooltip);

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        setTimeout(() => {
            tooltip.style.opacity = '1';
        }, 100);

        // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        setTimeout(() => {
            tooltip.style.opacity = '0';
            setTimeout(() => {
                if (tooltip.parentElement) {
                    tooltip.remove();
                }
            }, 300);
        }, duration);
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
window.TutorialManager = TutorialManager; 
```

## js\tournaments.js
```
/**
 * –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞–º–∏
 * –û—Ä–≥–∞–Ω–∏–∑—É–µ—Ç —Ç—É—Ä–Ω–∏—Ä—ã, —É–ø—Ä–∞–≤–ª—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏ –Ω–∞–≥—Ä–∞–¥–∞–º–∏
 */

class TournamentSystem {
    constructor() {
        this.tournaments = new Map();
        this.activeTournaments = new Map();
        this.tournamentHistory = [];
        this.players = new Map();
        this.rankings = new Map();
        
        this.tournamentTypes = {
            'quick': { name: '–ë—ã—Å—Ç—Ä—ã–π —Ç—É—Ä–Ω–∏—Ä', duration: 30 * 60 * 1000, maxPlayers: 4 },
            'standard': { name: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä', duration: 60 * 60 * 1000, maxPlayers: 6 },
            'championship': { name: '–ß–µ–º–ø–∏–æ–Ω–∞—Ç', duration: 120 * 60 * 1000, maxPlayers: 8 },
            'elimination': { name: '–¢—É—Ä–Ω–∏—Ä –Ω–∞ –≤—ã–±—ã–≤–∞–Ω–∏–µ', duration: 90 * 60 * 1000, maxPlayers: 16 },
            'league': { name: '–õ–∏–≥–∞', duration: 7 * 24 * 60 * 60 * 1000, maxPlayers: 32 }
        };

        this.prizePools = {
            'quick': [1000, 500, 250],
            'standard': [2000, 1000, 500, 250],
            'championship': [5000, 2500, 1000, 500],
            'elimination': [3000, 1500, 750, 375],
            'league': [10000, 5000, 2500, 1000, 500]
        };

        this.setupEventListeners();
        this.loadData();
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
     */
    setupEventListeners() {
        document.addEventListener('gameEnd', (e) => {
            this.handleGameEnd(e.detail);
        });

        document.addEventListener('playerDisconnect', (e) => {
            this.handlePlayerDisconnect(e.detail);
        });
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ç—É—Ä–Ω–∏—Ä
     * @param {Object} config - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—É—Ä–Ω–∏—Ä–∞
     * @returns {Object} —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä
     */
    createTournament(config) {
        const tournamentId = `tournament_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
        const type = this.tournamentTypes[config.type] || this.tournamentTypes.standard;
        
        const tournament = {
            id: tournamentId,
            name: config.name || type.name,
            type: config.type,
            status: 'registration', // registration, active, finished
            startTime: null,
            endTime: null,
            duration: type.duration,
            maxPlayers: type.maxPlayers,
            minPlayers: config.minPlayers || 2,
            currentPlayers: [],
            games: [],
            brackets: [],
            standings: [],
            prizePool: this.prizePools[config.type] || this.prizePools.standard,
            entryFee: config.entryFee || 0,
            rules: config.rules || {},
            createdBy: config.createdBy,
            createdAt: Date.now(),
            settings: {
                weatherEnabled: config.weatherEnabled !== false,
                eventsEnabled: config.eventsEnabled !== false,
                tradingEnabled: config.tradingEnabled !== false,
                alliancesEnabled: config.alliancesEnabled !== false,
                startingMoney: config.startingMoney || 1500,
                maxTurns: config.maxTurns || 100
            }
        };

        this.tournaments.set(tournamentId, tournament);
        this.saveData();

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—É—Ä–Ω–∏—Ä–∞
        this.dispatchTournamentEvent('tournamentCreated', tournament);

        return tournament;
    }

    /**
     * –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–≥—Ä–æ–∫–∞ –≤ —Ç—É—Ä–Ω–∏—Ä–µ
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @returns {boolean} —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
     */
    registerPlayer(tournamentId, player) {
        const tournament = this.tournaments.get(tournamentId);
        if (!tournament || tournament.status !== 'registration') {
            return false;
        }

        if (tournament.currentPlayers.length >= tournament.maxPlayers) {
            return false;
        }

        if (tournament.currentPlayers.some(p => p.id === player.id)) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å
        if (tournament.entryFee > 0 && player.money < tournament.entryFee) {
            return false;
        }

        // –°–ø–∏—Å—ã–≤–∞–µ–º –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å
        if (tournament.entryFee > 0) {
            player.addMoney(-tournament.entryFee);
        }

        const tournamentPlayer = {
            id: player.id,
            name: player.name,
            registeredAt: Date.now(),
            gamesPlayed: 0,
            gamesWon: 0,
            totalMoney: 0,
            totalProperties: 0,
            eliminated: false,
            eliminatedAt: null,
            finalPosition: null
        };

        tournament.currentPlayers.push(tournamentPlayer);
        this.saveData();

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        this.dispatchTournamentEvent('playerRegistered', { tournament, player: tournamentPlayer });

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –Ω–∞—á–∞—Ç—å —Ç—É—Ä–Ω–∏—Ä
        if (tournament.currentPlayers.length >= tournament.minPlayers) {
            this.checkTournamentStart(tournamentId);
        }

        return true;
    }

    /**
     * –û—Ç–º–µ–Ω—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏–≥—Ä–æ–∫–∞
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {boolean} —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã
     */
    unregisterPlayer(tournamentId, playerId) {
        const tournament = this.tournaments.get(tournamentId);
        if (!tournament || tournament.status !== 'registration') {
            return false;
        }

        const playerIndex = tournament.currentPlayers.findIndex(p => p.id === playerId);
        if (playerIndex === -1) {
            return false;
        }

        const player = tournament.currentPlayers[playerIndex];
        tournament.currentPlayers.splice(playerIndex, 1);

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å
        if (tournament.entryFee > 0) {
            const gamePlayer = window.game?.players.find(p => p.id === playerId);
            if (gamePlayer) {
                gamePlayer.addMoney(tournament.entryFee);
            }
        }

        this.saveData();

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        this.dispatchTournamentEvent('playerUnregistered', { tournament, playerId });

        return true;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞–ª–∞ —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     */
    checkTournamentStart(tournamentId) {
        const tournament = this.tournaments.get(tournamentId);
        if (!tournament || tournament.status !== 'registration') {
            return;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ä—Ç —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
        if (tournament.currentPlayers.length >= tournament.minPlayers) {
            setTimeout(() => {
                this.startTournament(tournamentId);
            }, 30000);
        }
    }

    /**
     * –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     * @returns {boolean} —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞
     */
    startTournament(tournamentId) {
        const tournament = this.tournaments.get(tournamentId);
        if (!tournament || tournament.status !== 'registration') {
            return false;
        }

        if (tournament.currentPlayers.length < tournament.minPlayers) {
            return false;
        }

        tournament.status = 'active';
        tournament.startTime = Date.now();
        tournament.endTime = tournament.startTime + tournament.duration;

        // –°–æ–∑–¥–∞–µ–º —Ç—É—Ä–Ω–∏—Ä–Ω—É—é —Å–µ—Ç–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
        this.createTournamentBrackets(tournament);

        this.activeTournaments.set(tournamentId, tournament);
        this.saveData();

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ –Ω–∞—á–∞–ª–µ —Ç—É—Ä–Ω–∏—Ä–∞
        this.dispatchTournamentEvent('tournamentStarted', tournament);

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é –∏–≥—Ä—É
        this.startNextGame(tournamentId);

        return true;
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä–Ω—É—é —Å–µ—Ç–∫—É
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     */
    createTournamentBrackets(tournament) {
        const players = [...tournament.currentPlayers];
        const playerCount = players.length;

        switch (tournament.type) {
            case 'elimination':
                this.createEliminationBrackets(tournament, players);
                break;
            case 'league':
                this.createLeagueBrackets(tournament, players);
                break;
            default:
                this.createRoundRobinBrackets(tournament, players);
                break;
        }
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç —Å–µ—Ç–∫—É –Ω–∞ –≤—ã–±—ã–≤–∞–Ω–∏–µ
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Array} players - –∏–≥—Ä–æ–∫–∏
     */
    createEliminationBrackets(tournament, players) {
        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
        const shuffledPlayers = players.sort(() => Math.random() - 0.5);
        
        // –°–æ–∑–¥–∞–µ–º –ø–∞—Ä—ã –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
        const rounds = [];
        let currentRound = [];
        
        for (let i = 0; i < shuffledPlayers.length; i += 2) {
            if (i + 1 < shuffledPlayers.length) {
                currentRound.push({
                    gameId: null,
                    player1: shuffledPlayers[i],
                    player2: shuffledPlayers[i + 1],
                    winner: null,
                    status: 'pending'
                });
            } else {
                // –ù–µ—á–µ—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ - –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–æ—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
                currentRound.push({
                    gameId: null,
                    player1: shuffledPlayers[i],
                    player2: null,
                    winner: shuffledPlayers[i],
                    status: 'bye'
                });
            }
        }
        
        rounds.push(currentRound);
        tournament.brackets = rounds;
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –ª–∏–≥–æ–≤—É—é —Å–µ—Ç–∫—É
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Array} players - –∏–≥—Ä–æ–∫–∏
     */
    createLeagueBrackets(tournament, players) {
        const games = [];
        
        // –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –∏–≥—Ä–∞–µ—Ç —Å –∫–∞–∂–¥—ã–º
        for (let i = 0; i < players.length; i++) {
            for (let j = i + 1; j < players.length; j++) {
                games.push({
                    gameId: null,
                    player1: players[i],
                    player2: players[j],
                    winner: null,
                    status: 'pending',
                    round: Math.floor(games.length / Math.ceil(players.length / 2))
                });
            }
        }
        
        tournament.brackets = [games];
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –∫—Ä—É–≥–æ–≤—É—é —Å–µ—Ç–∫—É
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Array} players - –∏–≥—Ä–æ–∫–∏
     */
    createRoundRobinBrackets(tournament, players) {
        const games = [];
        const playerCount = players.length;
        
        // –°–æ–∑–¥–∞–µ–º –∏–≥—Ä—ã –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
        for (let i = 0; i < playerCount; i++) {
            for (let j = i + 1; j < playerCount; j++) {
                games.push({
                    gameId: null,
                    player1: players[i],
                    player2: players[j],
                    winner: null,
                    status: 'pending'
                });
            }
        }
        
        tournament.brackets = [games];
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –∏–≥—Ä—É –≤ —Ç—É—Ä–Ω–∏—Ä–µ
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     */
    startNextGame(tournamentId) {
        const tournament = this.activeTournaments.get(tournamentId);
        if (!tournament) return;

        const pendingGame = this.findPendingGame(tournament);
        if (!pendingGame) {
            this.finishTournament(tournamentId);
            return;
        }

        // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∏–≥—Ä—É
        const gameConfig = {
            players: [pendingGame.player1, pendingGame.player2].filter(p => p),
            settings: tournament.settings,
            tournamentId: tournamentId,
            gameId: pendingGame.gameId
        };

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É
        if (window.game) {
            window.game.startTournamentGame(gameConfig);
            pendingGame.status = 'active';
            pendingGame.gameId = gameConfig.gameId;
        }
    }

    /**
     * –ù–∞—Ö–æ–¥–∏—Ç –æ–∂–∏–¥–∞—é—â—É—é –∏–≥—Ä—É
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @returns {Object} –∏–≥—Ä–∞
     */
    findPendingGame(tournament) {
        for (const round of tournament.brackets) {
            for (const game of round) {
                if (game.status === 'pending') {
                    return game;
                }
            }
        }
        return null;
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã
     * @param {Object} gameData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
     */
    handleGameEnd(gameData) {
        if (!gameData.tournamentId) return;

        const tournament = this.activeTournaments.get(gameData.tournamentId);
        if (!tournament) return;

        // –ù–∞—Ö–æ–¥–∏–º –∏–≥—Ä—É –≤ —Ç—É—Ä–Ω–∏—Ä–µ
        const game = this.findGameInTournament(tournament, gameData.gameId);
        if (!game) return;

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã
        game.status = 'finished';
        game.winner = gameData.winner;

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–æ–≤
        this.updatePlayerStats(tournament, gameData);

        // –î–æ–±–∞–≤–ª—è–µ–º –∏–≥—Ä—É –≤ –∏—Å—Ç–æ—Ä–∏—é —Ç—É—Ä–Ω–∏—Ä–∞
        tournament.games.push({
            id: gameData.gameId,
            player1: game.player1,
            player2: game.player2,
            winner: gameData.winner,
            duration: gameData.duration,
            finalState: gameData.finalState,
            completedAt: Date.now()
        });

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä
        if (tournament.type === 'elimination') {
            this.handleEliminationGameEnd(tournament, game);
        } else {
            this.handleRoundRobinGameEnd(tournament, game);
        }

        this.saveData();

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é –∏–≥—Ä—É
        setTimeout(() => {
            this.startNextGame(gameData.tournamentId);
        }, 5000);
    }

    /**
     * –ù–∞—Ö–æ–¥–∏—Ç –∏–≥—Ä—É –≤ —Ç—É—Ä–Ω–∏—Ä–µ
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {string} gameId - ID –∏–≥—Ä—ã
     * @returns {Object} –∏–≥—Ä–∞
     */
    findGameInTournament(tournament, gameId) {
        for (const round of tournament.brackets) {
            for (const game of round) {
                if (game.gameId === gameId) {
                    return game;
                }
            }
        }
        return null;
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–æ–≤
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Object} gameData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
     */
    updatePlayerStats(tournament, gameData) {
        const player1 = tournament.currentPlayers.find(p => p.id === gameData.player1.id);
        const player2 = tournament.currentPlayers.find(p => p.id === gameData.player2.id);

        if (player1) {
            player1.gamesPlayed++;
            player1.totalMoney += gameData.player1.money;
            player1.totalProperties += gameData.player1.properties.length;
            if (gameData.winner.id === player1.id) {
                player1.gamesWon++;
            }
        }

        if (player2) {
            player2.gamesPlayed++;
            player2.totalMoney += gameData.player2.money;
            player2.totalProperties += gameData.player2.properties.length;
            if (gameData.winner.id === player2.id) {
                player2.gamesWon++;
            }
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã –≤ —Ç—É—Ä–Ω–∏—Ä–µ –Ω–∞ –≤—ã–±—ã–≤–∞–Ω–∏–µ
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Object} game - –∏–≥—Ä–∞
     */
    handleEliminationGameEnd(tournament, game) {
        // –ü–æ–º–µ—á–∞–µ–º –ø—Ä–æ–∏–≥—Ä–∞–≤—à–µ–≥–æ –∫–∞–∫ –≤—ã–±—ã–≤—à–µ–≥–æ
        const loser = game.winner.id === game.player1.id ? game.player2 : game.player1;
        if (loser) {
            const tournamentPlayer = tournament.currentPlayers.find(p => p.id === loser.id);
            if (tournamentPlayer) {
                tournamentPlayer.eliminated = true;
                tournamentPlayer.eliminatedAt = Date.now();
            }
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Å—Ç–∞–ª—Å—è –ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–≥—Ä–æ–∫
        const activePlayers = tournament.currentPlayers.filter(p => !p.eliminated);
        if (activePlayers.length === 1) {
            this.finishTournament(tournament.id);
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã –≤ –∫—Ä—É–≥–æ–≤–æ–º —Ç—É—Ä–Ω–∏—Ä–µ
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Object} game - –∏–≥—Ä–∞
     */
    handleRoundRobinGameEnd(tournament, game) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –∏–≥—Ä—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
        const pendingGames = this.findPendingGame(tournament);
        if (!pendingGames) {
            this.finishTournament(tournament.id);
        }
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     */
    finishTournament(tournamentId) {
        const tournament = this.activeTournaments.get(tournamentId);
        if (!tournament) return;

        tournament.status = 'finished';
        tournament.endTime = Date.now();

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
        const winners = this.determineWinners(tournament);

        // –í—ã–¥–∞–µ–º –ø—Ä–∏–∑—ã
        this.distributePrizes(tournament, winners);

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥–∏
        this.updateRankings(tournament, winners);

        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        this.tournamentHistory.push({
            id: tournament.id,
            name: tournament.name,
            type: tournament.type,
            startTime: tournament.startTime,
            endTime: tournament.endTime,
            players: tournament.currentPlayers.length,
            winners: winners,
            prizePool: tournament.prizePool
        });

        this.activeTournaments.delete(tournamentId);
        this.saveData();

        // UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–±–µ–¥–µ
        if (window.ui && winners && winners.length > 0) {
            const winnerNames = winners.map(w => w.name).join(', ');
            window.ui.showNotification(
                `–¢—É—Ä–Ω–∏—Ä –∑–∞–≤–µ—Ä—à—ë–Ω! –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${winnerNames}. <button class='notification-details' onclick='window.ui.showTournamentsModal()'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>`,
                'success', 7000
            );
        }

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—É—Ä–Ω–∏—Ä–∞
        this.dispatchTournamentEvent('tournamentFinished', { tournament, winners });
    }

    /**
     * –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @returns {Array} –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏
     */
    determineWinners(tournament) {
        const players = [...tournament.currentPlayers];

        // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–±–µ–¥, –∑–∞—Ç–µ–º –ø–æ –¥–µ–Ω—å–≥–∞–º
        players.sort((a, b) => {
            if (b.gamesWon !== a.gamesWon) {
                return b.gamesWon - a.gamesWon;
            }
            return b.totalMoney - a.totalMoney;
        });

        return players.slice(0, tournament.prizePool.length);
    }

    /**
     * –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–∑—ã
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Array} winners - –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏
     */
    distributePrizes(tournament, winners) {
        winners.forEach((winner, index) => {
            if (index < tournament.prizePool.length) {
                const prize = tournament.prizePool[index];
                winner.finalPosition = index + 1;
                winner.prize = prize;

                // –í—ã–¥–∞–µ–º –ø—Ä–∏–∑ –∏–≥—Ä–æ–∫—É
                const gamePlayer = window.game?.players.find(p => p.id === winner.id);
                if (gamePlayer) {
                    gamePlayer.addMoney(prize);
                }

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞
                if (!this.players.has(winner.id)) {
                    this.players.set(winner.id, {
                        id: winner.id,
                        name: winner.name,
                        tournamentsPlayed: 0,
                        tournamentsWon: 0,
                        totalPrizes: 0,
                        bestPosition: Infinity
                    });
                }

                const playerStats = this.players.get(winner.id);
                playerStats.tournamentsPlayed++;
                playerStats.totalPrizes += prize;
                playerStats.bestPosition = Math.min(playerStats.bestPosition, index + 1);

                if (index === 0) {
                    playerStats.tournamentsWon++;
                }
            }
        });
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     * @param {Array} winners - –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏
     */
    updateRankings(tournament, winners) {
        winners.forEach((winner, index) => {
            const points = this.calculateTournamentPoints(index + 1, tournament.type);
            
            if (!this.rankings.has(winner.id)) {
                this.rankings.set(winner.id, {
                    id: winner.id,
                    name: winner.name,
                    points: 0,
                    tournaments: 0
                });
            }

            const ranking = this.rankings.get(winner.id);
            ranking.points += points;
            ranking.tournaments++;
        });

        // –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–µ–π—Ç–∏–Ω–≥–∏
        this.sortRankings();
    }

    /**
     * –í—ã—á–∏—Å–ª—è–µ—Ç –æ—á–∫–∏ –∑–∞ –ø–æ–∑–∏—Ü–∏—é –≤ —Ç—É—Ä–Ω–∏—Ä–µ
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {string} tournamentType - —Ç–∏–ø —Ç—É—Ä–Ω–∏—Ä–∞
     * @returns {number} –æ—á–∫–∏
     */
    calculateTournamentPoints(position, tournamentType) {
        const basePoints = {
            'quick': 10,
            'standard': 25,
            'championship': 50,
            'elimination': 30,
            'league': 100
        };

        const multiplier = Math.max(1, 6 - position);
        return (basePoints[tournamentType] || 25) * multiplier;
    }

    /**
     * –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏
     */
    sortRankings() {
        const sortedRankings = Array.from(this.rankings.values())
            .sort((a, b) => b.points - a.points);

        sortedRankings.forEach((ranking, index) => {
            ranking.rank = index + 1;
        });
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
     */
    handlePlayerDisconnect(data) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã
        this.activeTournaments.forEach((tournament, tournamentId) => {
            const player = tournament.currentPlayers.find(p => p.id === data.playerId);
            if (player) {
                // –ü–æ–º–µ—á–∞–µ–º –∏–≥—Ä–æ–∫–∞ –∫–∞–∫ –≤—ã–±—ã–≤—à–µ–≥–æ
                player.eliminated = true;
                player.eliminatedAt = Date.now();

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç—É—Ä–Ω–∏—Ä
                const activePlayers = tournament.currentPlayers.filter(p => !p.eliminated);
                if (activePlayers.length <= 1) {
                    this.finishTournament(tournamentId);
                }
            }
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã
     * @returns {Array} –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã
     */
    getActiveTournaments() {
        return Array.from(this.activeTournaments.values());
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
     * @returns {Array} —Ç—É—Ä–Ω–∏—Ä—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
     */
    getRegistrationTournaments() {
        return Array.from(this.tournaments.values())
            .filter(t => t.status === 'registration');
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç—É—Ä–Ω–∏—Ä–æ–≤
     * @param {number} limit - –ª–∏–º–∏—Ç
     * @returns {Array} –∏—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    getTournamentHistory(limit = 10) {
        return this.tournamentHistory
            .sort((a, b) => b.endTime - a.endTime)
            .slice(0, limit);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∏
     * @param {number} limit - –ª–∏–º–∏—Ç
     * @returns {Array} —Ä–µ–π—Ç–∏–Ω–≥–∏
     */
    getRankings(limit = 10) {
        return Array.from(this.rankings.values())
            .sort((a, b) => b.points - a.points)
            .slice(0, limit);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞ –≤ —Ç—É—Ä–Ω–∏—Ä–∞—Ö
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getPlayerTournamentStats(playerId) {
        const playerStats = this.players.get(playerId);
        const ranking = this.rankings.get(playerId);
        const tournaments = this.tournamentHistory.filter(t => 
            t.winners.some(w => w.id === playerId)
        );

        return {
            stats: playerStats || {
                tournamentsPlayed: 0,
                tournamentsWon: 0,
                totalPrizes: 0,
                bestPosition: Infinity
            },
            ranking: ranking || { points: 0, rank: Infinity },
            recentTournaments: tournaments.slice(0, 5)
        };
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {string} eventType - —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
     */
    dispatchTournamentEvent(eventType, data) {
        const event = new CustomEvent(`tournament_${eventType}`, {
            detail: { ...data, timestamp: Date.now() }
        });
        document.dispatchEvent(event);
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    saveData() {
        const data = {
            tournaments: Array.from(this.tournaments.entries()),
            activeTournaments: Array.from(this.activeTournaments.entries()),
            tournamentHistory: this.tournamentHistory,
            players: Array.from(this.players.entries()),
            rankings: Array.from(this.rankings.entries())
        };
        localStorage.setItem('tournamentData', JSON.stringify(data));
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    loadData() {
        try {
            const data = JSON.parse(localStorage.getItem('tournamentData'));
            if (data) {
                this.tournaments = new Map(data.tournaments || []);
                this.activeTournaments = new Map(data.activeTournaments || []);
                this.tournamentHistory = data.tournamentHistory || [];
                this.players = new Map(data.players || []);
                this.rankings = new Map(data.rankings || []);
            }
        } catch (error) {
            console.warn('Failed to load tournament data:', error);
        }
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
window.TournamentSystem = TournamentSystem; 
```

## js\storage.test.js
```
import { saveToStorage, loadFromStorage, removeFromStorage, isStorageSupported } from './storage.js';

describe('storage', () => {
  const key = 'test-key';
  const value = { a: 1, b: 'test' };

  beforeEach(() => {
    localStorage.clear();
  });

  test('isStorageSupported', () => {
    expect(isStorageSupported()).toBe(true);
  });

  test('saveToStorage and loadFromStorage', () => {
    saveToStorage(key, value);
    const loaded = loadFromStorage(key);
    expect(loaded).toEqual(value);
  });

  test('removeFromStorage', () => {
    saveToStorage(key, value);
    removeFromStorage(key);
    expect(loadFromStorage(key)).toBeNull();
  });
}); 
```

## js\storage.js
```
// –†–∞–±–æ—Ç–∞ —Å localStorage
export const saveToStorage = (key, data) => {
    try {
        localStorage.setItem(key, JSON.stringify(data));
    } catch (error) {
        console.error('Error saving to localStorage:', error);
    }
};

export const loadFromStorage = (key) => {
    try {
        const data = localStorage.getItem(key);
        return data ? JSON.parse(data) : null;
    } catch (error) {
        console.error('Error loading from localStorage:', error);
        return null;
    }
};

export const removeFromStorage = (key) => {
    try {
        localStorage.removeItem(key);
    } catch (error) {
        console.error('Error removing from localStorage:', error);
    }
};

export const isStorageSupported = () => {
    try {
        const test = 'test';
        localStorage.setItem(test, test);
        localStorage.removeItem(test);
        return true;
    } catch (error) {
        return false;
    }
}; 
```

## js\statistics.js
```
/**
 * –ú–æ–¥—É–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
 * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ —Ä–µ–∫–æ—Ä–¥—ã
 */

class StatisticsSystem {
    constructor() {
        this.stats = new Map();
        this.globalStats = {};
        this.playerStats = new Map();
        this.gameHistory = [];
        this.records = new Map();
        
        this.initializeStats();
        this.setupEventListeners();
        this.loadData();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     */
    initializeStats() {
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        this.globalStats = {
            totalGames: 0,
            totalPlayers: 0,
            totalPlayTime: 0,
            totalMoneyEarned: 0,
            totalPropertiesPurchased: 0,
            totalResidencesBuilt: 0,
            totalTradesCompleted: 0,
            totalAuctionsWon: 0,
            totalAlliancesFormed: 0,
            totalTournamentsHeld: 0,
            averageGameDuration: 0,
            averagePlayersPerGame: 0,
            mostPopularProperty: null,
            mostActivePlayer: null,
            richestPlayer: null,
            bestTrader: null,
            tournamentChampion: null
        };

        // –†–µ–∫–æ—Ä–¥—ã
        this.records = new Map([
            ['highestMoney', { value: 0, player: null, date: null }],
            ['mostProperties', { value: 0, player: null, date: null }],
            ['mostResidences', { value: 0, player: null, date: null }],
            ['longestGame', { value: 0, player: null, date: null }],
            ['fastestWin', { value: Infinity, player: null, date: null }],
            ['mostTrades', { value: 0, player: null, date: null }],
            ['mostAuctionsWon', { value: 0, player: null, date: null }],
            ['mostTournamentsWon', { value: 0, player: null, date: null }],
            ['highestRent', { value: 0, player: null, date: null }],
            ['mostImprovements', { value: 0, player: null, date: null }]
        ]);
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
     */
    setupEventListeners() {
        document.addEventListener('gameEvent', (e) => {
            this.handleGameEvent(e.detail);
        });

        document.addEventListener('gameStart', (e) => {
            this.onGameStart(e.detail);
        });

        document.addEventListener('gameEnd', (e) => {
            this.onGameEnd(e.detail);
        });
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
     * @param {Object} event - —Å–æ–±—ã—Ç–∏–µ –∏–≥—Ä—ã
     */
    handleGameEvent(event) {
        switch (event.type) {
            case 'money_earned':
                this.trackMoneyEarned(event.player, event.amount);
                break;
            case 'property_purchased':
                this.trackPropertyPurchase(event.player, event.property);
                break;
            case 'residence_built':
                this.trackResidenceBuilt(event.player, event.property);
                break;
            case 'trade_completed':
                this.trackTradeCompleted(event.player, event.trade);
                break;
            case 'auction_won':
                this.trackAuctionWon(event.player, event.auction);
                break;
            case 'alliance_formed':
                this.trackAllianceFormed(event.player, event.alliance);
                break;
            case 'tournament_won':
                this.trackTournamentWon(event.player, event.tournament);
                break;
            case 'rent_paid':
                this.trackRentPaid(event.player, event.amount);
                break;
            case 'property_improved':
                this.trackPropertyImproved(event.player, event.property);
                break;
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞—á–∞–ª–æ –∏–≥—Ä—ã
     * @param {Object} gameData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
     */
    onGameStart(gameData) {
        this.globalStats.totalGames++;
        this.globalStats.totalPlayers += gameData.players.length;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
        gameData.players.forEach(player => {
            if (!this.playerStats.has(player.id)) {
                this.playerStats.set(player.id, this.createPlayerStats(player));
            }
        });

        // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞—á–∞–ª–æ –∏–≥—Ä—ã
        this.gameHistory.push({
            id: gameData.id,
            startTime: Date.now(),
            players: gameData.players.map(p => ({ id: p.id, name: p.name })),
            settings: gameData.settings
        });
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã
     * @param {Object} gameData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
     */
    onGameEnd(gameData) {
        const gameRecord = this.gameHistory.find(g => g.id === gameData.id);
        if (gameRecord) {
            gameRecord.endTime = Date.now();
            gameRecord.duration = gameRecord.endTime - gameRecord.startTime;
            gameRecord.winner = gameData.winner;
            gameRecord.finalState = gameData.finalState;

            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            this.globalStats.totalPlayTime += gameRecord.duration;
            this.globalStats.averageGameDuration = 
                this.globalStats.totalPlayTime / this.globalStats.totalGames;
            this.globalStats.averagePlayersPerGame = 
                this.globalStats.totalPlayers / this.globalStats.totalGames;

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            if (gameData.winner) {
                this.updateWinnerStats(gameData.winner, gameRecord);
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥—ã
            this.checkRecords(gameData);
        }
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –∏–≥—Ä–æ–∫–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
     */
    createPlayerStats(player) {
        return {
            id: player.id,
            name: player.name,
            gamesPlayed: 0,
            gamesWon: 0,
            totalPlayTime: 0,
            totalMoneyEarned: 0,
            totalMoneySpent: 0,
            totalPropertiesPurchased: 0,
            totalPropertiesSold: 0,
            totalResidencesBuilt: 0,
            totalTradesCompleted: 0,
            totalTradesValue: 0,
            totalAuctionsWon: 0,
            totalAuctionsValue: 0,
            totalAlliancesFormed: 0,
            totalTournamentsWon: 0,
            totalRentEarned: 0,
            totalRentPaid: 0,
            totalImprovementsBuilt: 0,
            highestMoney: 0,
            mostProperties: 0,
            mostResidences: 0,
            longestGame: 0,
            fastestWin: Infinity,
            averageGameDuration: 0,
            winRate: 0,
            favoriteProperties: new Map(),
            tradingPartners: new Map(),
            alliancePartners: new Map(),
            achievements: [],
            records: [],
            lastPlayed: null,
            createdAt: Date.now()
        };
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–µ–Ω—å–≥–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {number} amount - —Å—É–º–º–∞
     */
    trackMoneyEarned(player, amount) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalMoneyEarned += amount;
            stats.highestMoney = Math.max(stats.highestMoney, player.money);
        }
        this.globalStats.totalMoneyEarned += amount;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–∫—É–ø–∫—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} property - –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
     */
    trackPropertyPurchase(player, property) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalPropertiesPurchased++;
            stats.mostProperties = Math.max(stats.mostProperties, player.properties.length);
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –ª—é–±–∏–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
            const propertyName = property.name;
            stats.favoriteProperties.set(propertyName, 
                (stats.favoriteProperties.get(propertyName) || 0) + 1);
        }
        this.globalStats.totalPropertiesPurchased++;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–π–∫—É —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} property - –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
     */
    trackResidenceBuilt(player, property) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalResidencesBuilt++;
            stats.mostResidences = Math.max(stats.mostResidences, 
                player.properties.filter(p => p.hasResidence).length);
        }
        this.globalStats.totalResidencesBuilt++;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é —Å–¥–µ–ª–∫—É
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} trade - —Å–¥–µ–ª–∫–∞
     */
    trackTradeCompleted(player, trade) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalTradesCompleted++;
            stats.totalTradesValue += trade.value;
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
            const partnerId = trade.partner.id;
            stats.tradingPartners.set(partnerId, 
                (stats.tradingPartners.get(partnerId) || 0) + 1);
        }
        this.globalStats.totalTradesCompleted++;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã–π –∞—É–∫—Ü–∏–æ–Ω
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} auction - –∞—É–∫—Ü–∏–æ–Ω
     */
    trackAuctionWon(player, auction) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalAuctionsWon++;
            stats.totalAuctionsValue += auction.finalPrice;
        }
        this.globalStats.totalAuctionsWon++;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∞–ª—å—è–Ω—Å
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} alliance - –∞–ª—å—è–Ω—Å
     */
    trackAllianceFormed(player, alliance) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalAlliancesFormed++;
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ –∞–ª—å—è–Ω—Å–∞–º
            alliance.members.forEach(member => {
                if (member.id !== player.id) {
                    stats.alliancePartners.set(member.id, 
                        (stats.alliancePartners.get(member.id) || 0) + 1);
                }
            });
        }
        this.globalStats.totalAlliancesFormed++;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} tournament - —Ç—É—Ä–Ω–∏—Ä
     */
    trackTournamentWon(player, tournament) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalTournamentsWon++;
        }
        this.globalStats.totalTournamentsHeld++;
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —É–ø–ª–∞—á–µ–Ω–Ω—É—é –∞—Ä–µ–Ω–¥—É
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {number} amount - —Å—É–º–º–∞
     */
    trackRentPaid(player, amount) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalRentPaid += amount;
        }
    }

    /**
     * –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} property - –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
     */
    trackPropertyImproved(player, property) {
        const stats = this.playerStats.get(player.id);
        if (stats) {
            stats.totalImprovementsBuilt++;
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
     * @param {Player} winner - –ø–æ–±–µ–¥–∏—Ç–µ–ª—å
     * @param {Object} gameRecord - –∑–∞–ø–∏—Å—å –∏–≥—Ä—ã
     */
    updateWinnerStats(winner, gameRecord) {
        const stats = this.playerStats.get(winner.id);
        if (stats) {
            stats.gamesWon++;
            stats.winRate = (stats.gamesWon / stats.gamesPlayed) * 100;
            stats.fastestWin = Math.min(stats.fastestWin, gameRecord.duration);
            stats.lastPlayed = Date.now();
        }
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∫–æ—Ä–¥—ã
     * @param {Object} gameData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
     */
    checkRecords(gameData) {
        gameData.players.forEach(player => {
            const stats = this.playerStats.get(player.id);
            if (!stats) return;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ –¥–µ–Ω—å–≥–∞–º
            if (player.money > this.records.get('highestMoney').value) {
                this.records.set('highestMoney', {
                    value: player.money,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
            if (player.properties.length > this.records.get('mostProperties').value) {
                this.records.set('mostProperties', {
                    value: player.properties.length,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—è–º
            const residences = player.properties.filter(p => p.hasResidence).length;
            if (residences > this.records.get('mostResidences').value) {
                this.records.set('mostResidences', {
                    value: residences,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ —Å–¥–µ–ª–∫–∞–º
            if (stats.totalTradesCompleted > this.records.get('mostTrades').value) {
                this.records.set('mostTrades', {
                    value: stats.totalTradesCompleted,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ –∞—É–∫—Ü–∏–æ–Ω–∞–º
            if (stats.totalAuctionsWon > this.records.get('mostAuctionsWon').value) {
                this.records.set('mostAuctionsWon', {
                    value: stats.totalAuctionsWon,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
                if (window.ui) {
                    window.ui.showNotification(
                        `–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥: –∞—É–∫—Ü–∏–æ–Ω–æ–≤ –≤—ã–∏–≥—Ä–∞–Ω–æ ‚Äî ${stats.totalAuctionsWon}! <button class='notification-details' onclick='window.ui.showStatisticsModal()'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>`,
                        'success', 6000
                    );
                }
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ —Ç—É—Ä–Ω–∏—Ä–∞–º
            if (stats.totalTournamentsWon > this.records.get('mostTournamentsWon').value) {
                this.records.set('mostTournamentsWon', {
                    value: stats.totalTournamentsWon,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
                if (window.ui) {
                    window.ui.showNotification(
                        `–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥: —Ç—É—Ä–Ω–∏—Ä–æ–≤ –≤—ã–∏–≥—Ä–∞–Ω–æ ‚Äî ${stats.totalTournamentsWon}! <button class='notification-details' onclick='window.ui.showStatisticsModal()'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>`,
                        'success', 6000
                    );
                }
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∫–æ—Ä–¥ –ø–æ —É–ª—É—á—à–µ–Ω–∏—è–º
            if (stats.totalImprovementsBuilt > this.records.get('mostImprovements').value) {
                this.records.set('mostImprovements', {
                    value: stats.totalImprovementsBuilt,
                    player: { id: player.id, name: player.name },
                    date: Date.now()
                });
                if (window.ui) {
                    window.ui.showNotification(
                        `–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥: —É–ª—É—á—à–µ–Ω–∏–π –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ ‚Äî ${stats.totalImprovementsBuilt}! <button class='notification-details' onclick='window.ui.showStatisticsModal()'>–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>`,
                        'success', 6000
                    );
                }
            }
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
     */
    getPlayerStats(playerId) {
        return this.playerStats.get(playerId);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     * @returns {Object} –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getGlobalStats() {
        return { ...this.globalStats };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ä–µ–∫–æ—Ä–¥—ã
     * @returns {Map} —Ä–µ–∫–æ—Ä–¥—ã
     */
    getRecords() {
        return new Map(this.records);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—é
     * @param {string} criteria - –∫—Ä–∏—Ç–µ—Ä–∏–π
     * @param {number} limit - –ª–∏–º–∏—Ç
     * @returns {Array} —Ç–æ–ø –∏–≥—Ä–æ–∫–æ–≤
     */
    getTopPlayers(criteria, limit = 10) {
        const players = Array.from(this.playerStats.values());
        
        switch (criteria) {
            case 'wins':
                return players
                    .sort((a, b) => b.gamesWon - a.gamesWon)
                    .slice(0, limit);
            case 'winRate':
                return players
                    .filter(p => p.gamesPlayed > 0)
                    .sort((a, b) => b.winRate - a.winRate)
                    .slice(0, limit);
            case 'money':
                return players
                    .sort((a, b) => b.highestMoney - a.highestMoney)
                    .slice(0, limit);
            case 'properties':
                return players
                    .sort((a, b) => b.mostProperties - a.mostProperties)
                    .slice(0, limit);
            case 'residences':
                return players
                    .sort((a, b) => b.mostResidences - a.mostResidences)
                    .slice(0, limit);
            case 'trades':
                return players
                    .sort((a, b) => b.totalTradesCompleted - a.totalTradesCompleted)
                    .slice(0, limit);
            case 'auctions':
                return players
                    .sort((a, b) => b.totalAuctionsWon - a.totalAuctionsWon)
                    .slice(0, limit);
            case 'tournaments':
                return players
                    .sort((a, b) => b.totalTournamentsWon - a.totalTournamentsWon)
                    .slice(0, limit);
            case 'playTime':
                return players
                    .sort((a, b) => b.totalPlayTime - a.totalPlayTime)
                    .slice(0, limit);
            default:
                return players.slice(0, limit);
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
     * @param {string} period - –ø–µ—Ä–∏–æ–¥ (day, week, month, year)
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
     */
    getPeriodStats(period) {
        const now = Date.now();
        let periodMs;

        switch (period) {
            case 'day':
                periodMs = 24 * 60 * 60 * 1000;
                break;
            case 'week':
                periodMs = 7 * 24 * 60 * 60 * 1000;
                break;
            case 'month':
                periodMs = 30 * 24 * 60 * 60 * 1000;
                break;
            case 'year':
                periodMs = 365 * 24 * 60 * 60 * 1000;
                break;
            default:
                periodMs = 24 * 60 * 60 * 1000;
        }

        const recentGames = this.gameHistory.filter(
            g => now - g.startTime < periodMs
        );

        return {
            gamesPlayed: recentGames.length,
            totalPlayers: recentGames.reduce((sum, g) => sum + g.players.length, 0),
            averageDuration: recentGames.length > 0 ? 
                recentGames.reduce((sum, g) => sum + g.duration, 0) / recentGames.length : 0,
            mostActivePlayer: this.getMostActivePlayer(periodMs),
            mostPopularProperty: this.getMostPopularProperty(periodMs)
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–∞–º–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
     * @param {number} periodMs - –ø–µ—Ä–∏–æ–¥ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
     * @returns {Object} —Å–∞–º—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫
     */
    getMostActivePlayer(periodMs) {
        const now = Date.now();
        const playerActivity = new Map();

        this.gameHistory.forEach(game => {
            if (now - game.startTime < periodMs) {
                game.players.forEach(player => {
                    playerActivity.set(player.id, 
                        (playerActivity.get(player.id) || 0) + 1);
                });
            }
        });

        if (playerActivity.size === 0) return null;

        const mostActive = Array.from(playerActivity.entries())
            .sort((a, b) => b[1] - a[1])[0];

        const playerStats = this.playerStats.get(mostActive[0]);
        return {
            id: mostActive[0],
            name: playerStats ? playerStats.name : 'Unknown',
            gamesPlayed: mostActive[1]
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–∞–º—É—é –ø–æ–ø—É–ª—è—Ä–Ω—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∑–∞ –ø–µ—Ä–∏–æ–¥
     * @param {number} periodMs - –ø–µ—Ä–∏–æ–¥ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
     * @returns {Object} —Å–∞–º–∞—è –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
     */
    getMostPopularProperty(periodMs) {
        const now = Date.now();
        const propertyCount = new Map();

        this.playerStats.forEach(stats => {
            if (now - stats.lastPlayed < periodMs) {
                stats.favoriteProperties.forEach((count, property) => {
                    propertyCount.set(property, 
                        (propertyCount.get(property) || 0) + count);
                });
            }
        });

        if (propertyCount.size === 0) return null;

        const mostPopular = Array.from(propertyCount.entries())
            .sort((a, b) => b[1] - a[1])[0];

        return {
            name: mostPopular[0],
            purchases: mostPopular[1]
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {Object} –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
     */
    getPlayerAnalytics(playerId) {
        const stats = this.playerStats.get(playerId);
        if (!stats) return null;

        const totalGames = stats.gamesPlayed;
        const winRate = stats.winRate;
        const avgGameDuration = stats.averageGameDuration;
        const avgMoneyPerGame = totalGames > 0 ? stats.totalMoneyEarned / totalGames : 0;
        const avgPropertiesPerGame = totalGames > 0 ? stats.totalPropertiesPurchased / totalGames : 0;

        // –õ—é–±–∏–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
        const favoriteProperties = Array.from(stats.favoriteProperties.entries())
            .sort((a, b) => b[1] - a[1])
            .slice(0, 5)
            .map(([name, count]) => ({ name, count }));

        // –¢–æ—Ä–≥–æ–≤—ã–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã
        const tradingPartners = Array.from(stats.tradingPartners.entries())
            .sort((a, b) => b[1] - a[1])
            .slice(0, 5)
            .map(([id, count]) => {
                const partnerStats = this.playerStats.get(id);
                return {
                    id,
                    name: partnerStats ? partnerStats.name : 'Unknown',
                    trades: count
                };
            });

        return {
            overview: {
                totalGames,
                winRate,
                avgGameDuration,
                avgMoneyPerGame,
                avgPropertiesPerGame
            },
            favorites: {
                properties: favoriteProperties,
                tradingPartners
            },
            trends: this.getPlayerTrends(playerId)
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ç—Ä–µ–Ω–¥—ã –∏–≥—Ä–æ–∫–∞
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {Object} —Ç—Ä–µ–Ω–¥—ã
     */
    getPlayerTrends(playerId) {
        // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–≥—Ä—ã –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–æ–≤
        const recentGames = this.gameHistory
            .filter(g => g.players.some(p => p.id === playerId))
            .sort((a, b) => b.startTime - a.startTime)
            .slice(0, 10);

        if (recentGames.length < 2) return null;

        const winTrend = recentGames.filter(g => g.winner?.id === playerId).length / recentGames.length;
        const avgDuration = recentGames.reduce((sum, g) => sum + g.duration, 0) / recentGames.length;

        return {
            recentWinRate: winTrend * 100,
            recentAvgDuration: avgDuration,
            improving: winTrend > 0.5,
            consistent: recentGames.length >= 5
        };
    }

    /**
     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     */
    resetPlayerStats(playerId) {
        this.playerStats.delete(playerId);
    }

    /**
     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     */
    resetAllStats() {
        this.playerStats.clear();
        this.gameHistory = [];
        this.initializeStats();
    }

    /**
     * –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     * @returns {Object} —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    exportStats() {
        return {
            globalStats: this.globalStats,
            playerStats: Array.from(this.playerStats.entries()),
            gameHistory: this.gameHistory,
            records: Array.from(this.records.entries()),
            exportDate: Date.now()
        };
    }

    /**
     * –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
     */
    importStats(data) {
        if (data.globalStats) {
            this.globalStats = data.globalStats;
        }
        if (data.playerStats) {
            this.playerStats = new Map(data.playerStats);
        }
        if (data.gameHistory) {
            this.gameHistory = data.gameHistory;
        }
        if (data.records) {
            this.records = new Map(data.records);
        }
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
     */
    saveData() {
        const data = {
            globalStats: this.globalStats,
            playerStats: Array.from(this.playerStats.entries()),
            gameHistory: this.gameHistory,
            records: Array.from(this.records.entries())
        };
        localStorage.setItem('statisticsData', JSON.stringify(data));
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
     */
    loadData() {
        try {
            const data = JSON.parse(localStorage.getItem('statisticsData'));
            if (data) {
                this.globalStats = data.globalStats || this.globalStats;
                this.playerStats = new Map(data.playerStats || []);
                this.gameHistory = data.gameHistory || [];
                this.records = new Map(data.records || []);
            }
        } catch (error) {
            console.warn('Failed to load statistics data:', error);
        }
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
window.StatisticsSystem = StatisticsSystem; 
```

## js\random.test.js
```
import { random, rollDice, shuffle, randomChoice } from './random.js';

describe('random', () => {
  test('random in range', () => {
    for (let i = 0; i < 100; i++) {
      const n = random(1, 6);
      expect(n).toBeGreaterThanOrEqual(1);
      expect(n).toBeLessThanOrEqual(6);
    }
  });
  test('rollDice', () => {
    for (let i = 0; i < 20; i++) {
      const d = rollDice();
      expect(d.dice1).toBeGreaterThanOrEqual(1);
      expect(d.dice1).toBeLessThanOrEqual(6);
      expect(d.dice2).toBeGreaterThanOrEqual(1);
      expect(d.dice2).toBeLessThanOrEqual(6);
      expect(d.total).toBe(d.dice1 + d.dice2);
      expect(typeof d.isDouble).toBe('boolean');
    }
  });
  test('shuffle', () => {
    const arr = [1,2,3,4,5];
    const shuffled = shuffle(arr);
    expect(shuffled).toHaveLength(arr.length);
    expect(shuffled.sort().join(',')).toBe(arr.sort().join(','));
  });
  test('randomChoice', () => {
    const arr = [10, 20, 30];
    for (let i = 0; i < 10; i++) {
      expect(arr).toContain(randomChoice(arr));
    }
    expect(randomChoice([])).toBeNull();
  });
}); 
```

## js\random.js
```
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –∏ —É—Ç–∏–ª–∏—Ç—ã
export const random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

export const rollDice = () => {
    const dice1 = random(1, 6);
    const dice2 = random(1, 6);
    return {
        dice1,
        dice2,
        total: dice1 + dice2,
        isDouble: dice1 === dice2
    };
};

export const shuffle = (array) => {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
};

export const randomChoice = (array) => {
    if (!array || array.length === 0) return null;
    return array[random(0, array.length - 1)];
}; 
```

## js\player.js
```
/**
 * –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞–º–∏
 * –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–≥—Ä–æ–∫–æ–≤, –∏—Ö –¥–µ–Ω—å–≥–∞–º–∏, —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
 */

import { getText } from './localization.js';
import { formatMoney } from './utils.js';
// –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
const passedStart = (oldPos, newPos) => newPos < oldPos;

class Player {
    constructor(id, name, token) {
        this.id = id;
        this.name = name;
        this.token = token;
        this.money = CONFIG.GAME.STARTING_MONEY;
        this.position = 0;
        this.properties = [];
        this.inJail = false;
        this.jailTurns = 0;
        this.bankrupt = false;
        this.turnOrder = 0;
        this.isCurrentPlayer = false;
        this.doublesCount = 0;
        this.lastRoll = null;
        this.stats = {
            totalRentPaid: 0,
            totalRentReceived: 0,
            propertiesPurchased: 0,
            propertiesSold: 0,
            auctionsWon: 0,
            chanceCardsDrawn: 0,
            treasureCardsDrawn: 0,
            timesInJail: 0,
            timesPassedStart: 0,
            totalMoneyEarned: 0,
            totalMoneySpent: 0
        };
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç –¥–µ–Ω—å–≥–∏ –∏–≥—Ä–æ–∫—É
     * @param {number} amount - —Å—É–º–º–∞
     * @param {string} reason - –ø—Ä–∏—á–∏–Ω–∞ (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
     */
    addMoney(amount, reason = '') {
        this.money += amount;
        this.stats.totalMoneyEarned += amount;
        
        if (reason === 'rent') {
            this.stats.totalRentReceived += amount;
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        this.updateMoneyDisplay();
    }

    /**
     * –°–Ω–∏–º–∞–µ—Ç –¥–µ–Ω—å–≥–∏ —Å –∏–≥—Ä–æ–∫–∞
     * @param {number} amount - —Å—É–º–º–∞
     * @param {string} reason - –ø—Ä–∏—á–∏–Ω–∞ (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
     * @returns {boolean} true –µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥
     */
    removeMoney(amount, reason = '') {
        if (this.money < amount) {
            return false;
        }
        
        this.money -= amount;
        this.stats.totalMoneySpent += amount;
        
        if (reason === 'rent') {
            this.stats.totalRentPaid += amount;
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        this.updateMoneyDisplay();
        return true;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–µ–Ω–µ–≥ —É –∏–≥—Ä–æ–∫–∞
     * @param {number} amount - —Ç—Ä–µ–±—É–µ–º–∞—è —Å—É–º–º–∞
     * @returns {boolean} true –µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
     */
    hasMoney(amount) {
        return this.money >= amount;
    }

    /**
     * –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –Ω–∞ –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
     * @param {number} newPosition - –Ω–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è
     * @param {boolean} passStart - –ø—Ä–æ—à–µ–ª –ª–∏ —á–µ—Ä–µ–∑ –°–¢–ê–†–¢
     */
    moveTo(newPosition, passStart = false) {
        const oldPosition = this.position;
        this.position = newPosition % CONFIG.GAME.BOARD_SIZE;
        
        if (passStart) {
            this.addMoney(2000, 'start');
            this.stats.timesPassedStart++;
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Ñ–∏—à–∫–∏ –Ω–∞ –ø–æ–ª–µ
        this.updateTokenPosition();
    }

    /**
     * –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–µ—Ç–æ–∫
     * @param {number} steps - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
     * @returns {boolean} –ø—Ä–æ—à–µ–ª –ª–∏ —á–µ—Ä–µ–∑ –°–¢–ê–†–¢
     */
    move(steps) {
        const oldPosition = this.position;
        const newPosition = (this.position + steps) % CONFIG.GAME.BOARD_SIZE;
        const passedStart = passedStart(oldPosition, newPosition);
        
        this.moveTo(newPosition, passedStart);
        return passedStart;
    }

    /**
     * –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {boolean} collectMoney - –ø–æ–ª—É—á–∞—Ç—å –ª–∏ –¥–µ–Ω—å–≥–∏ –∑–∞ –ø—Ä–æ—Ö–æ–¥ —á–µ—Ä–µ–∑ –°–¢–ê–†–¢
     */
    moveToPosition(position, collectMoney = true) {
        const oldPosition = this.position;
        const newPosition = position % CONFIG.GAME.BOARD_SIZE;
        const passedStart = collectMoney && passedStart(oldPosition, newPosition);
        
        this.moveTo(newPosition, passedStart);
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–≥—Ä–æ–∫–∞ –≤ —Ç—é—Ä—å–º—É
     */
    goToJail() {
        this.position = CONFIG.GAME.JAIL_POSITION;
        this.inJail = true;
        this.jailTurns = 0;
        this.stats.timesInJail++;
        this.updateTokenPosition();
    }

    /**
     * –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –∏–∑ —Ç—é—Ä—å–º—ã
     */
    releaseFromJail() {
        this.inJail = false;
        this.jailTurns = 0;
    }

    /**
     * –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫ —Ö–æ–¥–æ–≤ –≤ —Ç—é—Ä—å–º–µ
     */
    incrementJailTurns() {
        if (this.inJail) {
            this.jailTurns++;
            if (this.jailTurns >= 3) {
                this.releaseFromJail();
            }
        }
    }

    /**
     * –ü–æ–∫—É–ø–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @param {number} price - —Ü–µ–Ω–∞
     * @returns {boolean} true –µ—Å–ª–∏ –ø–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞
     */
    buyProperty(position, price) {
        if (!this.hasMoney(price)) {
            return false;
        }
        
        if (board.buyCell(position, this.id, price)) {
            this.removeMoney(price, 'property');
            this.properties.push(position);
            this.stats.propertiesPurchased++;
            return true;
        }
        
        return false;
    }

    /**
     * –ü—Ä–æ–¥–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @returns {number} –ø–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—É–º–º–∞
     */
    sellProperty(position) {
        const sellPrice = board.sellCell(position, this.id);
        if (sellPrice > 0) {
            this.addMoney(sellPrice, 'property_sale');
            this.properties = this.properties.filter(p => p !== position);
            this.stats.propertiesSold++;
        }
        return sellPrice;
    }

    /**
     * –ó–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @returns {number} –ø–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—É–º–º–∞
     */
    mortgageProperty(position) {
        const mortgageAmount = board.mortgageCell(position, this.id);
        if (mortgageAmount > 0) {
            this.addMoney(mortgageAmount, 'mortgage');
        }
        return mortgageAmount;
    }

    /**
     * –í—ã–∫—É–ø–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ –∏–∑ –∑–∞–ª–æ–≥–∞
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @returns {boolean} true –µ—Å–ª–∏ –≤—ã–∫—É–ø —É—Å–ø–µ—à–µ–Ω
     */
    unmortgageProperty(position) {
        const unmortgageCost = board.unmortgageCell(position, this.id);
        if (unmortgageCost > 0 && this.hasMoney(unmortgageCost)) {
            this.removeMoney(unmortgageCost, 'unmortgage');
            return true;
        }
        return false;
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ –∫ —Å–≤–æ–π—Å—Ç–≤—É
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @returns {boolean} true –µ—Å–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
     */
    addImprovement(position) {
        const cost = CONFIG.IMPROVEMENT.COST_PER_LEVEL;
        if (!this.hasMoney(cost)) {
            return false;
        }
        
        if (board.addImprovement(position, this.id)) {
            this.removeMoney(cost, 'improvement');
            return true;
        }
        return false;
    }

    /**
     * –£–¥–∞–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ —Å —Å–≤–æ–π—Å—Ç–≤–∞
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @returns {number} –ø–æ–ª—É—á–µ–Ω–Ω–∞—è —Å—É–º–º–∞
     */
    removeImprovement(position) {
        const sellPrice = CONFIG.IMPROVEMENT.COST_PER_LEVEL / 2;
        if (board.removeImprovement(position, this.id)) {
            this.addMoney(sellPrice, 'improvement_sale');
            return sellPrice;
        }
        return 0;
    }

    /**
     * –°—Ç—Ä–æ–∏—Ç —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—é
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤–∞
     * @returns {boolean} true –µ—Å–ª–∏ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞
     */
    buildResidence(position) {
        const cost = CONFIG.RESIDENCE.BUILD_COST;
        if (!this.hasMoney(cost)) {
            return false;
        }
        
        if (board.buildResidence(position, this.id)) {
            this.removeMoney(cost, 'residence');
            return true;
        }
        return false;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
     * @returns {Array} –º–∞—Å—Å–∏–≤ –ø–æ–∑–∏—Ü–∏–π —Å–≤–æ–π—Å—Ç–≤
     */
    getProperties() {
        return this.properties;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –Ω–µ–∑–∞–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
     * @returns {Array} –º–∞—Å—Å–∏–≤ –ø–æ–∑–∏—Ü–∏–π –Ω–µ–∑–∞–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
     */
    getUnmortgagedProperties() {
        return this.properties.filter(position => {
            const cell = board.getCell(position);
            return cell && !cell.mortgaged;
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∑–∞–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–∞
     * @returns {Array} –º–∞—Å—Å–∏–≤ –ø–æ–∑–∏—Ü–∏–π –∑–∞–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
     */
    getMortgagedProperties() {
        return this.properties.filter(position => {
            const cell = board.getCell(position);
            return cell && cell.mortgaged;
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤ –∏–≥—Ä–æ–∫–∞
     * @returns {number} –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
     */
    getTotalPropertyValue() {
        let total = 0;
        
        this.properties.forEach(position => {
            const cell = board.getCell(position);
            if (cell) {
                total += cell.price;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏–π
                total += cell.improvements * CONFIG.IMPROVEMENT.COST_PER_LEVEL;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
                if (cell.residence) {
                    total += CONFIG.RESIDENCE.BUILD_COST;
                }
            }
        });
        
        return total;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ –∏–≥—Ä–æ–∫–∞
     * @returns {number} –æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤
     */
    getTotalAssets() {
        return this.money + this.getTotalPropertyValue();
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –ø–ª–∞—Ç–∏—Ç—å –∞—Ä–µ–Ω–¥—É
     * @param {number} rentAmount - —Å—É–º–º–∞ –∞—Ä–µ–Ω–¥—ã
     * @returns {boolean} true –µ—Å–ª–∏ –º–æ–∂–µ—Ç –ø–ª–∞—Ç–∏—Ç—å
     */
    canPayRent(rentAmount) {
        if (this.money >= rentAmount) {
            return true;
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –ø—Ä–æ–¥–∞—Ç—å —á—Ç–æ-—Ç–æ –¥–ª—è –æ–ø–ª–∞—Ç—ã
        const unmortgagedProperties = this.getUnmortgagedProperties();
        let totalSellableValue = 0;
        
        unmortgagedProperties.forEach(position => {
            const cell = board.getCell(position);
            if (cell) {
                totalSellableValue += cell.price / 2; // –ü—Ä–æ–¥–∞–∂–∞ –∑–∞ –ø–æ–ª–æ–≤–∏–Ω—É —Ü–µ–Ω—ã
                totalSellableValue += cell.improvements * CONFIG.IMPROVEMENT.COST_PER_LEVEL / 2;
                if (cell.residence) {
                    totalSellableValue += CONFIG.RESIDENCE.BUILD_COST / 2;
                }
            }
        });
        
        return (this.money + totalSellableValue) >= rentAmount;
    }

    /**
     * –ü–ª–∞—Ç–∏—Ç –∞—Ä–µ–Ω–¥—É –¥—Ä—É–≥–æ–º—É –∏–≥—Ä–æ–∫—É
     * @param {number} rentAmount - —Å—É–º–º–∞ –∞—Ä–µ–Ω–¥—ã
     * @param {Player} owner - –≤–ª–∞–¥–µ–ª–µ—Ü —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
     * @returns {boolean} true –µ—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–∞
     */
    payRent(rentAmount, owner) {
        if (!this.canPayRent(rentAmount)) {
            return false;
        }
        
        if (this.removeMoney(rentAmount, 'rent')) {
            owner.addMoney(rentAmount, 'rent');
            return true;
        }
        
        return false;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–∞
     * @returns {boolean} true –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –±–∞–Ω–∫—Ä–æ—Ç
     */
    checkBankruptcy() {
        if (this.money < 0 && this.getTotalAssets() <= 0) {
            this.bankrupt = true;
            this.stats.totalMoneySpent += Math.abs(this.money);
            this.money = 0;
            return true;
        }
        return false;
    }

    /**
     * –û–±—ä—è–≤–ª—è–µ—Ç –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
     */
    declareBankruptcy() {
        this.bankrupt = true;
        this.money = 0;
        this.properties = [];
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getStats() {
        return {
            ...this.stats,
            totalAssets: this.getTotalAssets(),
            totalProperties: this.properties.length,
            unmortgagedProperties: this.getUnmortgagedProperties().length,
            mortgagedProperties: this.getMortgagedProperties().length,
            netWorth: this.getTotalAssets() - CONFIG.GAME.STARTING_MONEY
        };
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–Ω–µ–≥ –∏–≥—Ä–æ–∫–∞ –≤ UI
     */
    updateMoneyDisplay() {
        const playerElement = document.querySelector(`[data-player="${this.id}"]`);
        if (playerElement) {
            const moneyElement = playerElement.querySelector('.player-money');
            if (moneyElement) {
                moneyElement.textContent = formatMoney(this.money);
                moneyElement.classList.add('changing');
                setTimeout(() => {
                    moneyElement.classList.remove('changing');
                }, 600);
            }
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Ñ–∏—à–∫–∏ –∏–≥—Ä–æ–∫–∞ –Ω–∞ –ø–æ–ª–µ
     */
    updateTokenPosition(animated = false) {
        const tokenElement = document.querySelector(`[data-player="${this.id}"]`);
        if (tokenElement) {
            // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –Ω–∞ –∏–≥—Ä–æ–≤–æ–º –ø–æ–ª–µ
            const boardSize = CONFIG.GAME.BOARD_SIZE;
            const cellSize = 60; // –†–∞–∑–º–µ—Ä –∫–ª–µ—Ç–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
            
            let x, y;
            
            if (this.position <= 10) {
                // –í–µ—Ä—Ö–Ω–∏–π —Ä—è–¥
                x = (10 - this.position) * cellSize;
                y = 0;
            } else if (this.position <= 20) {
                // –ü—Ä–∞–≤—ã–π —Ä—è–¥
                x = 0;
                y = (this.position - 10) * cellSize;
            } else if (this.position <= 30) {
                // –ù–∏–∂–Ω–∏–π —Ä—è–¥
                x = (this.position - 20) * cellSize;
                y = 10 * cellSize;
            } else {
                // –õ–µ–≤—ã–π —Ä—è–¥
                x = 10 * cellSize;
                y = (40 - this.position) * cellSize;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
            const offset = (this.id - 1) * 20;
            x += offset;
            y += offset;
            
            tokenElement.style.transition = animated ? 'left 0.18s cubic-bezier(0.36,0.07,0.19,0.97), top 0.18s cubic-bezier(0.36,0.07,0.19,0.97)' : '';
            tokenElement.style.left = `${x}px`;
            tokenElement.style.top = `${y}px`;
            if (animated) {
                tokenElement.classList.add('moving');
                setTimeout(() => {
                    tokenElement.classList.remove('moving');
                    tokenElement.style.transition = '';
                }, 200);
            }
        }
    }

    /**
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ –∫–∞–∫ —Ç–µ–∫—É—â–µ–≥–æ
     * @param {boolean} isCurrent - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–º
     */
    setCurrentPlayer(isCurrent) {
        this.isCurrentPlayer = isCurrent;
        
        const playerElement = document.querySelector(`[data-player="${this.id}"]`);
        if (playerElement) {
            if (isCurrent) {
                playerElement.classList.add('active');
            } else {
                playerElement.classList.remove('active');
            }
        }
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
     * @returns {Object} —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
     */
    saveState() {
        return {
            id: this.id,
            name: this.name,
            token: this.token,
            money: this.money,
            position: this.position,
            properties: [...this.properties],
            inJail: this.inJail,
            jailTurns: this.jailTurns,
            bankrupt: this.bankrupt,
            turnOrder: this.turnOrder,
            isCurrentPlayer: this.isCurrentPlayer,
            doublesCount: this.doublesCount,
            lastRoll: this.lastRoll,
            stats: { ...this.stats }
        };
    }

    /**
     * –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
     * @param {Object} state - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
     */
    loadState(state) {
        this.id = state.id;
        this.name = state.name;
        this.token = state.token;
        this.money = state.money;
        this.position = state.position;
        this.properties = [...state.properties];
        this.inJail = state.inJail;
        this.jailTurns = state.jailTurns;
        this.bankrupt = state.bankrupt;
        this.turnOrder = state.turnOrder;
        this.isCurrentPlayer = state.isCurrentPlayer;
        this.doublesCount = state.doublesCount;
        this.lastRoll = state.lastRoll;
        this.stats = { ...state.stats };
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        this.updateMoneyDisplay();
        this.updateTokenPosition();
        this.setCurrentPlayer(this.isCurrentPlayer);
    }

    /**
     * –ê–Ω–∏–º–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∏—à–∫–∏ –∏–≥—Ä–æ–∫–∞ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É (–æ—Ç from –¥–æ to)
     * @param {number} from - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
     * @param {number} to - –∫–æ–Ω–µ—á–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
     * @param {function} onStep - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
     * @returns {Promise}
     */
    animateTokenMove = async function(from, to, onStep) {
        const steps = (to >= from) ? (to - from) : (40 - from + to);
        let pos = from;
        const pathCells = [];
        for (let i = 0; i < steps; i++) {
            pos = (pos + 1) % 40;
            this.position = pos;
            this.updateTokenPosition(true); // true = –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞
            const cellDiv = document.querySelector(`.board-cell[data-cell-idx='${pos}']`);
            if (cellDiv) {
                cellDiv.classList.add('cell-path');
                pathCells.push(cellDiv);
            }
            // –í–∏–±—Ä–æ–æ—Ç–∫–ª–∏–∫ –∏ –∑–≤—É–∫ —à–∞–≥–∞
            if (window.navigator && navigator.vibrate) {
                navigator.vibrate(30);
            }
            if (window.Audio) {
                try {
                    const audio = new Audio('assets/sounds/step.mp3');
                    audio.volume = 0.4;
                    audio.play();
                } catch (e) {}
            }
            if (typeof onStep === 'function') onStep(pos);
            await new Promise(res => setTimeout(res, 150));
        }
        // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ –∫–æ–Ω–µ—á–Ω–æ–π –∫–ª–µ—Ç–∫–µ
        const cellDiv = document.querySelector(`.board-cell[data-cell-idx='${pos}']`);
        if (cellDiv) {
            cellDiv.classList.add('cell-active');
            setTimeout(() => cellDiv.classList.remove('cell-active'), 700);
        }
        // Bounce-–∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —Ç–æ–∫–µ–Ω–∞
        const tokenElement = document.querySelector(`[data-player='${this.id}']`);
        if (tokenElement) {
            tokenElement.classList.add('token-bounce');
            setTimeout(() => tokenElement.classList.remove('token-bounce'), 500);
        }
        // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
        setTimeout(() => {
            pathCells.forEach(cell => cell.classList.remove('cell-path'));
        }, 800);
    };
}

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
if (typeof module !== 'undefined' && module.exports) {
    module.exports = Player;
} 
```

## js\network.js
```
/**
 * –ú–æ–¥—É–ª—å —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞
 * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä—É, —á–∞—Ç, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∏ —Ç—É—Ä–Ω–∏—Ä—ã
 */

import { generateId } from './utils.js';

class NetworkManager {
    constructor() {
        this.socket = null;
        this.connected = false;
        this.roomId = null;
        this.playerId = null;
        this.serverUrl = 'wss://your-game-server.com';
        this.reconnectAttempts = 0;
        this.maxReconnectAttempts = 5;
        this.reconnectDelay = 1000;
        this.heartbeatInterval = null;
        this.messageQueue = [];
        this.eventHandlers = {};
        
        this.initializeNetwork();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ—Ç–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
     */
    initializeNetwork() {
        this.setupEventHandlers();
        this.setupHeartbeat();
        this.setupReconnection();
    }

    /**
     * –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
     * @param {string} serverUrl - URL —Å–µ—Ä–≤–µ—Ä–∞
     * @param {string} playerId - ID –∏–≥—Ä–æ–∫–∞
     */
    connect(serverUrl = this.serverUrl, playerId = null) {
        if (this.connected) return;

        try {
            this.socket = new WebSocket(serverUrl);
            this.playerId = playerId || generateId();
            
            this.socket.onopen = () => {
                this.connected = true;
                this.reconnectAttempts = 0;
                this.sendMessage('auth', { playerId: this.playerId });
                this.startHeartbeat();
                this.processMessageQueue();
                this.triggerEvent('connected');
            };

            this.socket.onmessage = (event) => {
                this.handleMessage(JSON.parse(event.data));
            };

            this.socket.onclose = () => {
                this.connected = false;
                this.stopHeartbeat();
                this.triggerEvent('disconnected');
                this.attemptReconnect();
            };

            this.socket.onerror = (error) => {
                console.error('WebSocket error:', error);
                this.triggerEvent('error', error);
            };

        } catch (error) {
            console.error('Connection error:', error);
            this.triggerEvent('error', error);
        }
    }

    /**
     * –û—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
     */
    disconnect() {
        if (this.socket) {
            this.socket.close();
            this.socket = null;
        }
        this.connected = false;
        this.stopHeartbeat();
        this.triggerEvent('disconnected');
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
     * @param {string} type - —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
     */
    sendMessage(type, data = {}) {
        const message = {
            type: type,
            playerId: this.playerId,
            roomId: this.roomId,
            timestamp: Date.now(),
            data: data
        };

        if (this.connected && this.socket.readyState === WebSocket.OPEN) {
            this.socket.send(JSON.stringify(message));
        } else {
            this.messageQueue.push(message);
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
     * @param {Object} message - —Å–æ–æ–±—â–µ–Ω–∏–µ
     */
    handleMessage(message) {
        switch (message.type) {
            case 'auth_success':
                this.handleAuthSuccess(message.data);
                break;
            case 'room_joined':
                this.handleRoomJoined(message.data);
                break;
            case 'player_joined':
                this.handlePlayerJoined(message.data);
                break;
            case 'player_left':
                this.handlePlayerLeft(message.data);
                break;
            case 'game_state':
                this.handleGameState(message.data);
                break;
            case 'player_action':
                this.handlePlayerAction(message.data);
                break;
            case 'chat_message':
                this.handleChatMessage(message.data);
                break;
            case 'trade_offer':
                this.handleTradeOffer(message.data);
                break;
            case 'auction_update':
                this.handleAuctionUpdate(message.data);
                break;
            case 'weather_change':
                this.handleWeatherChange(message.data);
                break;
            case 'event_trigger':
                this.handleEventTrigger(message.data);
                break;
            case 'tournament_update':
                this.handleTournamentUpdate(message.data);
                break;
            case 'achievement_unlocked':
                this.handleAchievementUnlocked(message.data);
                break;
            case 'error':
                this.handleError(message.data);
                break;
            default:
                console.warn('Unknown message type:', message.type);
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
     */
    handleAuthSuccess(data) {
        this.playerId = data.playerId;
        this.triggerEvent('auth_success', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–æ–º–Ω–∞—Ç–µ
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
     */
    handleRoomJoined(data) {
        this.roomId = data.roomId;
        this.triggerEvent('room_joined', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
     */
    handlePlayerJoined(data) {
        this.triggerEvent('player_joined', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—ã—Ö–æ–¥ –∏–≥—Ä–æ–∫–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
     */
    handlePlayerLeft(data) {
        this.triggerEvent('player_left', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
     */
    handleGameState(data) {
        this.triggerEvent('game_state', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –∏–≥—Ä–æ–∫–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
     */
    handlePlayerAction(data) {
        this.triggerEvent('player_action', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —á–∞—Ç–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
     */
    handleChatMessage(data) {
        this.triggerEvent('chat_message', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     */
    handleTradeOffer(data) {
        this.triggerEvent('trade_offer', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –∞—É–∫—Ü–∏–æ–Ω–∞
     */
    handleAuctionUpdate(data) {
        this.triggerEvent('auction_update', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã
     */
    handleWeatherChange(data) {
        this.triggerEvent('weather_change', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä —Å–æ–±—ã—Ç–∏—è
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
     */
    handleEventTrigger(data) {
        this.triggerEvent('event_trigger', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä–∞
     */
    handleTournamentUpdate(data) {
        this.triggerEvent('tournament_update', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    handleAchievementUnlocked(data) {
        this.triggerEvent('achievement_unlocked', data);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
     */
    handleError(data) {
        console.error('Server error:', data);
        this.triggerEvent('error', data);
    }

    /**
     * –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ
     * @param {string} roomId - ID –∫–æ–º–Ω–∞—Ç—ã
     * @param {Object} playerData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞
     */
    joinRoom(roomId, playerData) {
        this.sendMessage('join_room', {
            roomId: roomId,
            playerData: playerData
        });
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É
     * @param {Object} roomConfig - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç—ã
     */
    createRoom(roomConfig) {
        this.sendMessage('create_room', roomConfig);
    }

    /**
     * –ü–æ–∫–∏–¥–∞–µ—Ç –∫–æ–º–Ω–∞—Ç—É
     */
    leaveRoom() {
        this.sendMessage('leave_room');
        this.roomId = null;
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ –∏–≥—Ä–æ–∫–∞
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     * @param {Object} data - –¥–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
     */
    sendPlayerAction(action, data = {}) {
        this.sendMessage('player_action', {
            action: action,
            data: data
        });
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
     * @param {string} message - —Å–æ–æ–±—â–µ–Ω–∏–µ
     * @param {string} type - —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
     */
    sendChatMessage(message, type = 'chat') {
        this.sendMessage('chat_message', {
            message: message,
            type: type
        });
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     * @param {Object} tradeData - –¥–∞–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     */
    sendTradeOffer(tradeData) {
        this.sendMessage('trade_offer', tradeData);
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ
     * @param {number} amount - —Å—É–º–º–∞ —Å—Ç–∞–≤–∫–∏
     */
    sendAuctionBid(amount) {
        this.sendMessage('auction_bid', { amount: amount });
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–ª—å—è–Ω—Å–∞
     * @param {Array} players - –∏–≥—Ä–æ–∫–∏ –≤ –∞–ª—å—è–Ω—Å–µ
     * @param {Object} conditions - —É—Å–ª–æ–≤–∏—è –∞–ª—å—è–Ω—Å–∞
     */
    sendAllianceRequest(players, conditions) {
        this.sendMessage('alliance_request', {
            players: players,
            conditions: conditions
        });
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Ç—É—Ä–Ω–∏—Ä–µ
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     */
    sendTournamentJoin(tournamentId) {
        this.sendMessage('tournament_join', {
            tournamentId: tournamentId
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
     */
    setupEventHandlers() {
        this.eventHandlers = {
            connected: [],
            disconnected: [],
            error: [],
            auth_success: [],
            room_joined: [],
            player_joined: [],
            player_left: [],
            game_state: [],
            player_action: [],
            chat_message: [],
            trade_offer: [],
            auction_update: [],
            weather_change: [],
            event_trigger: [],
            tournament_update: [],
            achievement_unlocked: []
        };
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è
     * @param {string} event - —Å–æ–±—ã—Ç–∏–µ
     * @param {Function} handler - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
     */
    on(event, handler) {
        if (this.eventHandlers[event]) {
            this.eventHandlers[event].push(handler);
        }
    }

    /**
     * –£–¥–∞–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è
     * @param {string} event - —Å–æ–±—ã—Ç–∏–µ
     * @param {Function} handler - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
     */
    off(event, handler) {
        if (this.eventHandlers[event]) {
            const index = this.eventHandlers[event].indexOf(handler);
            if (index > -1) {
                this.eventHandlers[event].splice(index, 1);
            }
        }
    }

    /**
     * –í—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏—è
     * @param {string} event - —Å–æ–±—ã—Ç–∏–µ
     * @param {*} data - –¥–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
     */
    triggerEvent(event, data = null) {
        if (this.eventHandlers[event]) {
            this.eventHandlers[event].forEach(handler => {
                try {
                    handler(data);
                } catch (error) {
                    console.error('Event handler error:', error);
                }
            });
        }
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç heartbeat –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
     */
    setupHeartbeat() {
        this.heartbeatInterval = setInterval(() => {
            if (this.connected) {
                this.sendMessage('heartbeat');
            }
        }, 30000); // –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç heartbeat
     */
    startHeartbeat() {
        if (!this.heartbeatInterval) {
            this.setupHeartbeat();
        }
    }

    /**
     * –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç heartbeat
     */
    stopHeartbeat() {
        if (this.heartbeatInterval) {
            clearInterval(this.heartbeatInterval);
            this.heartbeatInterval = null;
        }
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
     */
    setupReconnection() {
        this.reconnectTimer = null;
    }

    /**
     * –ü—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
     */
    attemptReconnect() {
        if (this.reconnectAttempts >= this.maxReconnectAttempts) {
            this.triggerEvent('reconnect_failed');
            return;
        }

        this.reconnectAttempts++;
        this.reconnectTimer = setTimeout(() => {
            console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`);
            this.connect();
        }, this.reconnectDelay * this.reconnectAttempts);
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π
     */
    processMessageQueue() {
        while (this.messageQueue.length > 0) {
            const message = this.messageQueue.shift();
            this.socket.send(JSON.stringify(message));
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
     * @returns {boolean} —Å—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
     */
    isConnected() {
        return this.connected && this.socket && this.socket.readyState === WebSocket.OPEN;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
     * @returns {Promise<number>} –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
     */
    async getLatency() {
        if (!this.isConnected()) return null;

        const start = Date.now();
        return new Promise((resolve) => {
            const handler = (data) => {
                if (data.type === 'pong') {
                    this.off('pong', handler);
                    resolve(Date.now() - start);
                }
            };
            this.on('pong', handler);
            this.sendMessage('ping');
            
            // –¢–∞–π–º–∞—É—Ç
            setTimeout(() => {
                this.off('pong', handler);
                resolve(null);
            }, 5000);
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getConnectionStats() {
        return {
            connected: this.connected,
            roomId: this.roomId,
            playerId: this.playerId,
            reconnectAttempts: this.reconnectAttempts,
            messageQueueLength: this.messageQueue.length
        };
    }
}

/**
 * –ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–Ω–∞—Ç–∞–º–∏
 */
class RoomManager {
    constructor(networkManager) {
        this.network = networkManager;
        this.rooms = new Map();
        this.currentRoom = null;
        this.roomList = [];
        
        this.setupEventHandlers();
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
     */
    setupEventHandlers() {
        this.network.on('room_list', (data) => {
            this.roomList = data.rooms;
            this.triggerEvent('room_list_updated', this.roomList);
        });

        this.network.on('room_joined', (data) => {
            this.currentRoom = data;
            this.triggerEvent('room_joined', data);
        });

        this.network.on('player_joined', (data) => {
            if (this.currentRoom) {
                this.currentRoom.players.push(data.player);
                this.triggerEvent('player_joined', data);
            }
        });

        this.network.on('player_left', (data) => {
            if (this.currentRoom) {
                this.currentRoom.players = this.currentRoom.players.filter(
                    p => p.id !== data.playerId
                );
                this.triggerEvent('player_left', data);
            }
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç
     */
    getRoomList() {
        this.network.sendMessage('get_room_list');
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É
     * @param {Object} config - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç—ã
     */
    createRoom(config) {
        this.network.sendMessage('create_room', config);
    }

    /**
     * –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ
     * @param {string} roomId - ID –∫–æ–º–Ω–∞—Ç—ã
     */
    joinRoom(roomId) {
        this.network.sendMessage('join_room', { roomId: roomId });
    }

    /**
     * –ü–æ–∫–∏–¥–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∫–æ–º–Ω–∞—Ç—É
     */
    leaveRoom() {
        if (this.currentRoom) {
            this.network.sendMessage('leave_room');
            this.currentRoom = null;
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∫–æ–º–Ω–∞—Ç—É
     * @returns {Object|null} —Ç–µ–∫—É—â–∞—è –∫–æ–º–Ω–∞—Ç–∞
     */
    getCurrentRoom() {
        return this.currentRoom;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç
     * @returns {Array} —Å–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç
     */
    getRooms() {
        return this.roomList;
    }
}

/**
 * –ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞–º–∏
 */
class TournamentManager {
    constructor(networkManager) {
        this.network = networkManager;
        this.tournaments = new Map();
        this.currentTournament = null;
        this.tournamentList = [];
        
        this.setupEventHandlers();
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
     */
    setupEventHandlers() {
        this.network.on('tournament_list', (data) => {
            this.tournamentList = data.tournaments;
            this.triggerEvent('tournament_list_updated', this.tournamentList);
        });

        this.network.on('tournament_joined', (data) => {
            this.currentTournament = data;
            this.triggerEvent('tournament_joined', data);
        });

        this.network.on('tournament_update', (data) => {
            if (this.currentTournament && this.currentTournament.id === data.tournamentId) {
                Object.assign(this.currentTournament, data);
                this.triggerEvent('tournament_updated', data);
            }
        });

        this.network.on('tournament_ended', (data) => {
            this.currentTournament = null;
            this.triggerEvent('tournament_ended', data);
        });
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    getTournamentList() {
        this.network.sendMessage('get_tournament_list');
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä
     * @param {Object} config - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—É—Ä–Ω–∏—Ä–∞
     */
    createTournament(config) {
        this.network.sendMessage('create_tournament', config);
    }

    /**
     * –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ —Ç—É—Ä–Ω–∏—Ä—É
     * @param {string} tournamentId - ID —Ç—É—Ä–Ω–∏—Ä–∞
     */
    joinTournament(tournamentId) {
        this.network.sendMessage('join_tournament', { tournamentId: tournamentId });
    }

    /**
     * –ü–æ–∫–∏–¥–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä
     */
    leaveTournament() {
        if (this.currentTournament) {
            this.network.sendMessage('leave_tournament');
            this.currentTournament = null;
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ç—É—Ä–Ω–∏—Ä
     * @returns {Object|null} —Ç–µ–∫—É—â–∏–π —Ç—É—Ä–Ω–∏—Ä
     */
    getCurrentTournament() {
        return this.currentTournament;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–Ω–∏—Ä–æ–≤
     * @returns {Array} —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    getTournaments() {
        return this.tournamentList;
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å—ã
window.NetworkManager = NetworkManager;
window.RoomManager = RoomManager;
window.TournamentManager = TournamentManager; 
```

## js\main.js
```
/**
 * –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –∏–≥—Ä—ã –†—É—Å—Å–∫–∞—è –ú–æ–Ω–æ–ø–æ–ª–∏—è
 * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 */

import { loadLocales, setLocale } from './localization.js';

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
let game;
let board;
let ui;
let audio;
let network;
let tutorial;
let achievements;
let statistics;
let tournaments;
let roomManager;
let tournamentManager;

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const APP_CONFIG = {
    VERSION: '2.0.0',
    BUILD_DATE: '2024-01-01',
    DEBUG_MODE: false,
    AUTO_SAVE_INTERVAL: 30000, // 30 —Å–µ–∫—É–Ω–¥
    MAX_SAVE_SLOTS: 10,
    DEFAULT_LANGUAGE: 'ru',
    SUPPORTED_LANGUAGES: ['ru', 'en', 'de', 'fr', 'es', 'zh', 'ja', 'ko']
};

/**
 * –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 */
class App {
    constructor() {
        this.initialized = false;
        this.currentScreen = 'main-menu';
        this.settings = {};
        this.saveSlots = [];
        this.errorHandler = null;
        this.performanceMonitor = null;
        
        this.initializeApp();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
     */
    async initializeApp() {
        try {
            console.log('Initializing Russian Monopoly v' + APP_CONFIG.VERSION);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ç–∏–ª–∏—Ç—ã
            await this.initializeUtils();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            await this.loadSettings();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
            await this.initializeLocalization();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞—É–¥–∏–æ —Å–∏—Å—Ç–µ–º—É
            await this.initializeAudio();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–µ—Ç–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            await this.initializeNetwork();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –æ–±—É—á–µ–Ω–∏—è
            await this.initializeTutorial();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥—É–ª–∏
            await this.initializeGameModules();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            await this.initializeUI();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            await this.initializeEventHandlers();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            await this.initializeMonitoring();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
            await this.loadSaveSlots();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
            this.showMainMenu();
            
            this.initialized = true;
            console.log('App initialized successfully');
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            this.startAutoSave();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            this.showWelcomeMessage();
            
        } catch (error) {
            console.error('Failed to initialize app:', error);
            this.showErrorScreen(error);
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —É—Ç–∏–ª–∏—Ç—ã
     */
    async initializeUtils() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
        this.checkBrowserSupport();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —É—Ç–∏–ª–∏—Ç—ã
        if (typeof utils === 'undefined') {
            throw new Error('Utils module not found');
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        if (typeof CONFIG === 'undefined') {
            throw new Error('Config module not found');
        }
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
     */
    checkBrowserSupport() {
        const requiredFeatures = [
            'localStorage',
            'sessionStorage',
            'WebSocket',
            'AudioContext',
            'requestAnimationFrame'
        ];

        const unsupportedFeatures = requiredFeatures.filter(feature => {
            switch (feature) {
                case 'localStorage':
                    return !window.localStorage;
                case 'sessionStorage':
                    return !window.sessionStorage;
                case 'WebSocket':
                    return !window.WebSocket;
                case 'AudioContext':
                    return !(window.AudioContext || window.webkitAudioContext);
                case 'requestAnimationFrame':
                    return !window.requestAnimationFrame;
                default:
                    return false;
            }
        });

        if (unsupportedFeatures.length > 0) {
            throw new Error(`Unsupported browser features: ${unsupportedFeatures.join(', ')}`);
        }
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    async loadSettings() {
        try {
            const savedSettings = localStorage.getItem('gameSettings');
            if (savedSettings) {
                this.settings = JSON.parse(savedSettings);
            } else {
                this.settings = {
                    language: APP_CONFIG.DEFAULT_LANGUAGE,
                    soundVolume: 0.7,
                    musicVolume: 0.5,
                    masterVolume: 1.0,
                    muted: false,
                    autoSave: true,
                    animations: true,
                    particles: true,
                    fullscreen: false,
                    theme: 'dark',
                    quality: 'high',
                    networkEnabled: true,
                    tutorialEnabled: true,
                    notifications: true,
                    chatEnabled: true,
                    tradeEnabled: true,
                    auctionEnabled: true,
                    weatherEnabled: true,
                    eventsEnabled: true,
                    alliancesEnabled: true,
                    tournamentsEnabled: true,
                    achievementsEnabled: true
                };
            }
        } catch (error) {
            console.warn('Failed to load settings:', error);
            this.settings = {};
        }
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    saveSettings() {
        try {
            localStorage.setItem('gameSettings', JSON.stringify(this.settings));
        } catch (error) {
            console.warn('Failed to save settings:', error);
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
     */
    async initializeLocalization() {
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫
        const language = this.settings.language || APP_CONFIG.DEFAULT_LANGUAGE;
        utils.setLanguage(language);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        this.updateLanguageDisplay();
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —è–∑—ã–∫–∞
     */
    updateLanguageDisplay() {
        const languageSelect = document.getElementById('language-select');
        if (languageSelect) {
            languageSelect.value = this.settings.language;
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ —Å–∏—Å—Ç–µ–º—É
     */
    async initializeAudio() {
        try {
            audio = new AudioManager();
            await audio.loadSettings();
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞
            audio.setMasterVolume(this.settings.masterVolume);
            audio.setSoundVolume(this.settings.soundVolume);
            audio.setMusicVolume(this.settings.musicVolume);
            audio.setMuted(this.settings.muted);
            
            console.log('Audio system initialized');
        } catch (error) {
            console.warn('Failed to initialize audio:', error);
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–µ—Ç–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
     */
    async initializeNetwork() {
        try {
            if (this.settings.networkEnabled) {
                network = new NetworkManager();
                roomManager = new RoomManager(network);
                tournamentManager = new TournamentManager(network);
                
                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
                this.setupNetworkEventHandlers();
                
                console.log('Network system initialized');
            }
        } catch (error) {
            console.warn('Failed to initialize network:', error);
        }
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
     */
    setupNetworkEventHandlers() {
        if (!network) return;

        network.on('connected', () => {
            console.log('Connected to server');
            this.showNotification('–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —Å–µ—Ä–≤–µ—Ä—É', 'success');
        });

        network.on('disconnected', () => {
            console.log('Disconnected from server');
            this.showNotification('–û—Ç–∫–ª—é—á–µ–Ω–æ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞', 'warning');
        });

        network.on('error', (error) => {
            console.error('Network error:', error);
            this.showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏', 'error');
        });

        network.on('room_joined', (data) => {
            console.log('Joined room:', data);
            this.showNotification(`–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å –∫ –∫–æ–º–Ω–∞—Ç–µ: ${data.roomId}`, 'info');
        });

        network.on('player_joined', (data) => {
            console.log('Player joined:', data);
            this.showNotification(`${data.player.name} –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∏–≥—Ä–µ`, 'info');
        });

        network.on('player_left', (data) => {
            console.log('Player inset-inline-start:', data);
            this.showNotification(`${data.player.name} –ø–æ–∫–∏–Ω—É–ª –∏–≥—Ä—É`, 'warning');
        });

        network.on('game_state', (data) => {
            if (game) {
                game.syncGameState(data);
            }
        });

        network.on('chat_message', (data) => {
            if (game) {
                game.addChatMessage(data.sender, data.message);
            }
        });

        network.on('trade_offer', (data) => {
            this.showTradeOffer(data);
        });

        network.on('auction_update', (data) => {
            if (game) {
                game.updateAuction(data);
            }
        });

        network.on('weather_change', (data) => {
            if (game) {
                game.updateWeather(data);
            }
        });

        network.on('event_trigger', (data) => {
            if (game) {
                game.triggerEvent(data);
            }
        });

        network.on('tournament_update', (data) => {
            this.updateTournamentDisplay(data);
        });

        network.on('achievement_unlocked', (data) => {
            this.showAchievementUnlocked(data);
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –æ–±—É—á–µ–Ω–∏—è
     */
    async initializeTutorial() {
        try {
            if (this.settings.tutorialEnabled) {
                tutorial = new TutorialManager();
                console.log('Tutorial system initialized');
            }
        } catch (error) {
            console.warn('Failed to initialize tutorial:', error);
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥—É–ª–∏
     */
    async initializeGameModules() {
        try {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
            achievements = new AchievementSystem();
            statistics = new StatisticsSystem();
            tournaments = new TournamentSystem();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            board = new Board();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä—É
            game = new Game();
            
            console.log('Game modules initialized');
        } catch (error) {
            console.error('Failed to initialize game modules:', error);
            throw error;
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
     */
    async initializeUI() {
        try {
            ui = new UI();
            await ui.initialize();
            
            console.log('UI initialized');
        } catch (error) {
            console.error('Failed to initialize UI:', error);
            throw error;
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
     */
    async initializeEventHandlers() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
        this.setupMainMenuHandlers();
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        this.setupSettingsHandlers();
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≥—Ä—ã
        this.setupGameHandlers();
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        this.setupNetworkHandlers();
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        this.setupKeyboardHandlers();
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–∫–Ω–∞
        this.setupWindowHandlers();
        
        console.log('Event handlers initialized');
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
     */
    setupMainMenuHandlers() {
        // –ù–æ–≤–∞—è –∏–≥—Ä–∞
        const newGameBtn = document.getElementById('new-game-btn');
        if (newGameBtn) {
            newGameBtn.addEventListener('click', () => {
                this.showSettingsScreen();
            });
        }

        // –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ
        const joinGameBtn = document.getElementById('join-game-btn');
        if (joinGameBtn) {
            joinGameBtn.addEventListener('click', () => {
                this.showJoinGameScreen();
            });
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        const settingsBtn = document.getElementById('settings-btn');
        if (settingsBtn) {
            settingsBtn.addEventListener('click', () => {
                this.showSettingsScreen();
            });
        }

        // –ü—Ä–∞–≤–∏–ª–∞
        const rulesBtn = document.getElementById('rules-btn');
        if (rulesBtn) {
            rulesBtn.addEventListener('click', () => {
                this.showRulesScreen();
            });
        }

        // –í—ã–±–æ—Ä —è–∑—ã–∫–∞
        const languageSelect = document.getElementById('language-select');
        if (languageSelect) {
            languageSelect.addEventListener('change', (e) => {
                this.changeLanguage(e.target.value);
            });
        }
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
     */
    setupSettingsHandlers() {
        // –ù–∞–∑–∞–¥ –∫ –º–µ–Ω—é
        const backToMenuBtn = document.getElementById('back-to-menu');
        if (backToMenuBtn) {
            backToMenuBtn.addEventListener('click', () => {
                this.showMainMenu();
            });
        }

        // –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
        const startGameBtn = document.getElementById('start-game');
        if (startGameBtn) {
            startGameBtn.addEventListener('click', () => {
                this.startNewGame();
            });
        }

        // –í—ã–±–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤
        const tokenOptions = document.querySelectorAll('.token-option');
        tokenOptions.forEach(option => {
            option.addEventListener('click', () => {
                this.selectToken(option.dataset.token);
            });
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
        const ruleOptions = document.querySelectorAll('input[type="checkbox"]');
        ruleOptions.forEach(option => {
            option.addEventListener('change', (e) => {
                this.updateRuleSetting(e.target.id, e.target.checked);
            });
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≥—Ä—ã
     */
    setupGameHandlers() {
        // –ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π
        const diceBtn = document.getElementById('dice-btn');
        if (diceBtn) {
            diceBtn.addEventListener('click', () => {
                this.rollDice();
            });
        }

        // –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ö–æ–¥
        const endTurnBtn = document.getElementById('end-turn-btn');
        if (endTurnBtn) {
            endTurnBtn.addEventListener('click', () => {
                this.endTurn();
            });
        }

        // –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
        const actionButtons = document.querySelectorAll('.action-btn');
        actionButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.handleAction(e.target.dataset.action);
            });
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
     */
    setupNetworkHandlers() {
        if (!network) return;

        // –ö–Ω–æ–ø–∫–∏ —Å–µ—Ç–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
        const networkButtons = document.querySelectorAll('.network-btn');
        networkButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                this.handleNetworkAction(e.target.dataset.action);
            });
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
     */
    setupKeyboardHandlers() {
        document.addEventListener('keydown', (e) => {
            this.handleKeyPress(e);
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–∫–Ω–∞
     */
    setupWindowHandlers() {
        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            this.handleWindowResize();
        });

        // –ü–æ—Ç–µ—Ä—è —Ñ–æ–∫—É—Å–∞
        window.addEventListener('blur', () => {
            this.handleWindowBlur();
        });

        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞
        window.addEventListener('focus', () => {
            this.handleWindowFocus();
        });

        // –ü–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
        window.addEventListener('beforeunload', (e) => {
            this.handleBeforeUnload(e);
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
     */
    async initializeMonitoring() {
        try {
            // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            this.performanceMonitor = {
                fps: 0,
                memory: 0,
                startTime: Date.now(),
                frameCount: 0
            };

            // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
            this.errorHandler = {
                errors: [],
                warnings: [],
                maxErrors: 100
            };

            // –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫
            window.addEventListener('error', (e) => {
                this.handleError(e.error);
            });

            window.addEventListener('unhandledrejection', (e) => {
                this.handleError(e.reason);
            });

            // –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ FPS
            this.startPerformanceMonitoring();

            console.log('Monitoring system initialized');
        } catch (error) {
            console.warn('Failed to initialize monitoring:', error);
        }
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
     */
    startPerformanceMonitoring() {
        let lastTime = performance.now();

        const measureFPS = () => {
            const currentTime = performance.now();
            const deltaTime = currentTime - lastTime;
            
            this.performanceMonitor.fps = Math.round(1000 / deltaTime);
            this.performanceMonitor.frameCount++;
            
            lastTime = currentTime;

            // –ò–∑–º–µ—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
            if (performance.memory) {
                this.performanceMonitor.memory = performance.memory.usedJSHeapSize;
            }

            requestAnimationFrame(measureFPS);
        };

        requestAnimationFrame(measureFPS);
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª–æ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
     */
    async loadSaveSlots() {
        try {
            for (let i = 1; i <= APP_CONFIG.MAX_SAVE_SLOTS; i++) {
                const saveData = localStorage.getItem(`saveSlot_${i}`);
                if (saveData) {
                    const save = JSON.parse(saveData);
                    this.saveSlots[i] = save;
                }
            }
        } catch (error) {
            console.warn('Failed to load save slots:', error);
        }
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
     */
    startAutoSave() {
        if (!this.settings.autoSave) return;

        setInterval(() => {
            if (game && game.gameState === 'playing') {
                this.autoSave();
            }
        }, APP_CONFIG.AUTO_SAVE_INTERVAL);
    }

    /**
     * –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
     */
    autoSave() {
        try {
            const saveData = game.saveGame();
            const autoSaveSlot = {
                id: 'auto',
                name: '–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ',
                timestamp: Date.now(),
                data: saveData
            };

            localStorage.setItem('autoSave', JSON.stringify(autoSaveSlot));
            console.log('Auto-save completed');
        } catch (error) {
            console.warn('Auto-save failed:', error);
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
     */
    showMainMenu() {
        this.currentScreen = 'main-menu';
        ui.showScreen('main-menu');
        
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –º—É–∑—ã–∫—É –º–µ–Ω—é
        if (audio) {
            audio.playMusic('menu_music');
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
     */
    showSettingsScreen() {
        this.currentScreen = 'settings';
        ui.showScreen('settings');
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        this.populateSettings();
    }

    /**
     * –ó–∞–ø–æ–ª–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    populateSettings() {
        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤
        const playerCount = document.getElementById('player-count');
        if (playerCount) {
            playerCount.value = this.settings.playerCount || 4;
        }

        // –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
        const selectedTokens = this.settings.selectedTokens || [];
        selectedTokens.forEach(token => {
            const tokenOption = document.querySelector(`[data-token="${token}"]`);
            if (tokenOption) {
                tokenOption.classList.add('selected');
            }
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
        Object.keys(this.settings).forEach(key => {
            if (key.endsWith('Enabled')) {
                const checkbox = document.getElementById(key);
                if (checkbox) {
                    checkbox.checked = this.settings[key];
                }
            }
        });
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –∏–≥—Ä–µ
     */
    showJoinGameScreen() {
        if (!network) {
            this.showNotification('–°–µ—Ç–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã', 'error');
            return;
        }

        this.currentScreen = 'join-game';
        ui.showScreen('join-game');
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª
     */
    showRulesScreen() {
        this.currentScreen = 'rules';
        ui.showScreen('rules');
    }

    /**
     * –ù–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—É—é –∏–≥—Ä—É
     */
    startNewGame() {
        try {
            // –°–±—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Ç—É—Ä–Ω–∏—Ä—ã –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã
            if (achievements) achievements.playerAchievements.clear();
            if (statistics) statistics.initializeStats();
            if (tournaments) tournaments.activeTournaments.clear();

            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤
            const playerData = this.collectPlayerData();
            
            if (playerData.length < 2) {
                this.showNotification('–ú–∏–Ω–∏–º—É–º 2 –∏–≥—Ä–æ–∫–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã', 'warning');
                return;
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            this.updateSettingsFromForm();

            // –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É
            game.startNewGame(playerData);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω
            this.currentScreen = 'game';
            ui.showScreen('game');

            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∏–≥—Ä–æ–≤—É—é –º—É–∑—ã–∫—É
            if (audio) {
                audio.playMusic('game_music');
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—á–µ–±–Ω–∏–∫ –¥–ª—è –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
            if (tutorial && !tutorial.isTutorialCompleted('basic')) {
                setTimeout(() => {
                    tutorial.startTutorial('basic');
                }, 2000);
            }

        } catch (error) {
            console.error('Failed to start new game:', error);
            this.showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã', 'error');
        }
    }

    /**
     * –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤
     */
    collectPlayerData() {
        const playerCount = parseInt(document.getElementById('player-count').value);
        const selectedTokens = Array.from(document.querySelectorAll('.token-option.selected'))
            .map(option => option.dataset.token);

        const players = [];
        for (let i = 0; i < playerCount; i++) {
            players.push({
                id: `player_${i + 1}`,
                name: `–ò–≥—Ä–æ–∫ ${i + 1}`,
                token: selectedTokens[i] || 'matryoshka'
            });
        }

        return players;
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Ñ–æ—Ä–º—ã
     */
    updateSettingsFromForm() {
        // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤
        this.settings.playerCount = parseInt(document.getElementById('player-count').value);

        // –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
        this.settings.selectedTokens = Array.from(document.querySelectorAll('.token-option.selected'))
            .map(option => option.dataset.token);

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª
        const ruleOptions = document.querySelectorAll('input[type="checkbox"]');
        ruleOptions.forEach(option => {
            this.settings[option.id] = option.checked;
        });

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        this.saveSettings();
    }

    /**
     * –í—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–∫–µ–Ω
     * @param {string} token - —Ç–æ–∫–µ–Ω
     */
    selectToken(token) {
        const tokenOptions = document.querySelectorAll('.token-option');
        tokenOptions.forEach(option => {
            option.classList.remove('selected');
        });

        const selectedOption = document.querySelector(`[data-token="${token}"]`);
        if (selectedOption) {
            selectedOption.classList.add('selected');
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            audio.playSound('button_click');
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–∞–≤–∏–ª–∞
     * @param {string} settingId - ID –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     * @param {boolean} value - –∑–Ω–∞—á–µ–Ω–∏–µ
     */
    updateRuleSetting(settingId, value) {
        this.settings[settingId] = value;
        this.saveSettings();

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            audio.playSound('button_click');
        }
    }

    /**
     * –ú–µ–Ω—è–µ—Ç —è–∑—ã–∫
     * @param {string} language - —è–∑—ã–∫
     */
    async changeLanguage(language) {
        this.settings.language = language;
        this.saveSettings();
        await setLocale(language);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        this.updateLanguageDisplay();
        
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            audio.playSound('button_click');
        }
    }

    /**
     * –ë—Ä–æ—Å–∞–µ—Ç –∫–æ—Å—Ç–∏
     */
    rollDice() {
        if (!game || game.gameState !== 'playing') return;

        const result = game.rollDice();
        if (result) {
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
            if (audio) {
                audio.playDiceRoll(result.dice1, result.dice2);
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            ui.updateDiceDisplay(result);
        }
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ö–æ–¥
     */
    endTurn() {
        if (!game || game.gameState !== 'playing') return;

        game.nextPlayer();
        
        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            audio.playSound('button_click');
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    handleAction(action) {
        if (!game) return;

        switch (action) {
            case 'buy_property':
                game.buyProperty();
                break;
            case 'sell_property':
                game.sellProperty();
                break;
            case 'build_residence':
                game.buildResidence();
                break;
            case 'improve_property':
                game.improveProperty();
                break;
            case 'mortgage_property':
                game.mortgageProperty();
                break;
            case 'trade':
                game.showTradeDialog();
                break;
            case 'auction':
                game.showAuctionDialog();
                break;
            case 'alliance':
                game.showAllianceDialog();
                break;
            default:
                console.warn('Unknown action:', action);
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            audio.playSound('button_click');
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Ç–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    handleNetworkAction(action) {
        if (!network) return;

        switch (action) {
            case 'connect':
                network.connect();
                break;
            case 'disconnect':
                network.disconnect();
                break;
            case 'create_room':
                this.showCreateRoomDialog();
                break;
            case 'join_room':
                this.showJoinRoomDialog();
                break;
            case 'leave_room':
                network.leaveRoom();
                break;
            case 'create_tournament':
                this.showCreateTournamentDialog();
                break;
            case 'join_tournament':
                this.showJoinTournamentDialog();
                break;
            default:
                console.warn('Unknown network action:', action);
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            audio.playSound('button_click');
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏
     * @param {KeyboardEvent} e - —Å–æ–±—ã—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏
     */
    handleKeyPress(e) {
        // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        switch (e.key) {
            case 'Escape':
                this.handleEscapeKey();
                break;
            case 'Enter':
                this.handleEnterKey();
                break;
            case 'Space':
                e.preventDefault();
                this.handleSpaceKey();
                break;
            case 'F11':
                e.preventDefault();
                this.toggleFullscreen();
                break;
            case 'F1':
                e.preventDefault();
                this.showHelp();
                break;
            case 'F2':
                e.preventDefault();
                this.showSettings();
                break;
            case 'F3':
                e.preventDefault();
                this.showStatistics();
                break;
            case 'F4':
                e.preventDefault();
                this.showAchievements();
                break;
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏—à—É Escape
     */
    handleEscapeKey() {
        switch (this.currentScreen) {
            case 'game':
                this.showPauseMenu();
                break;
            case 'settings':
            case 'rules':
            case 'join-game':
                this.showMainMenu();
                break;
            default:
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
                ui.closeAllModals();
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏—à—É Enter
     */
    handleEnterKey() {
        switch (this.currentScreen) {
            case 'main-menu':
                this.startNewGame();
                break;
            case 'game':
                this.rollDice();
                break;
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏—à—É Space
     */
    handleSpaceKey() {
        if (this.currentScreen === 'game') {
            this.rollDice();
        }
    }

    /**
     * –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
     */
    toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
            this.settings.fullscreen = true;
        } else {
            document.exitFullscreen();
            this.settings.fullscreen = false;
        }
        this.saveSettings();
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–∫—É
     */
    showHelp() {
        if (tutorial) {
            tutorial.startTutorial('basic');
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    showSettings() {
        this.showSettingsScreen();
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     */
    showStatistics() {
        ui.showStatisticsModal();
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    showAchievements() {
        ui.showAchievementsModal();
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
     */
    handleWindowResize() {
        // –û–±–Ω–æ–≤–ª—è–µ–º UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        if (ui) {
            ui.handleResize();
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Ç–µ—Ä—é —Ñ–æ–∫—É—Å–∞ –æ–∫–Ω–∞
     */
    handleWindowBlur() {
        // –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–≥—Ä—É –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
        if (game && game.gameState === 'playing') {
            game.pauseGame();
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ –æ–∫–Ω–∞
     */
    handleWindowFocus() {
        // –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º –∏–≥—Ä—É –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ–∫—É—Å–∞
        if (game && game.gameState === 'paused') {
            game.resumeGame();
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞
     * @param {Event} e - —Å–æ–±—ã—Ç–∏–µ
     */
    handleBeforeUnload(e) {
        if (game && game.gameState === 'playing') {
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º
            this.autoSave();
            
            const message = '–ò–≥—Ä–∞ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∏–Ω—É—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É?';
            e.preventDefault();
            e.returnValue = message;
            return message;
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
     * @param {Error} error - –æ—à–∏–±–∫–∞
     */
    handleError(error) {
        console.error('App error:', error);

        // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
        if (this.errorHandler) {
            this.errorHandler.errors.push({
                message: error.message,
                stack: error.stack,
                timestamp: Date.now()
            });

            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
            if (this.errorHandler.errors.length > this.errorHandler.maxErrors) {
                this.errorHandler.errors.shift();
            }
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        this.showNotification('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.', 'error');

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –æ—à–∏–±–∫–∏
        if (audio) {
            audio.playErrorSound();
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
     * @param {string} message - —Å–æ–æ–±—â–µ–Ω–∏–µ
     * @param {string} type - —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
     */
    showNotification(message, type = 'info') {
        if (ui) {
            ui.showNotification(message, type);
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (audio) {
            switch (type) {
                case 'success':
                    audio.playSound('notification');
                    break;
                case 'error':
                    audio.playErrorSound();
                    break;
                case 'warning':
                    audio.playSound('warning');
                    break;
                default:
                    audio.playSound('notification');
            }
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏
     * @param {Error} error - –æ—à–∏–±–∫–∞
     */
    showErrorScreen(error) {
        const errorScreen = document.createElement('div');
        errorScreen.className = 'error-screen';
        errorScreen.innerHTML = `
            <div class="error-content">
                <h1>üòû –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h1>
                <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
                <p class="error-details">${error.message}</p>
                <button onclick="location.reload()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
            </div>
        `;
        
        document.body.innerHTML = '';
        document.body.appendChild(errorScreen);
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
     */
    showWelcomeMessage() {
        if (tutorial && !tutorial.isTutorialCompleted('basic')) {
            setTimeout(() => {
                this.showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ù–∞–∂–º–∏—Ç–µ F1 –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.', 'info');
            }, 1000);
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getAppStats() {
        return {
            version: APP_CONFIG.VERSION,
            uptime: Date.now() - this.performanceMonitor.startTime,
            fps: this.performanceMonitor.fps,
            memory: this.performanceMonitor.memory,
            frameCount: this.performanceMonitor.frameCount,
            errors: this.errorHandler.errors.length,
            warnings: this.errorHandler.warnings.length,
            currentScreen: this.currentScreen,
            networkConnected: network ? network.isConnected() : false,
            audioEnabled: audio ? audio.isInitialized() : false,
            tutorialCompleted: tutorial ? tutorial.getProgress().percentage : 0
        };
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
let app;

document.addEventListener('DOMContentLoaded', () => {
    app = new App();
});

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è UI
window.startNewGame = () => app.startNewGame();
window.joinGame = () => app.showJoinGameScreen();
window.showSettings = () => app.showSettingsScreen();
window.showRules = () => app.showRulesScreen();
window.rollDice = () => app.rollDice();
window.endTurn = () => app.endTurn();
window.changeLanguage = (lang) => app.changeLanguage(lang);
window.toggleFullscreen = () => app.toggleFullscreen();
window.showHelp = () => app.showHelp();
window.showStatistics = () => app.showStatistics();
window.showAchievements = () => app.showAchievements();

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { App, APP_CONFIG };
} 
```

## js\localization.test.js
```
import { getText, setLocale, loadLocales } from './localization.js';

global.fetch = jest.fn(() => Promise.resolve({
  json: () => Promise.resolve({
    COMMON: { HELLO: '–ü—Ä–∏–≤–µ—Ç', HI: 'Hi' },
    MESSAGES: { WELCOME: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å' }
  })
}));

describe('localization', () => {
  beforeAll(async () => {
    await loadLocales('ru');
  });

  test('getText returns correct string', () => {
    expect(getText('COMMON.HELLO')).toBe('–ü—Ä–∏–≤–µ—Ç');
    expect(getText('MESSAGES.WELCOME')).toBe('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å');
  });

  test('setLocale switches language', async () => {
    fetch.mockImplementationOnce(() => Promise.resolve({
      json: () => Promise.resolve({ COMMON: { HI: 'Hallo' } })
    }));
    await setLocale('de');
    expect(getText('COMMON.HI')).toBe('Hallo');
  });
}); 
```

## js\localization.js
```
// –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
let locales = {};
let currentLocale = 'ru';

export const loadLocales = async (lang = 'ru') => {
  const response = await fetch(`assets/tokens/${lang}.json`);
  locales[lang] = await response.json();
  currentLocale = lang;
};

export const setLocale = async (locale) => {
  if (!locales[locale]) {
    await loadLocales(locale);
  }
  currentLocale = locale;
  return true;
};

export const getText = (key, params = {}) => {
  const keys = key.split('.');
  let text = locales[currentLocale];
  for (const k of keys) {
    if (text && text[k]) {
      text = text[k];
    } else {
      console.warn(`Translation key not found: ${key}`);
      return key;
    }
  }
  if (typeof text === 'string' && Object.keys(params).length > 0) {
    return text.replace(/\{(\w+)\}/g, (match, param) => {
      return params[param] !== undefined ? params[param] : match;
    });
  }
  return text;
};

export const setLocales = (newLocales) => { locales = newLocales; };
export const getCurrentLocale = () => currentLocale; 
```

## js\game.js
```
/**
 * –£–ª—É—á—à–µ–Ω–Ω—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∏–≥—Ä—ã
 * –£–ø—Ä–∞–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, —Ö–æ–¥–∞–º–∏ –∏–≥—Ä–æ–∫–æ–≤ –∏ –æ–±—â–µ–π –ª–æ–≥–∏–∫–æ–π –∏–≥—Ä—ã
 */

import { getText } from './localization.js';
import { formatMoney, generateId } from './utils.js';
import { saveToStorage, loadFromStorage } from './storage.js';
import { randomChoice, rollDice } from './random.js';
// TODO: escapeHTML, showToast, randomInt, passedStart ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å/–∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

// –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
const randomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
const escapeHTML = (str) => String(str).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]);
const showToast = (msg) => alert(msg); // –í—Ä–µ–º–µ–Ω–Ω–æ alert
const passedStart = (oldPos, newPos) => newPos < oldPos;

class Game {
    constructor() {
        this.players = [];
        this.currentPlayerIndex = 0;
        this.gameState = 'waiting'; // waiting, playing, paused, finished
        this.turnNumber = 0;
        this.dice = { dice1: 0, dice2: 0, total: 0, isDouble: false };
        this.auction = null;
        this.chat = [];
        this.settings = { ...CONFIG.DEFAULT_SETTINGS };
        this.gameHistory = [];
        
        // –ù–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
        this.weather = { type: 'sunny', duration: 0, effects: {} };
        this.economicEvent = null;
        this.culturalEvent = null;
        this.tradeOffers = [];
        this.alliances = [];
        this.tournament = null;
        this.achievements = [];
        this.statistics = {
            totalGames: 0,
            totalTurns: 0,
            totalMoney: 0,
            totalProperties: 0,
            totalAuctions: 0,
            totalTrades: 0
        };
        
        this.initializeGame();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä—É
     */
    initializeGame() {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
        this.board = board;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        this.loadSettings();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —á–∞—Ç
        this.initializeChat();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞—É–∫—Ü–∏–æ–Ω—ã
        this.initializeAuctions();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–≥–æ–¥—É
        this.initializeWeather();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏—è
        this.initializeEvents();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–æ—Ä–≥–æ–≤–ª—é
        this.initializeTrading();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞–ª—å—è–Ω—Å—ã
        this.initializeAlliances();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç—É—Ä–Ω–∏—Ä—ã
        this.initializeTournaments();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        this.initializeAchievements();

        // –í —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –∏–ª–∏ initializeGame)
        if (window.localStorage) {
            const saved = localStorage.getItem('monopoly-autosave');
            if (saved) {
                setTimeout(() => {
                    if (confirm('–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –∏–≥—Ä–∞. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
                        try {
                            this.loadGame(JSON.parse(saved));
                        } catch (e) { alert('–û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã!'); }
                    } else {
                        localStorage.removeItem('monopoly-autosave');
                    }
                }, 200);
            }
        }
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∏–≥—Ä—É
     * @param {Array} playerData - –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤
     */
    startNewGame(playerData) {
        this.players = [];
        this.currentPlayerIndex = 0;
        this.turnNumber = 0;
        this.gameState = 'playing';
        this.gameHistory = [];
        
        // –°–æ–∑–¥–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
        playerData.forEach((data, index) => {
            const player = new Player(data.id, data.name, data.token);
            player.turnOrder = index;
            this.players.push(player);
        });
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∫–∞–∫ —Ç–µ–∫—É—â–µ–≥–æ
        this.setCurrentPlayer(0);
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
        this.board.initializeBoard();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–≥–æ–¥—É
        this.updateWeather();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏—è
        this.updateEvents();
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.GAME_START', { 
            player: this.players[0].name 
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        this.updateGameUI();
        
        // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        if (this.settings.autoSave) {
            this.saveGame();
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        this.startGameLoop();
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
     */
    startGameLoop() {
        this.gameLoop = setInterval(() => {
            if (this.gameState === 'playing') {
                this.updateGameLoop();
            }
        }, 1000); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
     */
    updateGameLoop() {
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–≥–æ–¥—É
        this.updateWeather();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏—è
        this.updateEvents();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞—É–∫—Ü–∏–æ–Ω—ã
        this.updateAuctions();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—Ä–≥–æ–≤–ª—é
        this.updateTrading();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–ª—å—è–Ω—Å—ã
        this.updateAlliances();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç—É—Ä–Ω–∏—Ä—ã
        this.updateTournaments();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        this.updateAchievements();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        this.updateStatistics();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–≥–æ–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É
     */
    initializeWeather() {
        this.weather = {
            type: 'sunny',
            duration: 0,
            effects: {},
            intensity: 1
        };
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–≥–æ–¥—É
     */
    updateWeather() {
        // –ö–∞–∂–¥—ã–µ 5 —Ö–æ–¥–æ–≤ –º–µ–Ω—è–µ–º –ø–æ–≥–æ–¥—É
        if (this.turnNumber % 5 === 0 && this.turnNumber > 0) {
            this.changeWeather();
        }
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–≥–æ–¥—ã
        this.applyWeatherEffects();
    }

    /**
     * –ú–µ–Ω—è–µ—Ç –ø–æ–≥–æ–¥—É
     */
    changeWeather() {
        const weatherTypes = CONFIG.WEATHER;
        const newWeather = weatherTypes[randomInt(0, weatherTypes.length - 1)];
        
        this.weather = {
            type: newWeather.type,
            duration: newWeather.duration || 3,
            effects: newWeather.effects || {},
            intensity: newWeather.intensity || 1
        };
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.WEATHER_CHANGE', {
            weather: getText(`WEATHER.${newWeather.type.toUpperCase()}`)
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
        this.updateWeatherDisplay();
    }

    /**
     * –ü—Ä–∏–º–µ–Ω—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–≥–æ–¥—ã
     */
    applyWeatherEffects() {
        if (!this.weather.effects) return;
        
        this.players.forEach(player => {
            if (player.bankrupt) return;
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É
            if (this.weather.effects.rent) {
                player.properties.forEach(property => {
                    if (property.rent) {
                        property.rent *= this.weather.effects.rent;
                    }
                });
            }
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–µ
            if (this.weather.effects.movement) {
                player.movementModifier = this.weather.effects.movement;
            }
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ
            if (this.weather.effects.building) {
                player.buildingModifier = this.weather.effects.building;
            }
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–æ–±—ã—Ç–∏–π
     */
    initializeEvents() {
        this.economicEvent = null;
        this.culturalEvent = null;
        this.eventHistory = [];
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è
     */
    updateEvents() {
        // –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∂–¥—ã–µ 10 —Ö–æ–¥–æ–≤
        if (this.turnNumber % 10 === 0 && this.turnNumber > 0) {
            this.triggerEconomicEvent();
        }
        
        // –ö—É–ª—å—Ç—É—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∂–¥—ã–µ 15 —Ö–æ–¥–æ–≤
        if (this.turnNumber % 15 === 0 && this.turnNumber > 0) {
            this.triggerCulturalEvent();
        }
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ
     */
    triggerEconomicEvent() {
        const events = CONFIG.ECONOMIC_EVENTS;
        const event = events[randomInt(0, events.length - 1)];
        
        this.economicEvent = {
            ...event,
            active: true,
            duration: event.duration || 5
        };
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã —Å–æ–±—ã—Ç–∏—è
        this.applyEconomicEvent();
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.ECONOMIC_EVENT', {
            event: getText(`ECONOMIC_EVENTS.${event.type.toUpperCase()}`)
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
        this.updateEventsDisplay();
    }

    /**
     * –ü—Ä–∏–º–µ–Ω—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ
     */
    applyEconomicEvent() {
        if (!this.economicEvent || !this.economicEvent.active) return;
        
        this.players.forEach(player => {
            if (player.bankrupt) return;
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
            if (this.economicEvent.propertyValue) {
                player.properties.forEach(property => {
                    property.value *= this.economicEvent.propertyValue;
                });
            }
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –¥–æ—Ö–æ–¥—ã
            if (this.economicEvent.income) {
                player.incomeModifier = this.economicEvent.income;
            }
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –Ω–∞–ª–æ–≥–∏
            if (this.economicEvent.taxes) {
                player.taxModifier = this.economicEvent.taxes;
            }
        });
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ
     */
    triggerCulturalEvent() {
        const events = CONFIG.CULTURAL_EVENTS;
        const event = events[randomInt(0, events.length - 1)];
        
        this.culturalEvent = {
            ...event,
            active: true,
            duration: event.duration || 3
        };
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã —Å–æ–±—ã—Ç–∏—è
        this.applyCulturalEvent();
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.CULTURAL_EVENT', {
            event: getText(`CULTURAL_EVENTS.${event.type.toUpperCase()}`)
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
        this.updateEventsDisplay();
    }

    /**
     * –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ
     */
    applyCulturalEvent() {
        if (!this.culturalEvent || !this.culturalEvent.active) return;
        
        this.players.forEach(player => {
            if (player.bankrupt) return;
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã
            if (this.culturalEvent.tourism) {
                player.properties.forEach(property => {
                    if (property.type === 'tourism') {
                        property.rent *= this.culturalEvent.tourism;
                    }
                });
            }
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
            if (this.culturalEvent.culture) {
                player.properties.forEach(property => {
                    if (property.type === 'culture') {
                        property.rent *= this.culturalEvent.culture;
                    }
                });
            }
        });
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —Ç–æ—Ä–≥–æ–≤–ª–∏
     */
    initializeTrading() {
        this.tradeOffers = [];
        this.tradeHistory = [];
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª—é
     */
    updateTrading() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Ç–æ—Ä–≥–æ–≤–ª–∏
        this.tradeOffers = this.tradeOffers.filter(offer => {
            if (offer.expiresAt && Date.now() > offer.expiresAt) {
                this.addChatMessage('system', getText('MESSAGES.TRADE_EXPIRED', {
                    from: offer.from.name,
                    to: offer.to.name
                }));
                return false;
            }
            return true;
        });
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     * @param {Player} from - –∏–≥—Ä–æ–∫, –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–∏–π —Ç–æ—Ä–≥–æ–≤–ª—é
     * @param {Player} to - –∏–≥—Ä–æ–∫, –ø–æ–ª—É—á–∞—é—â–∏–π –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
     * @param {Object} offer - —á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è
     * @param {Object} request - —á—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è
     */
    createTradeOffer(from, to, offer, request) {
        const tradeOffer = {
            id: generateId(),
            from: from,
            to: to,
            offer: offer,
            request: request,
            createdAt: Date.now(),
            expiresAt: Date.now() + (5 * 60 * 1000), // 5 –º–∏–Ω—É—Ç
            status: 'pending'
        };
        
        this.tradeOffers.push(tradeOffer);
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.TRADE_OFFER', {
            from: from.name,
            to: to.name
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
        this.updateTradingDisplay();
        
        return tradeOffer;
    }

    /**
     * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     * @param {string} tradeId - ID –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
     */
    acceptTradeOffer(tradeId) {
        const offer = this.tradeOffers.find(o => o.id === tradeId);
        if (!offer || offer.status !== 'pending') return false;
        
        // –í—ã–ø–æ–ª–Ω—è–µ–º –æ–±–º–µ–Ω
        this.executeTrade(offer);
        
        // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
        this.tradeOffers = this.tradeOffers.filter(o => o.id !== tradeId);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        this.tradeHistory.push({
            ...offer,
            status: 'accepted',
            completedAt: Date.now()
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.TRADE_ACCEPTED', {
            from: offer.from.name,
            to: offer.to.name
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
        this.updateTradingDisplay();
        
        return true;
    }

    /**
     * –û—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     * @param {string} tradeId - ID –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
     */
    rejectTradeOffer(tradeId) {
        const offer = this.tradeOffers.find(o => o.id === tradeId);
        if (!offer || offer.status !== 'pending') return false;
        
        // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
        this.tradeOffers = this.tradeOffers.filter(o => o.id !== tradeId);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        this.tradeHistory.push({
            ...offer,
            status: 'rejected',
            completedAt: Date.now()
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.TRADE_REJECTED', {
            from: offer.from.name,
            to: offer.to.name
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
        this.updateTradingDisplay();
        
        return true;
    }

    /**
     * –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ—Ä–≥–æ–≤—É—é —Å–¥–µ–ª–∫—É
     * @param {Object} offer - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
     */
    executeTrade(offer) {
        const { from, to, offer: offerItems, request: requestItems } = offer;
        
        // –û–±–º–µ–Ω–∏–≤–∞–µ–º –¥–µ–Ω—å–≥–∏
        if (offerItems.money) {
            from.payMoney(offerItems.money);
            to.receiveMoney(offerItems.money);
        }
        
        if (requestItems.money) {
            to.payMoney(requestItems.money);
            from.receiveMoney(requestItems.money);
        }
        
        // –û–±–º–µ–Ω–∏–≤–∞–µ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
        if (offerItems.properties) {
            offerItems.properties.forEach(propertyId => {
                const property = from.properties.find(p => p.id === propertyId);
                if (property) {
                    from.sellProperty(property, to);
                }
            });
        }
        
        if (requestItems.properties) {
            requestItems.properties.forEach(propertyId => {
                const property = to.properties.find(p => p.id === propertyId);
                if (property) {
                    to.sellProperty(property, from);
                }
            });
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        this.statistics.totalTrades++;
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –∞–ª—å—è–Ω—Å–æ–≤
     */
    initializeAlliances() {
        this.alliances = [];
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –∞–ª—å—è–Ω—Å—ã
     */
    updateAlliances() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –∞–ª—å—è–Ω—Å–æ–≤
        this.alliances.forEach(alliance => {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –Ω–∞—Ä—É—à–µ–Ω—ã –ª–∏ —É—Å–ª–æ–≤–∏—è –∞–ª—å—è–Ω—Å–∞
            if (alliance.conditions && !this.checkAllianceConditions(alliance)) {
                this.breakAlliance(alliance);
            }
        });
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –∞–ª—å—è–Ω—Å
     * @param {Array} players - –∏–≥—Ä–æ–∫–∏ –≤ –∞–ª—å—è–Ω—Å–µ
     * @param {Object} conditions - —É—Å–ª–æ–≤–∏—è –∞–ª—å—è–Ω—Å–∞
     */
    createAlliance(players, conditions = {}) {
        const alliance = {
            id: generateId(),
            players: players,
            conditions: conditions,
            createdAt: Date.now(),
            benefits: {
                rentSharing: 0.1, // 10% –æ—Ç –∞—Ä–µ–Ω–¥—ã –¥–µ–ª–∏—Ç—Å—è –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
                tradeDiscount: 0.05, // 5% —Å–∫–∏–¥–∫–∞ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é
                mutualSupport: true
            }
        };
        
        this.alliances.push(alliance);
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.ALLIANCE_FORMED', {
            players: players.map(p => p.name).join(', ')
        }));
        
        return alliance;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –∞–ª—å—è–Ω—Å–∞
     * @param {Object} alliance - –∞–ª—å—è–Ω—Å
     */
    checkAllianceConditions(alliance) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –≤—Å–µ –µ—â–µ –≤ –∏–≥—Ä–µ
        return alliance.players.every(player => !player.bankrupt);
    }

    /**
     * –†–∞—Å—Ç–æ—Ä–≥–∞–µ—Ç –∞–ª—å—è–Ω—Å
     * @param {Object} alliance - –∞–ª—å—è–Ω—Å
     */
    breakAlliance(alliance) {
        this.alliances = this.alliances.filter(a => a.id !== alliance.id);
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.ALLIANCE_BROKEN', {
            players: alliance.players.map(p => p.name).join(', ')
        }));
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —Ç—É—Ä–Ω–∏—Ä–æ–≤
     */
    initializeTournaments() {
        this.tournament = null;
        this.tournamentHistory = [];
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç—É—Ä–Ω–∏—Ä—ã
     */
    updateTournaments() {
        if (this.tournament) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç—É—Ä–Ω–∏—Ä–∞
            if (this.checkTournamentEnd()) {
                this.endTournament();
            }
        }
    }

    /**
     * –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä
     * @param {Object} config - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—É—Ä–Ω–∏—Ä–∞
     */
    startTournament(config) {
        this.tournament = {
            id: generateId(),
            type: config.type || 'elimination',
            players: [...this.players],
            rounds: [],
            currentRound: 0,
            startedAt: Date.now(),
            config: config
        };
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.TOURNAMENT_START', {
            type: getText(`TOURNAMENT.${config.type.toUpperCase()}`)
        }));
        
        return this.tournament;
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–∫–æ–Ω—á–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
     */
    checkTournamentEnd() {
        if (!this.tournament) return false;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Ç—É—Ä–Ω–∏—Ä–∞
        switch (this.tournament.type) {
            case 'elimination':
                return this.tournament.players.length <= 1;
            case 'points':
                return this.tournament.currentRound >= this.tournament.config.maxRounds;
            default:
                return false;
        }
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ç—É—Ä–Ω–∏—Ä
     */
    endTournament() {
        if (!this.tournament) return;
        
        const winner = this.tournament.players[0];
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        this.tournamentHistory.push({
            ...this.tournament,
            endedAt: Date.now(),
            winner: winner
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.TOURNAMENT_END', {
            winner: winner.name
        }));
        
        this.tournament = null;
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    initializeAchievements() {
        this.achievements = [];
        this.achievementHistory = [];
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    updateAchievements() {
        this.players.forEach(player => {
            if (player.bankrupt) return;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            this.checkAchievements(player);
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkAchievements(player) {
        const achievements = CONFIG.ACHIEVEMENTS;
        
        achievements.forEach(achievement => {
            if (this.hasAchievement(player, achievement.id)) return;
            
            if (this.checkAchievementCondition(player, achievement)) {
                this.unlockAchievement(player, achievement);
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –∏–≥—Ä–æ–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {string} achievementId - ID –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    hasAchievement(player, achievementId) {
        return player.achievements.some(a => a.id === achievementId);
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} achievement - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     */
    checkAchievementCondition(player, achievement) {
        switch (achievement.type) {
            case 'money':
                return player.money >= achievement.condition;
            case 'properties':
                return player.properties.length >= achievement.condition;
            case 'trades':
                return this.tradeHistory.filter(t => 
                    t.from.id === player.id || t.to.id === player.id
                ).length >= achievement.condition;
            case 'wins':
                return player.wins >= achievement.condition;
            default:
                return false;
        }
    }

    /**
     * –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} achievement - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     */
    unlockAchievement(player, achievement) {
        player.achievements.push({
            ...achievement,
            unlockedAt: Date.now()
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        this.achievementHistory.push({
            player: player,
            achievement: achievement,
            unlockedAt: Date.now()
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.ACHIEVEMENT_UNLOCKED', {
            player: player.name,
            achievement: getText(`ACHIEVEMENTS.${achievement.id.toUpperCase()}`)
        }));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        this.updateAchievementsDisplay();
        // –ê–Ω–∏–º–∞—Ü–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const panel = document.getElementById('achievements-panel');
        if (panel) {
            const els = panel.querySelectorAll('.achievement');
            if (els.length) {
                const el = els[els.length - 1];
                el.classList.add('unlocked');
                setTimeout(() => el.classList.remove('unlocked'), 1000);
            }
        }
        if (typeof showToast === 'function') {
            showToast(`–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: ${achievement.name}`);
        } else if (typeof utils.showToast === 'function') {
            utils.showToast(`–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: ${achievement.name}`);
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
     */
    updateStatistics() {
        this.statistics.totalTurns = this.turnNumber;
        this.statistics.totalMoney = this.players.reduce((sum, p) => sum + p.money, 0);
        this.statistics.totalProperties = this.players.reduce((sum, p) => sum + p.properties.length, 0);
    }

    /**
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
     * @param {number} index - –∏–Ω–¥–µ–∫—Å –∏–≥—Ä–æ–∫–∞
     */
    setCurrentPlayer(index) {
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
        if (this.players[this.currentPlayerIndex]) {
            this.players[this.currentPlayerIndex].setCurrentPlayer(false);
        }
        
        this.currentPlayerIndex = index;
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–æ–≤–æ–º—É –∏–≥—Ä–æ–∫—É
        if (this.players[this.currentPlayerIndex]) {
            this.players[this.currentPlayerIndex].setCurrentPlayer(true);
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
        this.updateCurrentPlayerDisplay();
    }

    /**
     * –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∏–≥—Ä–æ–∫—É
     */
    nextPlayer() {
        let nextIndex = (this.currentPlayerIndex + 1) % this.players.length;
        
        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –±–∞–Ω–∫—Ä–æ—Ç–æ–≤
        while (this.players[nextIndex] && this.players[nextIndex].bankrupt) {
            nextIndex = (nextIndex + 1) % this.players.length;
            
            // –ï—Å–ª–∏ –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –±–∞–Ω–∫—Ä–æ—Ç—ã, –∫—Ä–æ–º–µ —Ç–µ–∫—É—â–µ–≥–æ
            if (nextIndex === this.currentPlayerIndex) {
                this.endGame();
                return;
            }
        }
        
        this.setCurrentPlayer(nextIndex);
        this.turnNumber++;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
        this.board.update();
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
        this.checkGameEndConditions();
        
        // --- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ---
        if (window.localStorage) {
            try {
                const saveData = this.saveGame();
                localStorage.setItem('monopoly-autosave', JSON.stringify(saveData));
            } catch (e) { console.warn('Auto-save failed:', e); }
        }
    }

    /**
     * –ë—Ä–æ—Å–∞–µ—Ç –∫–æ—Å—Ç–∏
     * @returns {Object} —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—Ä–æ—Å–∫–∞
     */
    async rollDice() {
        const currentPlayer = this.players[this.currentPlayerIndex];
        if (!currentPlayer || currentPlayer.bankrupt) {
            return null;
        }
        // –ë—Ä–æ—Å–∞–µ–º –∫–æ—Å—Ç–∏
        this.dice = rollDice();
        currentPlayer.lastRoll = this.dice;
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –¥—É–±–ª—å
        if (this.dice.isDouble) {
            currentPlayer.doublesCount++;
        } else {
            currentPlayer.doublesCount = 0;
        }
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ —Ç—é—Ä—å–º—É (3 –¥—É–±–ª—è –ø–æ–¥—Ä—è–¥)
        if (currentPlayer.doublesCount >= 3) {
            currentPlayer.goToJail();
            currentPlayer.doublesCount = 0;
            this.addChatMessage('system', getText('MESSAGES.JAIL_VISIT', { 
                player: currentPlayer.name 
            }));
            this.nextPlayer();
            return this.dice;
        }
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        this.addChatMessage('system', getText('MESSAGES.DICE_ROLL', {
            player: currentPlayer.name,
            dice1: this.dice.dice1,
            dice2: this.dice.dice2
        }));
        // –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–û–ï –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
        const oldPos = currentPlayer.position;
        const steps = this.dice.total;
        const newPos = (oldPos + steps) % 40;
        await currentPlayer.animateTokenMove(oldPos, newPos);
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞
        currentPlayer.position = newPos;
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–ª–µ—Ç–∫—É, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –ø–æ–ø–∞–ª –∏–≥—Ä–æ–∫
        this.handleCellLanding(currentPlayer, currentPlayer.position);
        // –ï—Å–ª–∏ –Ω–µ –¥—É–±–ª—å, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∏–≥—Ä–æ–∫—É
        if (!this.dice.isDouble) {
            this.nextPlayer();
        }
        return this.dice;
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–∞ –∫–ª–µ—Ç–∫—É
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     */
    handleCellLanding(player, position) {
        const cell = this.board.getCell(position);
        if (!cell) return;
        
        switch (cell.type) {
            case 'property':
                this.handlePropertyLanding(player, cell);
                break;
            case 'chance':
                this.handleChanceCard(player);
                break;
            case 'treasure':
                this.handleTreasureCard(player);
                break;
            case 'tax':
                this.handleTaxLanding(player, cell);
                break;
            case 'go_to_jail':
                player.goToJail();
                this.addChatMessage('system', getText('MESSAGES.JAIL_VISIT', { 
                    player: player.name 
                }));
                break;
            case 'free_parking':
                // –ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
                break;
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} cell - –∫–ª–µ—Ç–∫–∞
     */
    handlePropertyLanding(player, cell) {
        if (!cell.owner) {
            // –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–∞ - –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∫—É–ø–∏—Ç—å
            this.offerPropertyPurchase(player, cell);
        } else if (cell.owner !== player.id) {
            // –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–º—É –∏–≥—Ä–æ–∫—É - –ø–ª–∞—Ç–∏–º –∞—Ä–µ–Ω–¥—É
            this.handleRentPayment(player, cell);
        }
    }

    /**
     * –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫—É–ø–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} cell - –∫–ª–µ—Ç–∫–∞
     */
    offerPropertyPurchase(player, cell) {
        if (player.hasMoney(cell.price)) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –ø–æ–∫—É–ø–∫–∏
            this.showPurchaseDialog(player, cell);
        } else {
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞—É–∫—Ü–∏–æ–Ω
            this.startAuction(cell);
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–ø–ª–∞—Ç—É –∞—Ä–µ–Ω–¥—ã
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} cell - –∫–ª–µ—Ç–∫–∞
     */
    handleRentPayment(player, cell) {
        const owner = this.players.find(p => p.id === cell.owner);
        if (!owner) return;
        
        const rentAmount = this.board.calculateRent(cell.position, owner.id);
        
        if (player.canPayRent(rentAmount)) {
            if (player.payRent(rentAmount, owner)) {
                this.addChatMessage('system', getText('MESSAGES.RENT_PAID', {
                    player: player.name,
                    amount: rentAmount,
                    owner: owner.name
                }));
            }
        } else {
            // –ò–≥—Ä–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø–ª–∞—Ç–∏—Ç—å - –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
            this.handleBankruptcy(player, owner, rentAmount);
        }
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–∞
     * @param {Player} player - –±–∞–Ω–∫—Ä–æ—Ç
     * @param {Player} creditor - –∫—Ä–µ–¥–∏—Ç–æ—Ä
     * @param {number} debt - –¥–æ–ª–≥
     */
    handleBankruptcy(player, creditor, debt) {
        // –ü–µ—Ä–µ–¥–∞–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤—ã –∫—Ä–µ–¥–∏—Ç–æ—Ä—É
        player.properties.forEach(position => {
            const cell = this.board.getCell(position);
            if (cell) {
                cell.owner = creditor.id;
                creditor.properties.push(position);
            }
        });
        
        // –ü–µ—Ä–µ–¥–∞–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–µ–Ω—å–≥–∏
        if (player.money > 0) {
            creditor.addMoney(player.money);
            player.removeMoney(player.money);
        }
        
        player.declareBankruptcy();
        
        this.addChatMessage('system', getText('MESSAGES.BANKRUPTCY', { 
            player: player.name 
        }));
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
        this.checkGameEndConditions();
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –®–∞–Ω—Å
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    handleChanceCard(player) {
        const card = randomChoice(CONFIG.CHANCE_CARDS);
        this.showChanceCard(card);
        
        this.applyChanceCard(player, card);
        this.stats.chanceCardsDrawn++;
    }

    /**
     * –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –®–∞–Ω—Å
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} card - –∫–∞—Ä—Ç–æ—á–∫–∞
     */
    applyChanceCard(player, card) {
        switch (card.type) {
            case 'money':
                if (card.amount > 0) {
                    player.addMoney(card.amount);
                } else {
                    player.removeMoney(Math.abs(card.amount));
                }
                break;
            case 'move':
                player.moveToPosition(card.target, true);
                this.handleCellLanding(player, player.position);
                break;
        }
        
        this.addChatMessage('system', getText('MESSAGES.CHANCE_CARD', { 
            text: card.text 
        }));
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ö–∞–∑–Ω–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    handleTreasureCard(player) {
        const card = randomChoice(CONFIG.TREASURE_CARDS);
        this.showTreasureCard(card);
        
        this.applyTreasureCard(player, card);
        this.stats.treasureCardsDrawn++;
    }

    /**
     * –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ö–∞–∑–Ω–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} card - –∫–∞—Ä—Ç–æ—á–∫–∞
     */
    applyTreasureCard(player, card) {
        switch (card.type) {
            case 'money':
                if (card.amount > 0) {
                    player.addMoney(card.amount);
                } else {
                    player.removeMoney(Math.abs(card.amount));
                }
                break;
        }
        
        this.addChatMessage('system', getText('MESSAGES.TREASURE_CARD', { 
            text: card.text 
        }));
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –Ω–∞ –Ω–∞–ª–æ–≥–æ–≤—É—é –∫–ª–µ—Ç–∫—É
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} cell - –∫–ª–µ—Ç–∫–∞
     */
    handleTaxLanding(player, cell) {
        const taxAmount = cell.price;
        
        if (player.hasMoney(taxAmount)) {
            player.removeMoney(taxAmount, 'tax');
            this.addChatMessage('system', `${player.name} –∑–∞–ø–ª–∞—Ç–∏–ª –Ω–∞–ª–æ–≥ ${taxAmount}‚ÇΩ`);
        } else {
            this.handleBankruptcy(player, null, taxAmount);
        }
    }

    /**
     * –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞—É–∫—Ü–∏–æ–Ω
     * @param {Object} cell - –∫–ª–µ—Ç–∫–∞ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–∞
     */
    startAuction(cell) {
        this.auction = {
            cell: cell,
            currentBid: 0,
            currentBidder: null,
            participants: this.players.filter(p => !p.bankrupt),
            timeLeft: CONFIG.AUCTION.TIME_LIMIT,
            active: true
        };
        
        this.addChatMessage('system', getText('MESSAGES.AUCTION_START', { 
            property: cell.name 
        }));
        
        this.showAuctionDialog();
    }

    /**
     * –î–µ–ª–∞–µ—Ç —Å—Ç–∞–≤–∫—É –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @param {number} amount - —Å—É–º–º–∞ —Å—Ç–∞–≤–∫–∏
     * @returns {boolean} true –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞
     */
    makeBid(playerId, amount) {
        if (!this.auction || !this.auction.active) {
            return false;
        }
        
        const player = this.players.find(p => p.id === playerId);
        if (!player || player.bankrupt || !player.hasMoney(amount)) {
            return false;
        }
        
        if (amount <= this.auction.currentBid) {
            return false;
        }
        
        this.auction.currentBid = amount;
        this.auction.currentBidder = playerId;
        this.auction.timeLeft = CONFIG.AUCTION.TIME_LIMIT;
        
        this.updateAuctionDisplay();
        return true;
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç –∞—É–∫—Ü–∏–æ–Ω
     */
    endAuction() {
        if (!this.auction || !this.auction.active) {
            return;
        }
        
        if (this.auction.currentBidder) {
            const winner = this.players.find(p => p.id === this.auction.currentBidder);
            if (winner && winner.hasMoney(this.auction.currentBid)) {
                winner.removeMoney(this.auction.currentBid, 'auction');
                this.board.buyCell(this.auction.cell.position, winner.id, this.auction.currentBid);
                winner.properties.push(this.auction.cell.position);
                winner.stats.auctionsWon++;
                
                this.addChatMessage('system', getText('MESSAGES.AUCTION_WIN', {
                    player: winner.name,
                    amount: this.auction.currentBid
                }));
            }
        }
        
        this.auction = null;
        this.hideAuctionDialog();
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
     */
    checkGameEndConditions() {
        const activePlayers = this.players.filter(p => !p.bankrupt);
        
        if (activePlayers.length <= 1) {
            this.endGame();
        }
    }

    /**
     * –ó–∞–≤–µ—Ä—à–∞–µ—Ç –∏–≥—Ä—É
     */
    endGame() {
        this.gameState = 'finished';
        
        const winner = this.players.find(p => !p.bankrupt);
        if (winner) {
            this.addChatMessage('system', getText('MESSAGES.GAME_OVER', { 
                winner: winner.name 
            }));
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            this.showVictoryScreen(winner);
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        this.saveGameStats();
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
     * @param {string} sender - –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å
     * @param {string} message - —Å–æ–æ–±—â–µ–Ω–∏–µ
     */
    addChatMessage(sender, message) {
        const chatMessage = {
            id: generateId(),
            sender: sender,
            message: message,
            timestamp: new Date().toISOString()
        };
        
        this.chat.push(chatMessage);
        
        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
        if (this.chat.length > 100) {
            this.chat.shift();
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI —á–∞—Ç–∞
        this.updateChatDisplay();
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä—ã
     */
    updateGameUI() {
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
        this.players.forEach(player => {
            player.updateMoneyDisplay();
            player.updateTokenPosition();
        });
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
        this.updateCurrentPlayerDisplay();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
        this.updateWeatherDisplay();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
        this.updateEventsDisplay();
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
     */
    updateCurrentPlayerDisplay() {
        const currentPlayer = this.players[this.currentPlayerIndex];
        if (!currentPlayer) return;
        
        const playerInfo = document.querySelector('.current-player .player-info');
        if (playerInfo) {
            const tokenImg = playerInfo.querySelector('.player-token');
            const playerName = playerInfo.querySelector('.player-name');
            
            if (tokenImg) tokenImg.src = currentPlayer.token;
            if (playerName) playerName.textContent = currentPlayer.name;
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
     */
    updateWeatherDisplay() {
        const weatherElement = document.getElementById('current-weather');
        if (weatherElement) {
            const weatherType = CONFIG.WEATHER_TYPES.find(w => w.id === this.board.weather);
            weatherElement.textContent = weatherType ? weatherType.name : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
     */
    updateEventsDisplay() {
        // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–∞—Ç–∞
     */
    updateChatDisplay() {
        const chatMessages = document.getElementById('chat-messages');
        if (!chatMessages) return;
        
        chatMessages.innerHTML = '';
        
        this.chat.forEach(msg => {
            const messageElement = document.createElement('div');
            messageElement.className = 'message';
            messageElement.innerHTML = `
                <span class="message-sender">${escapeHTML(msg.sender)}:</span>
                <span class="message-text">${escapeHTML(msg.message)}</span>
            `;
            chatMessages.appendChild(messageElement);
        });
        
        // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞
     */
    updateAuctionDisplay() {
        if (!this.auction) return;
        
        const bidAmount = document.getElementById('current-bid-amount');
        const bidder = document.getElementById('current-bidder');
        const timer = document.getElementById('auction-time');
        
        if (bidAmount) bidAmount.textContent = formatMoney(this.auction.currentBid);
        if (bidder) {
            const currentBidderPlayer = this.players.find(p => p.id === this.auction.currentBidder);
            bidder.textContent = currentBidderPlayer ? currentBidderPlayer.name : '–ù–µ—Ç';
        }
        if (timer) timer.textContent = this.auction.timeLeft;
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –ø–æ–∫—É–ø–∫–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} cell - –∫–ª–µ—Ç–∫–∞
     */
    showPurchaseDialog(player, cell) {
        // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–∞ –ø–æ–∫—É–ø–∫–∏
        const modal = document.getElementById('modal-overlay');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        
        modalTitle.textContent = '–ü–æ–∫—É–ø–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏';
        modalContent.innerHTML = `
            <p>–í—ã —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å ${cell.name} –∑–∞ ${formatMoney(cell.price)}?</p>
            <div class="property-info">
                <p><strong>–ê—Ä–µ–Ω–¥–Ω–∞—è –ø–ª–∞—Ç–∞:</strong></p>
                <ul>
                    ${cell.rent.map((rent, index) => 
                        `<li>${index === 0 ? '–ë–µ–∑ —É–ª—É—á—à–µ–Ω–∏–π' : `${index} —É–ª—É—á—à–µ–Ω–∏–π`}: ${formatMoney(rent)}</li>`
                    ).join('')}
                </ul>
            </div>
        `;
        
        modal.classList.remove('hidden');
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
        document.getElementById('modal-confirm').onclick = () => {
            if (player.buyProperty(cell.position, cell.price)) {
                this.addChatMessage('system', getText('MESSAGES.PROPERTY_PURCHASED', {
                    player: player.name,
                    property: cell.name,
                    price: cell.price
                }));
            }
            modal.classList.add('hidden');
        };
        
        document.getElementById('modal-cancel').onclick = () => {
            this.startAuction(cell);
            modal.classList.add('hidden');
        };
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –®–∞–Ω—Å
     * @param {Object} card - –∫–∞—Ä—Ç–æ—á–∫–∞
     */
    showChanceCard(card) {
        const cardModal = document.getElementById('card-modal');
        const cardTitle = document.getElementById('card-title');
        const cardText = document.getElementById('card-text');
        
        cardTitle.textContent = '–®–ê–ù–°';
        cardText.textContent = card.text;
        
        cardModal.classList.remove('hidden');
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ö–∞–∑–Ω–∞
     * @param {Object} card - –∫–∞—Ä—Ç–æ—á–∫–∞
     */
    showTreasureCard(card) {
        const cardModal = document.getElementById('card-modal');
        const cardTitle = document.getElementById('card-title');
        const cardText = document.getElementById('card-text');
        
        cardTitle.textContent = '–ö–ê–ó–ù–ê';
        cardText.textContent = card.text;
        
        cardModal.classList.remove('hidden');
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –∞—É–∫—Ü–∏–æ–Ω–∞
     */
    showAuctionDialog() {
        const auctionModal = document.getElementById('auction-modal');
        const propertyName = document.getElementById('auction-property');
        
        if (propertyName) {
            propertyName.textContent = this.auction.cell.name;
        }
        
        auctionModal.classList.remove('hidden');
        this.updateAuctionDisplay();
    }

    /**
     * –°–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –∞—É–∫—Ü–∏–æ–Ω–∞
     */
    hideAuctionDialog() {
        const auctionModal = document.getElementById('auction-modal');
        auctionModal.classList.add('hidden');
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
     * @param {Player} winner - –ø–æ–±–µ–¥–∏—Ç–µ–ª—å
     */
    showVictoryScreen(winner) {
        // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
        console.log(`–ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${winner.name}`);
        // –ê–Ω–∏–º–∞—Ü–∏—è —Å–∞–ª—é—Ç–∞
        for (let i = 0; i < 3; i++) {
            setTimeout(() => {
                const firework = document.createElement('div');
                firework.className = 'firework';
                for (let j = 0; j < 18; j++) {
                    const particle = document.createElement('div');
                    particle.className = 'firework__particle';
                    const angle = (j / 18) * 2 * Math.PI;
                    const radius = 120 + Math.random() * 40;
                    const x = Math.cos(angle) * radius;
                    const y = Math.sin(angle) * radius;
                    particle.style.setProperty('--x', `${x}px`);
                    particle.style.setProperty('--y', `${y}px`);
                    particle.style.background = `hsl(${Math.floor(Math.random()*360)},90%,60%)`;
                    firework.appendChild(particle);
                }
                document.body.appendChild(firework);
                setTimeout(() => firework.remove(), 1500);
            }, i * 400);
        }
        const victoryModal = document.getElementById('victory-modal');
        if (victoryModal) {
          victoryModal.classList.add('fadeInDown');
          setTimeout(() => victoryModal.classList.remove('fadeInDown'), 1000);
        }
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–≥—Ä—É
     */
    saveGame() {
        const gameData = {
            players: this.players.map(p => p.saveState()),
            board: this.board.getState(),
            currentPlayerIndex: this.currentPlayerIndex,
            turnNumber: this.turnNumber,
            gameState: this.gameState,
            settings: this.settings,
            timestamp: new Date().toISOString()
        };
        
        saveToStorage('russian_monopoly_save', gameData);
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–≥—Ä—É
     * @returns {boolean} true –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —É—Å–ø–µ—à–Ω–∞
     */
    loadGame() {
        const gameData = loadFromStorage('russian_monopoly_save');
        if (!gameData) return false;
        
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
        this.players = gameData.players.map(playerState => {
            const player = new Player();
            player.loadState(playerState);
            return player;
        });
        
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
        this.board.setState(gameData.board);
        
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        this.currentPlayerIndex = gameData.currentPlayerIndex;
        this.turnNumber = gameData.turnNumber;
        this.gameState = gameData.gameState;
        this.settings = { ...CONFIG.DEFAULT_SETTINGS, ...gameData.settings };
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        this.updateGameUI();
        
        return true;
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä—ã
     */
    saveGameStats() {
        const stats = {
            players: this.players.map(p => p.getStats()),
            board: this.board.getStats(),
            gameDuration: this.turnNumber,
            winner: this.players.find(p => !p.bankrupt)?.name,
            timestamp: new Date().toISOString()
        };
        
        saveToStorage('russian_monopoly_stats', stats);
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    loadSettings() {
        const savedSettings = loadFromStorage('russian_monopoly_settings');
        if (savedSettings) {
            this.settings = { ...CONFIG.DEFAULT_SETTINGS, ...savedSettings };
        }
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    saveSettings() {
        saveToStorage('russian_monopoly_settings', this.settings);
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —á–∞—Ç
     */
    initializeChat() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
        const sendButton = document.getElementById('send-message-btn');
        const chatInput = document.getElementById('chat-input');
        
        if (sendButton && chatInput) {
            sendButton.onclick = () => {
                const message = chatInput.value.trim();
                if (message) {
                    this.addChatMessage('–í—ã', message);
                    chatInput.value = '';
                }
            };
            
            chatInput.onkeypress = (e) => {
                if (e.key === 'Enter') {
                    sendButton.click();
                }
            };
        }
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞—É–∫—Ü–∏–æ–Ω—ã
     */
    initializeAuctions() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–∞
        const placeBidBtn = document.getElementById('place-bid-btn');
        const passBidBtn = document.getElementById('pass-bid-btn');
        const bidAmount = document.getElementById('bid-amount');
        
        if (placeBidBtn && bidAmount) {
            placeBidBtn.onclick = () => {
                const amount = parseInt(bidAmount.value);
                if (amount > 0) {
                    const currentPlayer = this.players[this.currentPlayerIndex];
                    if (this.makeBid(currentPlayer.id, amount)) {
                        bidAmount.value = '';
                    }
                }
            };
        }
        
        if (passBidBtn) {
            passBidBtn.onclick = () => {
                this.endAuction();
            };
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    updateAchievementsDisplay() {
        const panel = document.getElementById('achievements-panel');
        if (!panel) return;
        panel.innerHTML = '';
        this.players.forEach(player => {
            player.achievements.forEach(a => {
                const el = document.createElement('div');
                el.className = 'achievement';
                el.textContent = a.name;
                panel.appendChild(el);
            });
        });
    }
}

// –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–≥—Ä—ã
const game = new Game();

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
if (typeof module !== 'undefined' && module.exports) {
    module.exports = Game;
} 
```

## src\style.css
```
/* ===== CRITICAL PERFORMANCE OPTIMIZATIONS ===== */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* ===== CUSTOM PROPERTIES FOR THEMING ===== */
:root {
    /* Colors */
    --primary-color: #007bff;
    --primary-hover: #0056b3;
    --secondary-color: #6c757d;
    --success-color: #28a745;
    --danger-color: #dc3545;
    --warning-color: #ffc107;
    --info-color: #17a2b8;
    --light-color: #f8f9fa;
    --dark-color: #343a40;
    --white: #ffffff;
    --black: #000000;
    
    /* Typography */
    --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-family-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
    --font-size-base: 1rem;
    --font-size-sm: 0.875rem;
    --font-size-lg: 1.125rem;
    --line-height-base: 1.5;
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 3rem;
    
    /* Border radius */
    --border-radius: 0.375rem;
    --border-radius-lg: 0.5rem;
    --border-radius-xl: 1rem;
    
    /* Shadows */
    --shadow-sm: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    --shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);
    
    /* Transitions */
    --transition-fast: 0.15s ease-in-out;
    --transition-base: 0.3s ease-in-out;
    --transition-slow: 0.5s ease-in-out;
    
    /* Z-index scale */
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
}

/* ===== BASE STYLES ===== */
html {
    font-size: 16px;
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
}

body {
    font-family: var(--font-family-base);
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);
    color: var(--dark-color);
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ===== LAYOUT COMPONENTS ===== */
.container {
    max-inline-size: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-md);
}

header {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    padding: var(--spacing-md) 0;
    position: sticky;
    top: 0;
    z-index: var(--z-sticky);
}

header h1 {
    text-align: center;
    font-size: 2.5rem;
    font-weight: 700;
    background: linear-gradient(45deg, var(--primary-color), var(--info-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-block-end: var(--spacing-xs);
}

.subtitle {
    text-align: center;
    color: var(--secondary-color);
    font-size: var(--font-size-sm);
    margin: 0;
}

main {
    padding: var(--spacing-xl) 0;
}

footer {
    background: rgba(0, 0, 0, 0.1);
    color: var(--white);
    text-align: center;
    padding: var(--spacing-md);
    margin-block-start: auto;
}

/* ===== GAME BOARD ===== */
#game-container {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--border-radius-xl);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-lg);
    margin: 0 auto;
    max-inline-size: 800px;
}

.board {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    gap: 2px;
    margin-block-start: var(--spacing-lg);
    max-inline-size: 600px;
    margin-inline-start: auto; /* logical */
    margin-inline-end: auto; /* logical */
    aspect-ratio: 1;
    background: var(--light-color);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-sm);
    box-shadow: var(--shadow);
    border: 3px solid var(--primary-color);
}

.square {
    background: var(--white);
    border: 1px solid #dee2e6;
    border-radius: var(--border-radius);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 500;
    text-align: center;
    position: relative;
    transition: all var(--transition-base);
    cursor: pointer;
    overflow: hidden;
    min-block-size: 60px; /* logical */
    padding: var(--spacing-xs);
}

.square:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow);
    border-color: var(--primary-color);
    z-index: 5;
}

.square-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    inline-size: 100%;
    block-size: 100%;
    gap: 2px;
}

.square-icon {
    font-size: 1.2rem;
    line-height: 1;
}

.square-name {
    font-size: 0.6rem;
    font-weight: 600;
    line-height: 1.1;
    word-break: break-word;
    max-inline-size: 100%; /* logical */
}

.square-price {
    font-size: 0.5rem;
    font-weight: 700;
    color: var(--success-color);
    background: rgba(40, 167, 69, 0.1);
    padding: 1px 4px;
    border-radius: 2px;
    margin-block-start: 2px; /* logical */
}

.square.owned {
    background: linear-gradient(135deg, var(--success-color), #20c997);
    color: var(--white);
    font-weight: 600;
    border-color: var(--success-color);
}

.square.owned .square-price {
    background: rgba(255, 255, 255, 0.2);
    color: var(--white);
}

.square.chance {
    background: linear-gradient(135deg, var(--warning-color), #fd7e14);
    color: var(--dark-color);
    border-color: var(--warning-color);
}

.square.treasury {
    background: linear-gradient(135deg, var(--info-color), #6f42c1);
    color: var(--white);
    border-color: var(--info-color);
}

.square.start {
    background: linear-gradient(135deg, var(--primary-color), var(--info-color));
    color: var(--white);
    font-weight: 600;
    border-color: var(--primary-color);
}

.square.tax {
    background: linear-gradient(135deg, var(--danger-color), #e83e8c);
    color: var(--white);
    border-color: var(--danger-color);
}

.square.jail {
    background: linear-gradient(135deg, var(--dark-color), #495057);
    color: var(--white);
    border-color: var(--dark-color);
}

.square.parking {
    background: linear-gradient(135deg, var(--success-color), #20c997);
    color: var(--white);
    border-color: var(--success-color);
}

.square.go-to-jail {
    background: linear-gradient(135deg, var(--danger-color), #dc3545);
    color: var(--white);
    border-color: var(--danger-color);
}

.square.empty {
    background: #f8f9fa;
    color: var(--secondary-color);
    border-color: #dee2e6;
}

.square.empty:hover {
    background: #e9ecef;
}

/* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–ª–µ—Ç–∫–∏ */
.square[data-id="center"] {
    background: linear-gradient(135deg, #e9ecef, #dee2e6);
    color: var(--secondary-color);
    border-color: #ced4da;
    cursor: default;
}

.square[data-id="center"]:hover {
    background: linear-gradient(135deg, #dee2e6, #ced4da);
    transform: none;
    box-shadow: none;
}

.square[data-id="center"] .square-icon {
    font-size: 1.5rem;
    opacity: 0.7;
}

.square[data-id="center"] .square-name {
    font-size: 0.5rem;
    opacity: 0.8;
}

/* ===== TOKEN ANIMATIONS ===== */
.token {
    inline-size: 24px;
    block-size: 24px;
    background: linear-gradient(45deg, var(--danger-color), #e83e8c);
    border-radius: 50%;
    position: absolute;
    inset-inline-start: 50%;
    inset-inline-end: 50%;
    transform: translate(-50%, -50%);
    transition: all var(--transition-base);
    z-index: var(--z-popover);
    box-shadow: var(--shadow-sm);
    border: 2px solid var(--white);
}

.token.moving {
    animation: bounce 0.6s ease-in-out;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
        transform: translate(-50%, -50%) scale(1);
    }
    40% {
        transform: translate(-50%, -50%) scale(1.2);
    }
    60% {
        transform: translate(-50%, -50%) scale(1.1);
    }
}

/* ===== CONTROLS ===== */
#controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-lg);
    margin-block-start: var(--spacing-xl); /* logical */
}

#rollDice {
    padding: var(--spacing-md) var(--spacing-lg);
    background: linear-gradient(45deg, var(--primary-color), var(--info-color));
    color: var(--white);
    border: none;
    border-radius: var(--border-radius-lg);
    cursor: pointer;
    font-size: var(--font-size-lg);
    font-weight: 600;
    transition: all var(--transition-base);
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
}

#rollDice::before {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: -100%;
    inline-size: 100%;
    block-size: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: inset-inline-start 0.5s;
}

#rollDice:hover::before {
    inset-inline-start: 100%;
}

#rollDice:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

#rollDice:active {
    transform: translateY(0);
}

#rollDice:disabled {
    background: var(--secondary-color);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

#rollDice:disabled::before {
    display: none;
}

/* ===== PLAYER INFO ===== */
#player-info {
    background: var(--white);
    padding: var(--spacing-lg);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    border: 1px solid #dee2e6;
}

#player-info p {
    margin: var(--spacing-sm) 0;
    font-weight: 500;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#player-info span {
    font-weight: 700;
    color: var(--primary-color);
    font-size: var(--font-size-lg);
}

/* ===== GAME LOG ===== */
#game-log {
    background: var(--white);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-sm);
    border: 1px solid #dee2e6;
    overflow: hidden;
}

#log {
    margin: 0;
    padding: var(--spacing-lg);
    min-block-size: 80px; /* logical */
    font-family: var(--font-family-mono);
    font-size: var(--font-size-sm);
    line-height: 1.6;
    color: var(--dark-color);
    background: #f8f9fa;
    border-block-end: 1px solid #dee2e6; /* logical */
}

/* ===== UTILITY CLASSES ===== */
.hidden {
    display: none !important;
}

.visible {
    display: block !important;
}

.fade-in {
    animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ===== LOADING STATES ===== */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    inline-size: 100%;
    block-size: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: var(--z-modal);
    color: var(--white);
}

.spinner {
    inline-size: 50px; /* logical */
    block-size: 50px; /* logical */
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-block-start: 4px solid var(--primary-color); /* logical */
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-block-end: var(--spacing-md); /* logical */
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ===== ERROR BOUNDARY ===== */
.error-overlay {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--white);
    padding: var(--spacing-xl);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-lg);
    z-index: var(--z-modal);
    text-align: center;
    max-inline-size: 400px; /* logical */
    inline-size: 90%;
}

.error-overlay h3 {
    color: var(--danger-color);
    margin-block-end: var(--spacing-md); /* logical */
}

.error-overlay button {
    margin-block-start: var(--spacing-md); /* logical */
    padding: var(--spacing-sm) var(--spacing-lg);
    background: var(--primary-color);
    color: var(--white);
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: background var(--transition-base);
}

.error-overlay button:hover {
    background: var(--primary-hover);
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
    .board {
        grid-template-columns: repeat(8, 1fr);
        gap: 1px;
        padding: var(--spacing-xs);
    }
    
    .square {
        font-size: 0.75rem;
        min-block-size: 50px; /* logical */
    }
    
    .token {
        inline-size: 20px; /* logical */
        block-size: 20px; /* logical */
    }
    
    #controls {
        grid-template-columns: 1fr;
        gap: var(--spacing-md);
    }
    
    header h1 {
        font-size: 2rem;
    }
    
    #game-container {
        padding: var(--spacing-lg);
        margin: var(--spacing-md);
    }
}

@media (max-width: 480px) {
    .board {
        grid-template-columns: repeat(8, 1fr);
        gap: 1px;
    }
    
    .square {
        font-size: 0.625rem;
        min-block-size: 40px; /* logical */
    }
    
    .token {
        inline-size: 16px; /* logical */
        block-size: 16px; /* logical */
    }
    
    #rollDice {
        font-size: var(--font-size-base);
        padding: var(--spacing-sm) var(--spacing-md);
    }
}

/* ===== PRINT STYLES ===== */
@media print {
    .board {
        break-inside: avoid;
        page-break-inside: avoid;
    }
    
    #controls,
    .loading-overlay,
    .error-overlay {
        display: none !important;
    }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --light-color: #212529;
        --dark-color: #f8f9fa;
        --white: #212529;
        --black: #ffffff;
    }
    
    body {
        background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    }
    
    #game-container {
        background: rgba(33, 37, 41, 0.95);
        color: var(--dark-color);
    }
    
    .square {
        background: #495057;
        border-color: #6c757d;
        color: var(--dark-color);
    }
    
    #player-info,
    #game-log {
        background: #495057;
        border-color: #6c757d;
        color: var(--dark-color);
    }
    
    #log {
        background: #343a40;
        color: var(--dark-color);
    }
}

/* ===== FOCUS MANAGEMENT ===== */
:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}

:focus:not(:focus-visible) {
    outline: none;
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */
.board,
.square,
.token {
    will-change: transform;
    contain: layout style paint;
}

.square:hover,
#rollDice:hover {
    will-change: transform, box-shadow;
}

/* ===== CUSTOM SCROLLBAR ===== */
::-webkit-scrollbar {
    inline-size: 8px; /* logical */
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: var(--primary-color);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--primary-hover);
} 
.go-animate {
    animation: go-confetti 1s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes go-confetti {
    0% { box-shadow: 0 0 0 0 #ffd600, 0 0 0 0 #ff4081; }
    30% { box-shadow: 0 0 0 8px #ffd600, 0 0 16px 8px #ff4081aa; }
    60% { box-shadow: 0 0 0 4px #ffd600, 0 0 8px 4px #ff4081aa; }
    100% { box-shadow: 0 0 0 0 #ffd600, 0 0 0 0 #ff4081; }
  }
  
  .jail-animate {
    animation: jail-bars 1s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes jail-bars {
    0%, 100% { box-shadow: 0 0 0 0 #607d8b; }
    20% { box-shadow: 0 0 0 8px #607d8b88; }
    40% { box-shadow: 0 0 0 4px #607d8bcc; }
    60% { box-shadow: 0 0 0 8px #607d8b88; }
    80% { box-shadow: 0 0 0 0 #607d8b; }
  }
  
  .free-parking-animate {
    animation: parking-pulse 1s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes parking-pulse {
    0% { box-shadow: 0 0 0 0 #00e676; }
    50% { box-shadow: 0 0 16px 8px #00e67688; }
    100% { box-shadow: 0 0 0 0 #00e676; }
  }
  
  .go-to-jail-animate {
    animation: go-to-jail-pulse 1s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes go-to-jail-pulse {
    0% { box-shadow: 0 0 0 0 #e53935; }
    30% { box-shadow: 0 0 0 8px #e53935cc; }
    60% { box-shadow: 0 0 0 4px #e53935aa; }
    100% { box-shadow: 0 0 0 0 #e53935; }
  }
  
  .chance-animate {
    animation: chance-glow 1s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes chance-glow {
    0% { box-shadow: 0 0 0 0 #7c4dff; }
    50% { box-shadow: 0 0 16px 8px #7c4dff88; }
    100% { box-shadow: 0 0 0 0 #7c4dff; }
  }
  
  .treasure-animate {
    animation: treasure-glow 1s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes treasure-glow {
    0% { box-shadow: 0 0 0 0 #ffd600; }
    50% { box-shadow: 0 0 16px 8px #ffd60088; }
    100% { box-shadow: 0 0 0 0 #ffd600; }
  }
  
  .tax-animate {
    animation: tax-shake 0.7s cubic-bezier(.4,0,.2,1);
    z-index: 20;
  }
  @keyframes tax-shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-4px); }
    40% { transform: translateX(4px); }
    60% { transform: translateX(-2px); }
    80% { transform: translateX(2px); }
  }
  
.toast {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: #007bff;
    color: #fff;
    padding: 14px 28px;
    border-radius: 8px;
    font-size: 16px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s, bottom 0.4s;
    z-index: 2000;
}
.toast.show {
    opacity: 1;
    bottom: 60px;
    pointer-events: auto;
}
.achievement.unlocked {
    animation: pop 0.7s cubic-bezier(.68,-0.55,.27,1.55);
    background: gold;
    color: #222;
}
@keyframes pop {
    0% { transform: scale(0.7); opacity: 0.2; }
    60% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); }
}
button {
    background: #007bff;
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 8px 18px;
    font-size: 16px;
    margin: 5px;
    cursor: pointer;
    transition: background 0.2s;
}
button:hover { background: #0056b3; }
@media (max-width: 700px) {
    .board { inline-size: 98vw; padding: 5px; font-size: 12px; }
    #players-panel, .player-info { flex-direction: column; font-size: 13px; }
    .modal-content { min-inline-size: 90vw; padding: 10px; }
    #chat, #achievements-panel, #players-panel { max-inline-size: 98vw; }
    button { font-size: 14px; padding: 8px 10px; }
} 
```

## src\index.html
```
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monopoly Russia (–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)</title>
    <meta name="description" content="–ë—ã—Å—Ç—Ä–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã –ú–æ–Ω–æ–ø–æ–ª–∏—è —Å —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π. –ò–≥—Ä–∞–π—Ç–µ –æ–Ω–ª–∞–π–Ω –±–µ—Å–ø–ª–∞—Ç–Ω–æ!">
    <meta name="theme-color" content="#007bff">
    <link rel="manifest" href="../manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="../icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="../icons/icon-192x192.png">
    <link rel="canonical" href="https://yourdomain.com/">
    <meta property="og:title" content="–ú–æ–Ω–æ–ø–æ–ª–∏—è –†–æ—Å—Å–∏—è ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –Ω–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞">
    <meta property="og:description" content="–ë—ã—Å—Ç—Ä–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã –ú–æ–Ω–æ–ø–æ–ª–∏—è —Å —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π. –ò–≥—Ä–∞–π—Ç–µ –æ–Ω–ª–∞–π–Ω –±–µ—Å–ø–ª–∞—Ç–Ω–æ!">
    <meta property="og:image" content="../icons/icon-512x512.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/">
    <meta name="twitter:card" content="summary_large_image">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-XXXXXXX-X');
    </script>
    <!-- Yandex.Metrica -->
    <script type="text/javascript" >
      (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
      })(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
      ym(XXXXXXX, "init", {
          clickmap:true,
          trackLinks:true,
          accurateTrackBounce:true,
          webvisor:true
      });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/XXXXXXX" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "–í–ê–®_API_KEY",
        authDomain: "–í–ê–®_–î–û–ú–ï–ù.firebaseapp.com",
        projectId: "–í–ê–®_PROJECT_ID",
        appId: "–í–ê–®_APP_ID"
      };
      firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <div id="game-container">
        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
        <div id="board" class="board"></div>

        <!-- –ü–∞–Ω–µ–ª—å –∏–≥—Ä–æ–∫–æ–≤ -->
        <div id="players-panel"></div>

        <!-- –¢–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ -->
        <div class="current-player">
            <div class="player-info">
                <img class="player-token" src="" alt="–§–∏—à–∫–∞">
                <span class="player-name"></span>
            </div>
        </div>

        <!-- –ü–æ–≥–æ–¥–∞ –∏ —Å–æ–±—ã—Ç–∏—è -->
        <div id="current-weather"></div>
        <div id="current-events"></div>

        <!-- –ü–∞–Ω–µ–ª—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
        <div id="achievements-panel"></div>

        <!-- –ö–Ω–æ–ø–∫–∏ —Ç—É—Ä–Ω–∏—Ä–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π -->
        <div id="actions-panel">
            <button id="start-tournament-btn">–¢—É—Ä–Ω–∏—Ä</button>
            <button id="build-improvement-btn">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ</button>
        </div>

        <!-- –ß–∞—Ç -->
        <div id="chat">
            <div id="chat-messages" style="height:120px;overflow-y:auto;"></div>
            <input id="chat-input" type="text" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ...">
            <button id="send-message-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ -->
        <div id="card-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="card-title"></h2>
                <p id="card-text"></p>
                <button onclick="document.getElementById('card-modal').classList.add('hidden')">OK</button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ -->
        <div id="modal-overlay" class="modal hidden">
            <div class="modal-content">
                <h2 id="modal-title"></h2>
                <div id="modal-content"></div>
                <button id="modal-confirm">–ö—É–ø–∏—Ç—å</button>
                <button id="modal-cancel">–ê—É–∫—Ü–∏–æ–Ω</button>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞—É–∫—Ü–∏–æ–Ω–∞ -->
        <div id="auction-modal" class="modal hidden">
            <div class="modal-content">
                <h2>–ê—É–∫—Ü–∏–æ–Ω: <span id="auction-property"></span></h2>
                <div>
                    <span>–¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞: <span id="current-bid-amount">0</span></span><br>
                    <span>–£—á–∞—Å—Ç–Ω–∏–∫: <span id="current-bidder">-</span></span><br>
                    <span>–í—Ä–µ–º—è: <span id="auction-time">0</span> —Å–µ–∫</span>
                </div>
                <input id="bid-amount" type="number" min="1" placeholder="–í–∞—à–∞ —Å—Ç–∞–≤–∫–∞">
                <button id="place-bid-btn">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É</button>
                <button id="pass-bid-btn">–ü–∞—Å</button>
            </div>
        </div>
        <div id="toast" class="toast hidden"></div>
        <button id="google-signin-btn">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>
        <button id="signout-btn">–í—ã–π—Ç–∏</button>
        <button id="theme-toggle-btn">üåô/‚òÄÔ∏è –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É</button>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JS (–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ!) -->
    <script src="../js/config.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/board.js"></script>
    <script src="../js/player.js"></script>
    <script src="../js/game.js"></script>
    <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ —Ç—É—Ä–Ω–∏—Ä–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π
    document.addEventListener('DOMContentLoaded', function() {
        const tournamentBtn = document.getElementById('start-tournament-btn');
        if (tournamentBtn) tournamentBtn.onclick = () => game.startTournament({ type: 'elimination', maxRounds: 5 });
        const improvementBtn = document.getElementById('build-improvement-btn');
        if (improvementBtn) improvementBtn.onclick = () => {
            const pos = game.players[game.currentPlayerIndex].position;
            game.players[game.currentPlayerIndex].addImprovement(pos);
        };
    });
    if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('../sw.js');
  });
}
    document.getElementById('google-signin-btn').onclick = function() {
      const provider = new firebase.auth.GoogleAuthProvider();
      firebase.auth().signInWithPopup(provider)
        .then(result => {
          const user = result.user;
          alert('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω: ' + user.displayName);
          // user.uid, user.email, user.photoURL
        })
        .catch(error => {
          alert('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message);
        });
    };
    document.getElementById('signout-btn').onclick = function() {
      firebase.auth().signOut();
    };
    // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
    const themeBtn = document.getElementById('theme-toggle-btn');
    function applyTheme(theme) {
      document.body.classList.toggle('theme-light', theme === 'light');
      localStorage.setItem('theme', theme);
    }
    themeBtn.onclick = function() {
      const isLight = document.body.classList.toggle('theme-light');
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
    };
    // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) applyTheme(savedTheme);
    </script>
</body>
</html> 
```

## src\game.js
```
// Optimized game logic with performance improvements
(function() {
    'use strict';
    
    // Cache DOM elements
    const DOM = {
        board: null,
        rollDice: null,
        log: null,
        moneyAmount: null,
        init() {
            this.board = document.getElementById('board');
            this.rollDice = document.getElementById('rollDice');
            this.log = document.getElementById('log');
            this.moneyAmount = document.getElementById('money-amount');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã
            if (!this.board || !this.rollDice || !this.log || !this.moneyAmount) {
                console.error('–û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ DOM —ç–ª–µ–º–µ–Ω—Ç—ã');
                throw new Error('Required DOM elements not found');
            }
        }
    };

    // Game data with optimized structure
    const boardData = [
        { id: 0, name: { ru: '–°—Ç–∞—Ä—Ç', en: 'Start' } },
        { id: 1, name: { ru: '–ú–æ—Å–∫–≤–∞', en: 'Moscow' }, price: 100, rent: 10, color: 'red' },
        { id: 2, name: { ru: '–®–∞–Ω—Å', en: 'Chance' }, type: 'chance' },
        { id: 3, name: { ru: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', en: 'Saint Petersburg' }, price: 120, rent: 12, color: 'red' },
        { id: 4, name: { ru: '–ö–∞–∑–Ω–∞', en: 'Treasury' }, type: 'treasury' },
        { id: 5, name: { ru: '–°–æ—á–∏', en: 'Sochi' }, price: 140, rent: 14, color: 'yellow' },
        { id: 6, name: { ru: '–®–∞–Ω—Å', en: 'Chance' }, type: 'chance' },
        { id: 7, name: { ru: '–ö–∞–∑–∞–Ω—å', en: 'Kazan' }, price: 150, rent: 15, color: 'yellow' }
    ];

    const chanceCards = [
        { 
            ru: '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –±–∏–ª–µ—Ç—ã –≤ –ë–æ–ª—å—à–æ–π —Ç–µ–∞—Ç—Ä. –ü–æ–ª—É—á–∏—Ç–µ 50‚ÇΩ.', 
            en: 'You won tickets to the Bolshoi Theatre. Collect 50‚ÇΩ.',
            action: 'money',
            value: 50
        },
        { 
            ru: '–¢—Ä–∞–Ω—Å—Å–∏–±–∏—Ä—Å–∫–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ! –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ—Å—å –Ω–∞ –∫–ª–µ—Ç–∫—É \'–°–æ—á–∏\'.', 
            en: 'Trans-Siberian travel! Move to "Sochi" square.',
            action: 'move',
            target: '–°–æ—á–∏'
        }
    ];

    // Game state
    const gameState = {
        players: [
            { id: 1, name: '–ò–≥—Ä–æ–∫ 1', position: 0, money: 500, properties: new Set() }
        ],
        currentPlayerIndex: 0,
        squares: new Map(),
        playerElements: new Map(),
        isMoving: false
    };

    // Performance optimized board rendering
    function renderBoard() {
        const fragment = document.createDocumentFragment();
        
        boardData.forEach(square => {
            const div = document.createElement('div');
            div.className = 'square';
            div.dataset.id = square.id;
            div.textContent = square.name.ru;
            
            // Cache square elements
            gameState.squares.set(square.id, div);
            fragment.appendChild(div);
        });

        DOM.board.appendChild(fragment);
        
        // Create and position initial token
        createPlayerToken(gameState.players[0]);
    }

    function createPlayerToken(player) {
        const token = document.createElement('div');
        token.id = `token-${player.id}`;
        token.className = 'token';
        
        // Cache token element
        gameState.playerElements.set(player.id, token);
        
        // Position token
        const startSquare = gameState.squares.get(0);
        startSquare.appendChild(token);
    }

    // Optimized dice roll with animation
    function rollDice() {
        return Math.floor(Math.random() * 6) + 1;
    }

    // Optimized player movement with smooth animation
    function movePlayer(player, steps) {
        if (gameState.isMoving) return;
        
        gameState.isMoving = true;
        DOM.rollDice.disabled = true;
        
        const oldPosition = player.position;
        player.position = (player.position + steps) % boardData.length;
        
        // Get cached elements
        const token = gameState.playerElements.get(player.id);
        const targetSquare = gameState.squares.get(player.position);
        
        // Animate movement
        token.style.transform = 'translate(-50%, -50%) scale(1.2)';
        
        setTimeout(() => {
            targetSquare.appendChild(token);
            token.style.transform = 'translate(-50%, -50%) scale(1)';
            
            log(`${player.name} –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è —Å ${oldPosition} –Ω–∞ ${player.position}`);
            handleSquare(player);
            
            gameState.isMoving = false;
            DOM.rollDice.disabled = false;
        }, 300);
    }

    // Optimized square handling
    function handleSquare(player) {
        const square = boardData[player.position];
        
        if (square.price && !square.owner) {
            handlePropertyPurchase(player, square);
        } else if (square.owner && square.owner !== player.id) {
            payRent(player, square);
        } else if (square.type === 'chance') {
            drawChance(player);
        }
    }

    function handlePropertyPurchase(player, square) {
        if (player.money >= square.price) {
            // Use requestAnimationFrame for smooth UI updates
            requestAnimationFrame(() => {
                if (confirm(`–ö—É–ø–∏—Ç—å ${square.name.ru} –∑–∞ ${square.price}‚ÇΩ?`)) {
                    buyProperty(player, square);
                } else {
                    log(`${player.name} –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –ø–æ–∫—É–ø–∫–∏.`);
                }
            });
        }
    }

    function buyProperty(player, square) {
        player.money -= square.price;
        player.properties.add(square.id);
        square.owner = player.id;
        
        // Update UI
        updatePlayerMoney(player);
        log(`${player.name} –∫—É–ø–∏–ª ${square.name.ru}`);
        
        // Visual feedback
        const squareElement = gameState.squares.get(square.id);
        squareElement.style.backgroundColor = '#d4edda';
        setTimeout(() => {
            squareElement.style.backgroundColor = '';
        }, 1000);
    }

    function payRent(player, square) {
        const rent = square.rent;
        player.money -= rent;
        
        // Find owner efficiently
        const owner = gameState.players.find(p => p.id === square.owner);
        if (owner) {
            owner.money += rent;
            updatePlayerMoney(player);
            log(`${player.name} –∑–∞–ø–ª–∞—Ç–∏–ª ${rent}‚ÇΩ –∞—Ä–µ–Ω–¥—ã –∏–≥—Ä–æ–∫—É ${owner.name}`);
        }
    }

    // Optimized chance card handling
    function drawChance(player) {
        const card = chanceCards[Math.floor(Math.random() * chanceCards.length)];
        
        requestAnimationFrame(() => {
            alert(card.ru);
            log(`${player.name} –≤—ã—Ç—è–Ω—É–ª –∫–∞—Ä—Ç—É: ${card.ru}`);
            
            // Execute card action
            executeCardAction(player, card);
        });
    }

    function executeCardAction(player, card) {
        switch (card.action) {
            case 'money':
                player.money += card.value;
                updatePlayerMoney(player);
                break;
            case 'move':
                const targetSquare = boardData.find(s => s.name.ru === card.target);
                if (targetSquare) {
                    const steps = (targetSquare.id - player.position + boardData.length) % boardData.length;
                    movePlayer(player, steps);
                }
                break;
        }
    }

    // Optimized UI updates
    function updatePlayerMoney(player) {
        if (DOM.moneyAmount) {
            DOM.moneyAmount.textContent = `${player.money}‚ÇΩ`;
        }
    }

    // Optimized logging with batching
    let logQueue = [];
    let logTimeout = null;

    function log(message) {
        logQueue.push(message);
        
        if (logTimeout) {
            clearTimeout(logTimeout);
        }
        
        logTimeout = setTimeout(() => {
            if (DOM.log) {
                DOM.log.textContent = logQueue.join(' | ');
            }
            logQueue = [];
        }, 100);
    }

    // Optimized event handling
    function initializeGame() {
        DOM.init();
        renderBoard();
        
        // Optimized event listener with throttling
        let lastClickTime = 0;
        DOM.rollDice.addEventListener('click', (e) => {
            const now = Date.now();
            if (now - lastClickTime < 500) return; // Throttle clicks
            lastClickTime = now;
            
            if (gameState.isMoving) return;
            
            const steps = rollDice();
            log(`–í—ã–ø–∞–ª–æ ${steps}`);
            movePlayer(gameState.players[gameState.currentPlayerIndex], steps);
        });
    }

    // Initialize game when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeGame);
    } else {
        initializeGame();
    }

    // Cleanup on page unload
    window.addEventListener('beforeunload', () => {
        if (logTimeout) {
            clearTimeout(logTimeout);
        }
    });

})();

```

## css\style.css
```
/* –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –†—É—Å—Å–∫–æ–π –ú–æ–Ω–æ–ø–æ–ª–∏–∏ */
:root {
    /* –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ */
    --primary-color: #1e3a8a;
    --primary-light: #3b82f6;
    --secondary-color: #dc2626;
    --accent-color: #f59e0b;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --error-color: #ef4444;
    
    /* –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-tertiary: #334155;
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #64748b;
    
    /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã */
    --gradient-primary: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
    --gradient-secondary: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
    --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
    --gradient-success: linear-gradient(135deg, #10b981 0%, #34d399 100%);
    
    /* –¢–µ–Ω–∏ */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    
    /* –°–∫—Ä—É–≥–ª–µ–Ω–∏—è */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    --transition-fast: 0.15s ease-in-out;
    --transition-normal: 0.3s ease-in-out;
    --transition-slow: 0.5s ease-in-out;
}

body.theme-light {
    --primary-color: #2563eb;
    --primary-light: #60a5fa;
    --secondary-color: #f87171;
    --accent-color: #fbbf24;
    --success-color: #22c55e;
    --warning-color: #facc15;
    --error-color: #ef4444;
    --bg-primary: #f8fafc;
    --bg-secondary: #e0e7ef;
    --bg-tertiary: #cbd5e1;
    --text-primary: #1e293b;
    --text-secondary: #334155;
    --text-muted: #64748b;
}

@media (prefers-color-scheme: light) {
  body:not(.theme-dark):not(.theme-light) {
    --primary-color: #2563eb;
    --primary-light: #60a5fa;
    --secondary-color: #f87171;
    --accent-color: #fbbf24;
    --success-color: #22c55e;
    --warning-color: #facc15;
    --error-color: #ef4444;
    --bg-primary: #f8fafc;
    --bg-secondary: #e0e7ef;
    --bg-tertiary: #cbd5e1;
    --text-primary: #1e293b;
    --text-secondary: #334155;
    --text-muted: #64748b;
  }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    overflow-x: hidden;
    min-height: 100vh;
    min-block-size: 100vh;
    background-image: 
        radial-gradient(circle at 20% 80%, rgba(30, 58, 138, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(220, 38, 38, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(245, 158, 11, 0.05) 0%, transparent 50%);
}

/* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
    margin-bottom: 0.5rem;
    margin-block-end: 0.5rem;
}

h1 { font-size: 2.5rem; }
h2 { font-size: 2rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.25rem; }

/* –ö–Ω–æ–ø–∫–∏ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: var(--radius-lg);
    font-size: 1rem;
    font-weight: 500;
    text-decoration: none;
    cursor: pointer;
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
    min-block-size: 44px;
    gap: 0.5rem;
    min-width: 44px;
    min-inline-size: 44px;
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
    padding-block: 0.75rem;
    padding-inline-start: 1.5rem;
    padding-inline-end: 1.5rem;
}

.btn::before {
    content: '';
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: -100%;
    inline-size: 100%;
    block-size: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: inset-inline-start var(--transition-slow);
}

.btn:hover::before {
    inset-inline-start: 100%;
}

.btn.primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-md);
}

.btn.primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn.secondary {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border: 2px solid var(--bg-tertiary);
    box-shadow: var(--shadow-sm);
}

.btn.secondary:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary-light);
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

/* –≠–∫—Ä–∞–Ω—ã */
.screen {
    display: none;
    min-height: 100vh;
    min-block-size: 100vh;
    padding-top: 2rem;
    padding-bottom: 2rem;
    padding-block: 2rem;
    position: relative;
}

.screen.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é */
#main-menu {
    background: var(--bg-primary);
    position: relative;
}

#main-menu::before {
    content: '';
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    inset-inline-end: 0;
    inset-block-end: 0;
    background: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(59,130,246,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
    opacity: 0.3;
    z-index: 0;
}

.menu-container {
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: var(--radius-2xl);
    padding: 3rem;
    text-align: center;
    box-shadow: var(--shadow-2xl);
    position: relative;
    z-index: 1;
    max-width: 500px;
    max-inline-size: 500px;
    inline-size: 100%;
}

.game-title {
    font-size: 3.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #dc2626 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-block-end: 2rem;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.menu-buttons {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-block-end: 2rem;
}

.menu-btn {
    inline-size: 100%;
    padding: 1rem 2rem;
    font-size: 1.1rem;
    border-radius: var(--radius-xl);
    transition: all var(--transition-normal);
}

.menu-btn.primary {
    background: var(--gradient-primary);
    color: white;
    font-weight: 600;
    box-shadow: var(--shadow-lg);
}

.menu-btn.primary:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-xl);
}

.menu-btn.secondary {
    background: rgba(51, 65, 85, 0.8);
    color: var(--text-primary);
    border: 2px solid rgba(59, 130, 246, 0.3);
    backdrop-filter: blur(10px);
}

.menu-btn.secondary:hover {
    background: rgba(59, 130, 246, 0.2);
    border-color: var(--primary-light);
    transform: translateY(-2px);
}

.language-selector {
    margin-top: 1rem;
    margin-block-start: 1rem;
}

.language-selector select {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border: 2px solid var(--bg-tertiary);
    border-radius: var(--radius-lg);
    padding: 0.5rem 1rem;
    font-size: 1rem;
    cursor: pointer;
    transition: all var(--transition-normal);
}

.language-selector select:hover {
    border-color: var(--primary-light);
}

/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
.settings-container {
    background: rgba(30, 41, 59, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: var(--radius-2xl);
    padding: 2rem;
    max-inline-size: 800px;
    inline-size: 100%;
    max-block-size: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-2xl);
}

.settings-section {
    margin-block-end: 2rem;
    padding: 1.5rem;
    background: rgba(51, 65, 85, 0.3);
    border-radius: var(--radius-xl);
    border: 1px solid rgba(59, 130, 246, 0.1);
}

.settings-section h3 {
    color: var(--primary-light);
    margin-block-end: 1rem;
    font-size: 1.3rem;
}

.player-count {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-block-end: 1.5rem;
}

.player-count label {
    font-weight: 500;
    color: var(--text-secondary);
}

.player-count select {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border: 2px solid var(--bg-tertiary);
    border-radius: var(--radius-lg);
    padding: 0.5rem 1rem;
    font-size: 1rem;
    cursor: pointer;
}

.token-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
    margin-block-start: 1rem;
}

.token-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem;
    background: var(--bg-secondary);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-normal);
    position: relative;
    overflow: hidden;
}

.token-option::before {
    content: '';
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    inset-inline-end: 0;
    inset-block-end: 0;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity var(--transition-normal);
    z-index: 0;
}

.token-option:hover::before {
    opacity: 0.1;
}

.token-option.selected::before {
    opacity: 0.2;
}

.token-option.selected {
    border-color: var(--primary-light);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.token-option img {
    inline-size: 50px;
    block-size: 50px;
    object-fit: contain;
    margin-block-end: 0.5rem;
    position: relative;
    z-index: 1;
}

.token-option span {
    font-size: 0.9rem;
    font-weight: 500;
    text-align: center;
    position: relative;
    z-index: 1;
}

.rule-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.rule-options label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem;
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-normal);
}

.rule-options label:hover {
    background: var(--bg-tertiary);
}

.rule-options input[type="checkbox"] {
    inline-size: 1.2rem;
    block-size: 1.2rem;
    accent-color: var(--primary-light);
}

.settings-buttons {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-block-start: 2rem;
}

/* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
.game-container {
    inline-size: 100%;
    block-size: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--bg-primary);
    position: relative;
}

.top-panel {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background: rgba(30, 41, 59, 0.9);
    backdrop-filter: blur(10px);
    border-block-end: 2px solid rgba(59, 130, 246, 0.2);
    box-shadow: var(--shadow-lg);
    z-index: 10;
}

.current-player {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-weight: 500;
}

.player-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    border: 2px solid var(--primary-light);
}

.player-token {
    inline-size: 30px;
    block-size: 30px;
    object-fit: contain;
}

.game-controls {
    display: flex;
    gap: 1rem;
}

.weather-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    border: 2px solid var(--accent-color);
}

.game-board {
    inline-size: 100%;
    block-size: 100%;
    max-inline-size: 800px;
    max-block-size: 800px;
    margin-inline: auto;
    background: #b97c56 url('https://www.transparenttextures.com/patterns/wood-pattern.png');
    border: 12px solid #8b5c2a;
    border-radius: 24px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.25);
    position: relative;
    overflow: hidden;
    min-block-size: 600px;
}

.board-grid {
    inline-size: 100%;
    block-size: 100%;
    display: grid;
    grid-template-rows: repeat(11, 1fr);
    grid-template-columns: repeat(11, 1fr);
    position: relative;
    z-index: 1;
}

.board-cell {
    background: rgba(255,255,255,0.95);
    border: 2px solid #d2b48c;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    font-family: inherit;
    padding: 0;
    transition: transform 0.18s cubic-bezier(.4,1.4,.6,1), box-shadow 0.18s;
}

.board-cell:hover {
    transform: scale(1.08);
    z-index: 5;
    box-shadow: 0 4px 16px rgba(0,0,0,0.18);
}

/* –£–≥–ª–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏ */
.corner-cell {
    grid-row: span 2;
    grid-column: span 2;
    background: #f5e1c6;
    border-radius: 12px;
    font-size: 1.1em;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

/* –ë–æ–∫–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏ */
.property-cell, .chance-cell, .treasure-cell, .tax-cell {
    min-inline-size: 0;
    min-block-size: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding-block: 4px 2px;
    padding-inline: 2px 2px;
    font-size: 0.95em;
    border-radius: 8px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.04);
}

.property-cell .property-color {
    inline-size: 100%;
    block-size: 8px;
    border-radius: 4px 4px 0 0;
    margin-block-end: 2px;
}

.property-cell .property-logo {
    font-size: 1.5em;
    margin-block-end: 2px;
    margin-block-start: 2px;
}

.property-cell h3, .chance-cell h3, .treasure-cell h3, .tax-cell h3 {
    font-size: 0.95em;
    font-weight: 600;
    margin: 0 0 2px 0;
    text-align: center;
    line-height: 1.1;
}

.property-cell .price {
    font-size: 0.85em;
    color: #7a5c2e;
    margin: 0;
    font-weight: 500;
}

.chance-cell span, .treasure-cell span, .tax-cell span {
    font-size: 1.4em;
    display: block;
    margin-block-end: 2px;
}

.jail {
    background: #ffe4b5;
}
.free-parking {
    background: #e0f7fa;
}
.go-to-jail {
    background: #ffe0e0;
}

/* –¶–µ–Ω—Ç—Ä –¥–æ—Å–∫–∏ */
.board-center {
    background: rgba(185,124,86,0.12);
    border-radius: 16px;
    box-shadow: 0 0 0 2px #b97c56 inset;
    z-index: 2;
    position: relative;
}

/* –ü–æ–≤–æ—Ä–æ—Ç—ã —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –±–æ–∫–æ–≤—ã—Ö –∫–ª–µ—Ç–æ–∫ */
.board-cell {
    writing-mode: horizontal-tb;
}

/* –î–ª—è –ª–µ–≤–æ–≥–æ –∏ –ø—Ä–∞–≤–æ–≥–æ —Ä—è–¥–∞ ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç */
.board-grid > .board-cell:nth-child(n+12):nth-child(-n+20),
.board-grid > .board-cell:nth-child(n+32):nth-child(-n+40) {
    writing-mode: vertical-rl;
    text-orientation: mixed;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 700px) {
    .game-board { max-inline-size: 98vw; max-block-size: 98vw; min-block-size: 320px; }
    .corner-cell { font-size: 0.9em; }
    .property-cell, .chance-cell, .treasure-cell, .tax-cell { font-size: 0.8em; }
}

/* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
.side-panel {
    position: absolute;
    inset-inline-end: 2rem;
    inset-block-start: 50%;
    transform: translateY(-50%);
    inline-size: 300px;
    background: rgba(30, 41, 59, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: var(--radius-xl);
    padding: 1.5rem;
    box-shadow: var(--shadow-xl);
    max-block-size: 80vh;
    overflow-y: auto;
}

.player-list {
    margin-block-end: 2rem;
}

.player-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    margin-block-end: 0.5rem;
    border: 2px solid transparent;
    transition: all var(--transition-normal);
}

.player-item.current {
    border-color: var(--primary-light);
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);
}

.player-item img {
    inline-size: 40px;
    block-size: 40px;
    object-fit: contain;
}

.player-details h4 {
    margin: 0;
    font-size: 1rem;
}

.player-details p {
    margin: 0;
    font-size: 0.9rem;
    color: var(--text-secondary);
}

/* –ß–∞—Ç */
.chat-container {
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.chat-messages {
    block-size: 200px;
    overflow-y: auto;
    padding: 1rem;
    background: var(--bg-tertiary);
}

.chat-message {
    margin-block-end: 0.5rem;
    padding: 0.5rem;
    background: var(--bg-secondary);
    border-radius: var(--radius-md);
    border-inline-start: 3px solid var(--primary-light);
}

.chat-input {
    display: flex;
    gap: 0.5rem;
    padding: 1rem;
    background: var(--bg-secondary);
}

.chat-input input {
    flex: 1;
    padding: 0.5rem;
    border: 2px solid var(--bg-tertiary);
    border-radius: var(--radius-md);
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.chat-input button {
    padding: 0.5rem 1rem;
    background: var(--primary-light);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
}

/* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
.modal-overlay {
    position: fixed;
    inset-block-start: 0;
    inset-inline-start: 0;
    inset-inline-end: 0;
    inset-block-end: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-normal);
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal {
    background: var(--bg-secondary);
    border: 1px solid rgba(59, 130, 246, 0.3);
    border-radius: var(--radius-xl);
    padding: 2rem;
    max-inline-size: 500px;
    inline-size: 90%;
    max-block-size: 80vh;
    overflow-y: auto;
    box-shadow: var(--shadow-2xl);
    transform: scale(0.9);
    transition: transform var(--transition-normal);
}

.modal-overlay.active .modal {
    transform: scale(1);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-block-end: 1.5rem;
    padding-block-end: 1rem;
    border-block-end: 2px solid var(--bg-tertiary);
}

.modal-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--primary-light);
}

.modal-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: var(--radius-md);
    transition: all var(--transition-normal);
}

.modal-close:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.modal-content {
    margin-block-end: 1.5rem;
}

.modal-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 1200px) {
    .board-grid {
        inline-size: 600px;
        block-size: 600px;
    }
    
    .side-panel {
        inline-size: 250px;
    }
}

@media (max-width: 768px) {
    .screen {
        padding: 1rem;
    }
    
    .menu-container {
        padding: 2rem;
    }
    
    .game-title {
        font-size: 2.5rem;
    }
    
    .top-panel {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
    }
    
    .board-grid {
        inline-size: 400px;
        block-size: 400px;
        gap: 1px;
        padding: 0.5rem;
    }
    
    .side-panel {
        position: static;
        transform: none;
        inline-size: 100%;
        margin-block-start: 1rem;
    }
    
    .cell-content h3 {
        font-size: 0.6rem;
    }
    
    .cell-content p {
        font-size: 0.5rem;
    }
}

@media (max-width: 480px) {
    body {
        font-size: 1rem;
        padding: 0;
    }
    .screen {
        padding: 0.5rem;
    }
    .menu-container {
        padding: 1rem;
        max-inline-size: 100vw;
        border-radius: var(--radius-md);
    }
    .game-title {
        font-size: 2rem;
        margin-block-end: 1rem;
    }
    .btn, .menu-btn, .settings-buttons .btn {
        min-block-size: 48px;
        font-size: 1.1rem;
        padding: 0.75rem 1rem;
        border-radius: var(--radius-md);
    }
    .top-panel, .side-panel {
        flex-direction: column;
        gap: 0.5rem;
        padding: 0.5rem;
    }
    .board-grid {
        grid-template-columns: repeat(8, 1fr);
        grid-template-rows: repeat(8, 1fr);
        gap: 1px;
        max-inline-size: 100vw;
        min-block-size: 220px;
    }
    .board-cell, .corner-cell, .property-cell, .chance-cell, .treasure-cell, .tax-cell {
        font-size: 0.7em;
        padding: 0.2em;
    }
    .modal {
        max-inline-size: 98vw;
        padding: 0.5rem;
        border-radius: var(--radius-md);
    }
    .modal-title {
        font-size: 1.2rem;
    }
    .chat-container, .chat-messages, .chat-input {
        padding: 0.2rem;
    }
    .player-list, .player-item {
        font-size: 0.9rem;
        padding: 0.2rem;
    }
    /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ */
    input, select, button {
        min-block-size: 44px;
        font-size: 1rem;
    }
    /* –£–±–∏—Ä–∞–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
    html, body {
        overflow-x: hidden;
    }
}

.property-logo-img {
    inline-size: 32px;
    block-size: 32px;
    object-fit: contain;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.10);
    margin-block-end: 2px;
    margin-block-start: 2px;
    background: #fff;
    display: block;
}

@media (max-width: 700px) {
    .property-logo-img { inline-size: 22px; block-size: 22px; }
}

.property-extras {
    display: flex;
    gap: 2px;
    justify-content: center;
    align-items: center;
    margin-block-start: 2px;
    min-block-size: 18px;
}
.property-owner {
    inline-size: 14px;
    block-size: 14px;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.10);
    display: inline-block;
}
.property-improvement {
    font-size: 1em;
    margin-inline-start: 1px;
    margin-inline-end: 1px;
    display: inline-block;
}

.custom-tooltip {
  position: absolute;
  z-index: 10000;
  background: rgba(40, 40, 40, 0.97);
  color: #fff;
  padding: 10px 16px;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.18);
  font-size: 1rem;
  line-height: 1.4;
  pointer-events: none;
  opacity: 0;
  transform: scale(0.96) translate(-50%, -100%);
  transition: opacity 0.18s cubic-bezier(.4,0,.2,1), transform 0.18s cubic-bezier(.4,0,.2,1);
  max-inline-size: 260px;
  word-break: break-word;
  white-space: pre-line;
}
.custom-tooltip[style*="opacity: 1"] {
  opacity: 1;
  transform: scale(1) translate(-50%, -100%);
}
@media (max-width: 600px) {
  .custom-tooltip {
    font-size: 0.95rem;
    padding: 8px 10px;
    max-inline-size: 90vw;
  }
}

.custom-tooltip__icon {
  display: inline-block;
  font-size: 1.3em;
  margin-inline-end: 10px;
  vertical-align: middle;
}
.custom-tooltip__color {
  display: inline-block;
  inline-size: 12px;
  block-size: 32px;
  border-radius: 5px;
  margin-inline-end: 10px;
  vertical-align: middle;
  box-shadow: 0 0 4px rgba(0,0,0,0.12);
}
.custom-tooltip__text {
  display: inline-block;
  vertical-align: middle;
  max-inline-size: 220px;
}
@media (max-width: 600px) {
  .custom-tooltip__icon, .custom-tooltip__color {
    margin-inline-end: 7px;
    inline-size: 10px;
    block-size: 24px;
    font-size: 1.1em;
  }
  .custom-tooltip__text {
    max-inline-size: 70vw;
  }
}

.cell-active {
  box-shadow: 0 0 0 4px #ffd600, 0 0 16px 8px #ffd60055;
  z-index: 10;
  transition: box-shadow 0.18s;
}
.token-bounce {
  animation: token-bounce 0.5s cubic-bezier(.4,0,.2,1);
}
@keyframes token-bounce {
  0% { transform: scale(1) translateY(0); }
  30% { transform: scale(1.15,0.85) translateY(-10px); }
  50% { transform: scale(0.95,1.1) translateY(2px); }
  70% { transform: scale(1.05,0.95) translateY(-4px); }
  100% { transform: scale(1) translateY(0); }
}

.achievements-modal, .statistics-modal, .tournaments-modal {
  padding: 24px 16px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 24px rgba(0,0,0,0.12);
  max-inline-size: 480px;
  margin: 0 auto;
}
.achievements-list, .statistics-list, .tournaments-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.achievement.unlocked {
  background: #e6ffe6;
  border-inline-start: 4px solid #4caf50;
}
.achievement.locked {
  background: #f5f5f5;
  color: #aaa;
  border-inline-start: 4px solid #ccc;
}
.achievement, .tournament {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
  border-block-end: 1px solid #eee;
}
.achievement .icon {
  font-size: 1.5em;
  inline-size: 2em;
  text-align: center;
}
.achievement .title {
  font-weight: 600;
  flex: 1;
}
.achievement .desc {
  font-size: 0.95em;
  color: #666;
}
.achievement .date {
  font-size: 0.85em;
  color: #999;
  margin-inline-start: auto;
}
.tournament .name {
  font-weight: 600;
}
.tournament .type, .tournament .status, .tournament .players {
  font-size: 0.95em;
  color: #666;
  margin-inline-start: 8px;
}

.game-info-buttons {
  display: flex;
  gap: 8px;
  margin-block-start: 8px;
}

.achievements-modal .achievements-filters {
  display: flex;
  gap: 6px;
  margin-block-end: 8px;
}
.achievements-modal .achievements-filters .btn.active {
  background: #4caf50;
  color: #fff;
  border-color: #388e3c;
}
.achievements-modal .achievements-filters .btn {
  padding: 4px 12px;
  font-size: 0.95em;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #f5f5f5;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.achievements-modal .achievements-filters .btn:hover:not(.active) {
  background: #e0e0e0;
}
.achievements-modal .progress-bar {
  background: #eee;
  border-radius: 6px;
  inline-size: 10px;
  block-size: 100%;
  overflow: hidden;
  margin-block-end: 8px;
}
.achievements-modal .progress-bar-inner {
  background: #4caf50;
  inline-size: 100%;
  transition: width 0.3s;
}

.achievements-modal h3, .statistics-modal h3, .tournaments-modal h3 {
  text-align: center;
  margin-block-end: 16px;
}

.statistics-modal .statistics-tabs {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-block-end: 12px;
}
.statistics-modal .statistics-tabs .btn.active {
  background: #1976d2;
  color: #fff;
  border-color: #1565c0;
}
.statistics-modal .statistics-tabs .btn {
  padding: 4px 16px;
  font-size: 1em;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #f5f5f5;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.statistics-modal .statistics-tabs .btn:hover:not(.active) {
  background: #e0e0e0;
}

.tournaments-modal .tournaments-tabs {
  display: flex;
  gap: 8px;
  justify-content: center;
  margin-block-end: 12px;
}
.tournaments-modal .tournaments-tabs .btn.active {
  background: #ff9800;
  color: #fff;
  border-color: #f57c00;
}
.tournaments-modal .tournaments-tabs .btn {
  padding: 4px 16px;
  font-size: 1em;
  border-radius: 6px;
  border: 1px solid #ccc;
  background: #f5f5f5;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.tournaments-modal .tournaments-tabs .btn:hover:not(.active) {
  background: #e0e0e0;
}

.achievement-notification {
  display: flex;
  align-items: center;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  padding: 12px 20px;
  position: fixed;
  inset-block-start: 32px;
  inset-inline-end: 32px;
  z-index: 20000;
  min-inline-size: 320px;
  max-inline-size: 400px;
  border-inline-start: 6px solid #4caf50;
  animation: fadeInDown 0.5s;
}
.achievement-notification.common { border-inline-start-color: #4caf50; }
.achievement-notification.rare { border-inline-start-color: #2196f3; }
.achievement-notification.epic { border-inline-start-color: #9c27b0; }
.achievement-notification.secret, .achievement-notification.legendary { border-inline-start-color: #ff9800; }
.achievement-notification .notification-icon {
  font-size: 2em;
  margin-inline-end: 16px;
}
.achievement-notification .notification-content {
  flex: 1;
}
.achievement-notification .notification-title {
  font-weight: 700;
  font-size: 1.1em;
  margin-block-end: 2px;
}
.achievement-notification .notification-message {
  font-size: 0.98em;
  color: #555;
}
.achievement-notification .notification-points {
  font-size: 0.95em;
  color: #388e3c;
  margin-block-start: 2px;
}
.achievement-notification .notification-details {
  background: #4caf50;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 4px 12px;
  margin-inline-start: 8px;
  cursor: pointer;
  font-size: 0.95em;
  transition: background 0.2s;
}
.achievement-notification .notification-details:hover {
  background: #388e3c;
}
.achievement-notification .notification-close {
  background: transparent;
  border: none;
  color: #888;
  font-size: 1.3em;
  margin-inline-start: 8px;
  cursor: pointer;
  transition: color 0.2s;
}
.achievement-notification .notification-close:hover {
  color: #d32f2f;
}
@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-40px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è --- */
.btn, .menu-btn, .settings-buttons .btn {
    box-shadow: var(--shadow-md);
    transition: background var(--transition-normal), color var(--transition-normal), box-shadow var(--transition-fast), transform var(--transition-fast);
    border-radius: var(--radius-xl);
}
.btn:hover, .menu-btn:hover, .settings-buttons .btn:hover {
    background: var(--gradient-primary);
    color: #fff;
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px) scale(1.03);
}
.btn:active, .menu-btn:active, .settings-buttons .btn:active {
    background: var(--primary-light);
    color: #fff;
    box-shadow: var(--shadow-md);
    transform: scale(0.98);
}

.modal, .card-modal {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-2xl);
    transition: box-shadow var(--transition-normal), background var(--transition-normal);
}
.modal-header, .card-header {
    border-block-end: 1px solid var(--primary-light);
    padding-block-end: 0.5rem;
}
.modal-title, .card-header h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--accent-color);
    text-shadow: 0 2px 8px rgba(0,0,0,0.15);
}
.modal-close {
    color: var(--error-color);
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    transition: color var(--transition-fast);
}
.modal-close:hover {
    color: var(--primary-light);
}

.custom-tooltip, .contextual-tooltip {
    background: var(--bg-tertiary);
    color: var(--text-primary);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    padding: 0.7em 1.2em;
    font-size: 1rem;
    opacity: 0.97;
    border: 1px solid var(--primary-light);
    transition: box-shadow var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
    z-index: 10001;
}
.custom-tooltip__icon, .custom-tooltip__color {
    margin-inline-end: 0.5em;
    font-size: 1.2em;
    vertical-align: middle;
}

/* –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
input, select, button, .btn, .menu-btn {
    border-radius: var(--radius-lg);
    transition: box-shadow var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
    outline: 2px solid transparent;
    outline-offset: 2px;
    transition: outline-color 0.2s;
}
input:focus-visible, select:focus-visible, button:focus-visible, .btn:focus-visible, .menu-btn:focus-visible {
    outline: 2px solid var(--primary-light);
    outline-offset: 2px;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–≤–∏–∂–µ–Ω–∏—è —Ñ–∏—à–∫–∏ */
.cell-path {
    outline: 3px solid var(--accent-color);
    outline-offset: -2px;
    background: rgba(245, 158, 11, 0.12);
    transition: outline 0.2s, background 0.2s;
    z-index: 2;
}

/* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
.modal, .modal-overlay, .card-modal {
    opacity: 0;
    transform: scale(0.96);
    transition: opacity 0.35s cubic-bezier(0.4,0,0.2,1), transform 0.35s cubic-bezier(0.4,0,0.2,1);
}
.modal.fade-in, .modal-overlay.fade-in, .card-modal.fade-in {
    opacity: 1;
    transform: scale(1);
}
.modal.fade-out, .modal-overlay.fade-out, .card-modal.fade-out {
    opacity: 0;
    transform: scale(0.96);
} 
```

## css\animations.css
```
/* –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –†—É—Å—Å–∫–æ–π –ú–æ–Ω–æ–ø–æ–ª–∏–∏ */

/* –ë–∞–∑–æ–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

@keyframes bounce {
    0%, 20%, 53%, 80%, 100% {
        transform: translateY(0);
    }
    40%, 43% {
        transform: translateY(-10px);
    }
    70% {
        transform: translateY(-5px);
    }
    90% {
        transform: translateY(-2px);
    }
}

@keyframes shake {
    0%, 100% {
        transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
        transform: translateX(-5px);
    }
    20%, 40%, 60%, 80% {
        transform: translateX(5px);
    }
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes glow {
    0%, 100% {
        box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
    }
    50% {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.6);
    }
}

@keyframes shimmer {
    0% {
        background-position: -200px 0;
    }
    100% {
        background-position: calc(200px + 100%) 0;
    }
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
}

@keyframes sparkle {
    0%, 100% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
    }
    50% {
        opacity: 1;
        transform: scale(1) rotate(180deg);
    }
}

/* –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º */
.screen.active {
    animation: fadeIn 0.6s ease-out;
}

.menu-container {
    animation: scaleIn 0.8s ease-out;
}

.menu-btn {
    animation: fadeInUp 0.6s ease-out;
}

.menu-btn:nth-child(1) { animation-delay: 0.1s; }
.menu-btn:nth-child(2) { animation-delay: 0.2s; }
.menu-btn:nth-child(3) { animation-delay: 0.3s; }
.menu-btn:nth-child(4) { animation-delay: 0.4s; }

.game-title {
    animation: fadeInDown 1s ease-out;
    position: relative;
}

.game-title::after {
    content: '';
    position: absolute;
    inset-block-end: -10px;
    inset-inline-start: 50%;
    transform: translateX(-50%);
    inline-size: 0;
    block-size: 3px;
    background: var(--gradient-accent);
    animation: slideInLeft 1.2s ease-out 0.5s forwards;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è */
.board-grid {
    animation: scaleIn 1s ease-out;
}

.corner-cell, .property-cell, .chance-cell, .tax-cell {
    animation: fadeIn 0.5s ease-out;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.corner-cell:nth-child(1) { animation-delay: 0.1s; }
.corner-cell:nth-child(2) { animation-delay: 0.2s; }
.corner-cell:nth-child(3) { animation-delay: 0.3s; }
.corner-cell:nth-child(4) { animation-delay: 0.4s; }

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –∏–≥—Ä–æ–∫–æ–≤ */
.player-token {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation: float 3s ease-in-out infinite;
}

.player-token:hover {
    animation: bounce 0.6s ease-in-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
.btn {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.btn::before {
    content: '';
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: -100%;
    inline-size: 100%;
    block-size: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: inset-inline-start 0.5s ease;
}

.btn:hover::before {
    inset-inline-start: 100%;
}

.btn:active {
    transform: scale(0.95);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
.modal-overlay {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.modal {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.modal-overlay.active .modal {
    animation: scaleIn 0.3s ease-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
.card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
}

.card:hover {
    transform: translateY(-5px) rotateX(5deg);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–æ—Å—Ç–µ–π */
.dice {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.dice.rolling {
    animation: shake 0.5s ease-in-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –¥–µ–Ω–µ–≥ */
.money {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.money.positive {
    animation: fadeInUp 0.5s ease-out;
    color: var(--success-color);
}

.money.negative {
    animation: shake 0.5s ease-in-out;
    color: var(--error-color);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≥–æ–¥—ã */
.weather-indicator {
    transition: all 0.3s ease;
}

.weather-indicator.rainy {
    animation: pulse 2s ease-in-out infinite;
}

.weather-indicator.snowy {
    animation: float 3s ease-in-out infinite;
}

.weather-indicator.stormy {
    animation: shake 0.5s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏–π */
.event-indicator {
    animation: glow 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏–π */
.improvement {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.improvement:hover {
    transform: scale(1.1);
    animation: glow 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤ */
.auction-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.auction-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.auction-timer {
    animation: pulse 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —á–∞—Ç–∞ */
.chat-message {
    animation: slideInRight 0.3s ease-out;
}

.chat-message.own {
    animation: slideInLeft 0.3s ease-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
.notification {
    animation: slideInDown 0.3s ease-out;
}

.notification.success {
    border-inline-start-color: var(--success-color);
}

.notification.error {
    border-inline-start-color: var(--error-color);
    animation: shake 0.5s ease-in-out;
}

.notification.warning {
    border-inline-start-color: var(--warning-color);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ */
.loading {
    display: inline-block;
    inline-size: 20px;
    block-size: 20px;
    border: 3px solid rgba(59, 130, 246, 0.3);
    border-radius: 50%;
    border-block-start-color: var(--primary-light);
    animation: rotate 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ */
.progress-bar {
    overflow: hidden;
    position: relative;
}

.progress-bar::after {
    content: '';
    position: absolute;
    inset-block-start: 0;
    inset-inline-start: 0;
    block-size: 100%;
    inline-size: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∑–≤–µ–∑–¥–æ—á–µ–∫ */
.star {
    position: absolute;
    inline-size: 4px;
    block-size: 4px;
    background: #fbbf24;
    border-radius: 50%;
    animation: sparkle 2s ease-in-out infinite;
}

.star:nth-child(1) { inset-block-start: 10%; inset-inline-start: 10%; animation-delay: 0s; }
.star:nth-child(2) { inset-block-start: 20%; inset-inline-start: 80%; animation-delay: 0.5s; }
.star:nth-child(3) { inset-block-start: 60%; inset-inline-start: 20%; animation-delay: 1s; }
.star:nth-child(4) { inset-block-start: 80%; inset-inline-start: 70%; animation-delay: 1.5s; }

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —á–∞—Å—Ç–∏—Ü */
.particle {
    position: absolute;
    inline-size: 6px;
    block-size: 6px;
    background: var(--primary-light);
    border-radius: 50%;
    animation: float 3s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ */
.screen {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.screen.fade-out {
    opacity: 0;
    transform: scale(0.95);
}

.screen.fade-in {
    opacity: 1;
    transform: scale(1);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.interactive {
    cursor: pointer;
    transition: all 0.2s ease;
}

.interactive:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.interactive:active {
    transform: translateY(0);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏–≥—Ä—ã */
.game-state-changing {
    animation: pulse 0.5s ease-in-out;
}

.player-turn {
    animation: glow 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
.sound-wave {
    position: absolute;
    inline-size: 100%;
    block-size: 100%;
    border: 2px solid var(--primary-light);
    border-radius: 50%;
    animation: scaleIn 0.5s ease-out;
    opacity: 0;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–∏ */
.victory {
    animation: bounce 1s ease-in-out infinite;
}

.victory::before {
    content: 'üéâ';
    position: absolute;
    inset-block-start: -20px;
    inset-inline-start: 50%;
    transform: translateX(-50%);
    font-size: 2rem;
    animation: float 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞ */
.bankruptcy {
    animation: shake 0.5s ease-in-out;
    filter: grayscale(100%);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ */
.trade-offer {
    animation: scaleIn 0.3s ease-out;
}

.trade-offer:hover {
    animation: pulse 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∞–ª—å—è–Ω—Å–æ–≤ */
.alliance {
    animation: glow 2s ease-in-out infinite;
    border-color: var(--success-color);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–æ–≤ */
.tournament {
    background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
    animation: shimmer 3s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–∞ */
.ranking {
    transition: all 0.3s ease;
}

.ranking:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */
.achievement {
    animation: scaleIn 0.5s ease-out;
}

.achievement.unlocked {
    animation: bounce 0.6s ease-in-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ */
.tooltip {
    animation: fadeInUp 0.3s ease-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è */
.tutorial-step {
    animation: fadeIn 0.5s ease-out;
}

.tutorial-highlight {
    animation: glow 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
.setting-option {
    transition: all 0.3s ease;
}

.setting-option:hover {
    background: var(--bg-tertiary);
    transform: translateX(5px);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —è–∑—ã–∫–æ–≤–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è */
.language-selector {
    transition: all 0.3s ease;
}

.language-selector:hover {
    transform: scale(1.05);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∑–≤—É–∫–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
.sound-control {
    transition: all 0.3s ease;
}

.sound-control:hover {
    transform: scale(1.1);
}

.sound-control.muted {
    opacity: 0.5;
    filter: grayscale(100%);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
.fullscreen-toggle {
    transition: all 0.3s ease;
}

.fullscreen-toggle:hover {
    transform: scale(1.1);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏ */
.save-load {
    transition: all 0.3s ease;
}

.save-load:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.statistics {
    animation: fadeInUp 0.5s ease-out;
}

.stat-item {
    transition: all 0.3s ease;
}

.stat-item:hover {
    transform: scale(1.05);
    background: var(--bg-tertiary);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä */
.game-history {
    animation: slideInLeft 0.5s ease-out;
}

.history-item {
    transition: all 0.3s ease;
}

.history-item:hover {
    transform: translateX(5px);
    background: var(--bg-tertiary);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è */
.profile {
    animation: scaleIn 0.5s ease-out;
}

.profile-avatar {
    transition: all 0.3s ease;
}

.profile-avatar:hover {
    transform: scale(1.1);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –¥—Ä—É–∑–µ–π */
.friends-list {
    animation: fadeInUp 0.5s ease-out;
}

.friend-item {
    transition: all 0.3s ease;
}

.friend-item:hover {
    transform: translateX(5px);
    background: var(--bg-tertiary);
}

.friend-online {
    animation: pulse 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
.notifications {
    animation: slideInRight 0.5s ease-out;
}

.notification-item {
    transition: all 0.3s ease;
}

.notification-item:hover {
    transform: translateX(-5px);
    background: var(--bg-tertiary);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ */
.search {
    transition: all 0.3s ease;
}

.search:focus {
    transform: scale(1.02);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ */
.filter {
    transition: all 0.3s ease;
}

.filter:hover {
    transform: scale(1.05);
}

.filter.active {
    animation: glow 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ */
.sort {
    transition: all 0.3s ease;
}

.sort:hover {
    transform: scale(1.05);
}

.sort.active {
    animation: pulse 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ */
.pagination {
    animation: fadeInUp 0.5s ease-out;
}

.page-item {
    transition: all 0.3s ease;
}

.page-item:hover {
    transform: scale(1.1);
}

.page-item.active {
    animation: glow 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω —Å —Ñ–æ—Ä–º–∞–º–∏ */
.form-group {
    animation: fadeInUp 0.3s ease-out;
}

.form-group:nth-child(1) { animation-delay: 0.1s; }
.form-group:nth-child(2) { animation-delay: 0.2s; }
.form-group:nth-child(3) { animation-delay: 0.3s; }
.form-group:nth-child(4) { animation-delay: 0.4s; }

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ */
.input-error {
    animation: shake 0.5s ease-in-out;
    border-color: var(--error-color);
}

.input-success {
    border-color: var(--success-color);
    animation: glow 1s ease-in-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ */
.file-upload {
    transition: all 0.3s ease;
}

.file-upload:hover {
    transform: scale(1.05);
}

.file-upload.dragover {
    animation: pulse 1s ease-in-out infinite;
    border-color: var(--primary-light);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏ */
.upload-progress {
    animation: shimmer 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –æ—à–∏–±–æ–∫ */
.error-message {
    animation: shake 0.5s ease-in-out;
    border-inline-start-color: var(--error-color);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É—Å–ø–µ—Ö–∞ */
.success-message {
    animation: fadeInUp 0.5s ease-out;
    border-inline-start-color: var(--success-color);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π */
.warning-message {
    animation: pulse 1s ease-in-out infinite;
    border-inline-start-color: var(--warning-color);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
.info-message {
    animation: fadeInUp 0.5s ease-out;
    border-inline-start-color: var(--primary-light);
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è */
.close-animation {
    animation: scaleIn 0.3s ease-out reverse;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è */
.open-animation {
    animation: scaleIn 0.3s ease-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è */
.switch-animation {
    animation: slideInRight 0.3s ease-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
.appear-animation {
    animation: fadeIn 0.5s ease-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è */
.disappear-animation {
    animation: fadeIn 0.5s ease-out reverse;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è */
.rotate-animation {
    animation: rotate 1s linear infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø—É–ª—å—Å–∞—Ü–∏–∏ */
.pulse-animation {
    animation: pulse 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è */
.bounce-animation {
    animation: bounce 1s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ç—Ä—è—Å–∫–∏ */
.shake-animation {
    animation: shake 0.5s ease-in-out;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–≤–µ—á–µ–Ω–∏—è */
.glow-animation {
    animation: glow 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–µ—Ä—Ü–∞–Ω–∏—è */
.shimmer-animation {
    animation: shimmer 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–ª–∞–≤–∞–Ω–∏—è */
.float-animation {
    animation: float 3s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∏—Å–∫—Ä–µ–Ω–∏—è */
.sparkle-animation {
    animation: sparkle 2s ease-in-out infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–æ–≤ */
.dice-rolling {
    animation: diceShake 0.7s cubic-bezier(0.36, 0.07, 0.19, 0.97);
}
@keyframes diceShake {
    10% { transform: rotate(-10deg) scale(1.1); }
    20% { transform: rotate(10deg) scale(1.05); }
    30% { transform: rotate(-8deg) scale(1.12); }
    40% { transform: rotate(8deg) scale(1.08); }
    50% { transform: rotate(-6deg) scale(1.15); }
    60% { transform: rotate(6deg) scale(1.1); }
    70% { transform: rotate(-4deg) scale(1.13); }
    80% { transform: rotate(4deg) scale(1.07); }
    90% { transform: rotate(0deg) scale(1.1); }
    100% { transform: rotate(0deg) scale(1); }
}
.dice-result {
    opacity: 0;
    transform: scale(0.8);
    transition: opacity 0.3s, transform 0.3s;
}
.dice-result.visible {
    opacity: 1;
    transform: scale(1);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è —Å–∞–ª—é—Ç–∞ (firework) */
.firework {
    position: fixed;
    inset-inline-start: 50%;
    inset-block-start: 50%;
    pointer-events: none;
    z-index: 99999;
    inline-size: 0;
    inline-size: 0;
    block-size: 0;
    block-size: 0;
}
.firework__particle {
    position: absolute;
    inset-inline-start: 50%;
    inset-block-start: 50%;
    inline-size: 8px;
    inline-size: 8px;
    block-size: 8px;
    block-size: 8px;
    border-radius: 50%;
    opacity: 0.85;
    animation: firework-explode 1.2s cubic-bezier(0.4,0,0.2,1) forwards;
}
@keyframes firework-explode {
    0% { transform: scale(0.5) translate(0,0); opacity: 1; }
    80% { opacity: 1; }
    100% { transform: scale(1.2) translate(var(--x), var(--y)); opacity: 0; }
} 

@keyframes shake {
  0% { transform: translate(0, 0) rotate(0deg); }
  20% { transform: translate(-4px, 2px) rotate(-8deg); }
  40% { transform: translate(4px, -2px) rotate(8deg); }
  60% { transform: translate(-2px, 2px) rotate(-4deg); }
  80% { transform: translate(2px, -2px) rotate(4deg); }
  100% { transform: translate(0, 0) rotate(0deg); }
}

.shake {
  animation: shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
}

@keyframes fadeInDown {
  0% { opacity: 0; transform: translateY(-40px); }
  100% { opacity: 1; transform: translateY(0); }
}

.fadeInDown {
  animation: fadeInDown 0.7s cubic-bezier(.36,.07,.19,.97) both;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  20% { transform: translateY(-20px); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-20px); }
  80% { transform: translateY(-5px); }
}

.bounce {
  animation: bounce 1s;
}

.modal, .toast, .achievement-notification {
  transition: opacity 0.3s, transform 0.3s;
} 
```

## js\config.js
```
/**
 * –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–≥—Ä—ã –†—É—Å—Å–∫–∞—è –ú–æ–Ω–æ–ø–æ–ª–∏—è
 * –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
 */

const CONFIG = {
    // –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
    GAME: {
        STARTING_MONEY: 2000,
        MAX_PLAYERS: 6,
        MIN_PLAYERS: 2,
        BOARD_SIZE: 40,
        JAIL_POSITION: 9,
        GO_TO_JAIL_POSITION: 30,
        FREE_PARKING_POSITION: 20,
        START_POSITION: 0,
        DEFAULT_LANGUAGE: 'ru',
        SUPPORTED_LANGUAGES: ['ru', 'en', 'de', 'fr', 'es', 'zh', 'ja', 'ko']
    },

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–∫—Ü–∏–æ–Ω–∞
    AUCTION: {
        MIN_BID: 10,
        TIME_LIMIT: 30, // —Å–µ–∫—É–Ω–¥—ã
        AUTO_PASS_TIME: 10, // –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–ø—É—Å–∫ —á–µ—Ä–µ–∑ N —Å–µ–∫—É–Ω–¥
        BID_INCREMENT: 10, // –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥ —Å—Ç–∞–≤–∫–∏
        EXTENSION_TIME: 15 // –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –Ω–æ–≤–æ–π —Å—Ç–∞–≤–∫–µ
    },

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–π
    RESIDENCE: {
        MIN_PROPERTIES: 3, // –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–æ–π—Å—Ç–≤ –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
        RENT_MULTIPLIER: 2, // –º–Ω–æ–∂–∏—Ç–µ–ª—å –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã
        BUILD_COST: 500, // —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
        MAX_RESIDENCES: 3 // –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–π –Ω–∞ —É—á–∞—Å—Ç–∫–µ
    },

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
    IMPROVEMENT: {
        MAX_LEVEL: 5,
        COST_PER_LEVEL: 200,
        RENT_INCREASE: 0.5, // —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∞—Ä–µ–Ω–¥—ã –Ω–∞ 50% –∑–∞ —É—Ä–æ–≤–µ–Ω—å
        DISCOUNT_MULTIPLIER: 0.8 // —Å–∫–∏–¥–∫–∞ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –≤–ª–∞–¥–µ–Ω–∏–∏ —Ü–≤–µ—Ç–æ–≤–æ–π –≥—Ä—É–ø–ø–æ–π
    },

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≥–æ–¥—ã
    WEATHER: [
        {
            type: 'sunny',
            name: '–°–æ–ª–Ω–µ—á–Ω–æ',
            en_name: 'Sunny',
            de_name: 'Sonnig',
            fr_name: 'Ensoleill√©',
            es_name: 'Soleado',
            zh_name: 'Êô¥Â§©',
            ja_name: 'Êô¥„Çå',
            ko_name: 'ÎßëÏùå',
            duration: 3,
            effects: { rent: 1.1, movement: 1, building: 1.1 },
            intensity: 1
        },
        {
            type: 'rainy',
            name: '–î–æ–∂–¥–ª–∏–≤–æ',
            en_name: 'Rainy',
            de_name: 'Regnerisch',
            fr_name: 'Pluvieux',
            es_name: 'Lluvioso',
            zh_name: 'Èõ®Â§©',
            ja_name: 'Èõ®',
            ko_name: 'ÎπÑ',
            duration: 2,
            effects: { rent: 0.9, movement: 0.9, building: 0.8 },
            intensity: 1
        },
        {
            type: 'snowy',
            name: '–°–Ω–µ–∂–Ω–æ',
            en_name: 'Snowy',
            de_name: 'Schneereich',
            fr_name: 'Neigeux',
            es_name: 'Nevado',
            zh_name: 'Èõ™Â§©',
            ja_name: 'Èõ™',
            ko_name: 'Îàà',
            duration: 2,
            effects: { rent: 0.7, movement: 0.7, building: 0.6 },
            intensity: 1
        },
        {
            type: 'stormy',
            name: '–®—Ç–æ—Ä–º',
            en_name: 'Stormy',
            de_name: 'St√ºrmisch',
            fr_name: 'Orageux',
            es_name: 'Tormentoso',
            zh_name: 'Êö¥È£éÈõ®',
            ja_name: 'Âµê',
            ko_name: 'Ìè≠Ìíç',
            duration: 1,
            effects: { rent: 0.5, movement: 0.5, building: 0.3 },
            intensity: 2
        },
        {
            type: 'foggy',
            name: '–¢—É–º–∞–Ω–Ω–æ',
            en_name: 'Foggy',
            de_name: 'Neblig',
            fr_name: 'Brumeux',
            es_name: 'Neblinoso',
            zh_name: 'ÈõæÂ§©',
            ja_name: 'Èúß',
            ko_name: 'ÏïàÍ∞ú',
            duration: 2,
            effects: { rent: 0.8, movement: 0.8, building: 1 },
            intensity: 1
        }
    ],

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
    ECONOMIC_EVENTS: [
        {
            type: 'boom',
            name: '–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –±—É–º',
            en_name: 'Economic Boom',
            de_name: 'Wirtschaftsboom',
            fr_name: 'Boom √©conomique',
            es_name: 'Auge econ√≥mico',
            zh_name: 'ÁªèÊµéÁπÅËç£',
            ja_name: 'ÁµåÊ∏à„Éñ„Éº„É†',
            ko_name: 'Í≤ΩÏ†ú Ìò∏Ìô©',
            duration: 5,
            propertyValue: 1.3,
            income: 1.2,
            taxes: 0.9
        },
        {
            type: 'crisis',
            name: '–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–∑–∏—Å',
            en_name: 'Economic Crisis',
            de_name: 'Wirtschaftskrise',
            fr_name: 'Crise √©conomique',
            es_name: 'Crisis econ√≥mica',
            zh_name: 'ÁªèÊµéÂç±Êú∫',
            ja_name: 'ÁµåÊ∏àÂç±Ê©ü',
            ko_name: 'Í≤ΩÏ†ú ÏúÑÍ∏∞',
            duration: 5,
            propertyValue: 0.7,
            income: 0.8,
            taxes: 1.1
        },
        {
            type: 'inflation',
            name: '–ò–Ω—Ñ–ª—è—Ü–∏—è',
            en_name: 'Inflation',
            de_name: 'Inflation',
            fr_name: 'Inflation',
            es_name: 'Inflaci√≥n',
            zh_name: 'ÈÄöË¥ßËÜ®ËÉÄ',
            ja_name: '„Ç§„É≥„Éï„É¨',
            ko_name: 'Ïù∏ÌîåÎ†àÏù¥ÏÖò',
            duration: 3,
            propertyValue: 1.1,
            income: 0.9,
            taxes: 1.05
        },
        {
            type: 'deflation',
            name: '–î–µ—Ñ–ª—è—Ü–∏—è',
            en_name: 'Deflation',
            de_name: 'Deflation',
            fr_name: 'D√©flation',
            es_name: 'Deflaci√≥n',
            zh_name: 'ÈÄöË¥ßÁ¥ßÁº©',
            ja_name: '„Éá„Éï„É¨',
            ko_name: 'ÎîîÌîåÎ†àÏù¥ÏÖò',
            duration: 3,
            propertyValue: 0.9,
            income: 1.1,
            taxes: 0.95
        }
    ],

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
    CULTURAL_EVENTS: [
        {
            type: 'festival',
            name: '–ö—É–ª—å—Ç—É—Ä–Ω—ã–π —Ñ–µ—Å—Ç–∏–≤–∞–ª—å',
            en_name: 'Cultural Festival',
            de_name: 'Kulturfestival',
            fr_name: 'Festival culturel',
            es_name: 'Festival cultural',
            zh_name: 'ÊñáÂåñËäÇ',
            ja_name: 'ÊñáÂåñÁ•≠',
            ko_name: 'Î¨∏ÌôîÏ†ú',
            duration: 3,
            tourism: 1.5,
            culture: 1.3
        },
        {
            type: 'olympics',
            name: '–û–ª–∏–º–ø–∏–π—Å–∫–∏–µ –∏–≥—Ä—ã',
            en_name: 'Olympic Games',
            de_name: 'Olympische Spiele',
            fr_name: 'Jeux olympiques',
            es_name: 'Juegos ol√≠mpicos',
            zh_name: 'Â••Ëøê‰ºö',
            ja_name: '„Ç™„É™„É≥„Éî„ÉÉ„ÇØ',
            ko_name: 'Ïò¨Î¶ºÌîΩ',
            duration: 4,
            tourism: 2.0,
            culture: 1.5
        },
        {
            type: 'exhibition',
            name: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –≤—ã—Å—Ç–∞–≤–∫–∞',
            en_name: 'International Exhibition',
            de_name: 'Internationale Ausstellung',
            fr_name: 'Exposition internationale',
            es_name: 'Exposici√≥n internacional',
            zh_name: 'ÂõΩÈôÖÂ±ïËßà',
            ja_name: 'ÂõΩÈöõÂçöË¶ß‰ºö',
            ko_name: 'Íµ≠Ï†ú Î∞ïÎûåÌöå',
            duration: 3,
            tourism: 1.4,
            culture: 1.2
        },
        {
            type: 'concert',
            name: '–ú–µ–≥–∞-–∫–æ–Ω—Ü–µ—Ä—Ç',
            en_name: 'Mega Concert',
            de_name: 'Mega-Konzert',
            fr_name: 'M√©ga-concert',
            es_name: 'Mega-concierto',
            zh_name: 'Â§ßÂûãÈü≥‰πê‰ºö',
            ja_name: '„É°„Ç¨„Ç≥„É≥„Çµ„Éº„Éà',
            ko_name: 'Î©îÍ∞Ä ÏΩòÏÑúÌä∏',
            duration: 2,
            tourism: 1.3,
            culture: 1.4
        }
    ],

    // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    ACHIEVEMENTS: [
        {
            id: 'first_property',
            type: 'properties',
            condition: 1,
            name: '–ü–µ—Ä–≤—ã–π –¥–æ–º–æ–≤–ª–∞–¥–µ–ª–µ—Ü',
            en_name: 'First Property Owner',
            de_name: 'Erster Immobilienbesitzer',
            fr_name: 'Premier propri√©taire',
            es_name: 'Primer propietario',
            zh_name: 'Á¨¨‰∏Ä‰∏™Êàø‰∏ú',
            ja_name: 'Âàù„ÇÅ„Å¶„ÅÆÂÆ∂‰∏ª',
            ko_name: 'Ï≤´ Î≤àÏß∏ ÏßëÏ£ºÏù∏',
            description: '–ö—É–ø–∏—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
            en_description: 'Purchase your first property',
            icon: 'üè†'
        },
        {
            id: 'millionaire',
            type: 'money',
            condition: 10000,
            name: '–ú–∏–ª–ª–∏–æ–Ω–µ—Ä',
            en_name: 'Millionaire',
            de_name: 'Million√§r',
            fr_name: 'Millionnaire',
            es_name: 'Millonario',
            zh_name: 'Áôæ‰∏áÂØåÁøÅ',
            ja_name: 'Áôæ‰∏áÈï∑ËÄÖ',
            ko_name: 'Î∞±ÎßåÏû•Ïûê',
            description: '–ù–∞–∫–æ–ø–∏—Ç–µ 10,000‚ÇΩ',
            en_description: 'Accumulate 10,000$',
            icon: 'üí∞'
        },
        {
            id: 'property_tycoon',
            type: 'properties',
            condition: 10,
            name: '–ù–µ–¥–≤–∏–∂–∏–º—ã–π –º–∞–≥–Ω–∞—Ç',
            en_name: 'Property Tycoon',
            de_name: 'Immobilienmagnat',
            fr_name: 'Magnat immobilier',
            es_name: 'Magnate inmobiliario',
            zh_name: 'ÊàøÂú∞‰∫ßÂ§ß‰∫®',
            ja_name: '‰∏çÂãïÁî£Áéã',
            ko_name: 'Î∂ÄÎèôÏÇ∞ Ïû¨Î≤å',
            description: '–í–ª–∞–¥–µ–π—Ç–µ 10 –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',
            en_description: 'Own 10 properties',
            icon: 'üè¢'
        },
        {
            id: 'trade_master',
            type: 'trades',
            condition: 5,
            name: '–ú–∞—Å—Ç–µ—Ä —Ç–æ—Ä–≥–æ–≤–ª–∏',
            en_name: 'Trade Master',
            de_name: 'Handelsmeister',
            fr_name: 'Ma√Ætre du commerce',
            es_name: 'Maestro del comercio',
            zh_name: '‰∫§ÊòìÂ§ßÂ∏à',
            ja_name: 'ÂèñÂºï„Éû„Çπ„Çø„Éº',
            ko_name: 'Í±∞Îûò ÎßàÏä§ÌÑ∞',
            description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ 5 —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫',
            en_description: 'Complete 5 trade deals',
            icon: 'ü§ù'
        },
        {
            id: 'auction_king',
            type: 'auctions',
            condition: 3,
            name: '–ö–æ—Ä–æ–ª—å –∞—É–∫—Ü–∏–æ–Ω–æ–≤',
            en_name: 'Auction King',
            de_name: 'Auktionsk√∂nig',
            fr_name: 'Roi des ench√®res',
            es_name: 'Rey de las subastas',
            zh_name: 'ÊãçÂçñ‰πãÁéã',
            ja_name: '„Ç™„Éº„ÇØ„Ç∑„Éß„É≥Áéã',
            ko_name: 'Í≤ΩÎß§Ïôï',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 3 –∞—É–∫—Ü–∏–æ–Ω–∞',
            en_description: 'Win 3 auctions',
            icon: 'üëë'
        }
    ],

    // –¢—É—Ä–Ω–∏—Ä—ã
    TOURNAMENT: {
        elimination: {
            name: '–ù–∞ –≤—ã–±—ã–≤–∞–Ω–∏–µ',
            en_name: 'Elimination',
            de_name: 'Ausscheidung',
            fr_name: '√âlimination',
            es_name: 'Eliminaci√≥n',
            zh_name: 'Ê∑òÊ±∞Ëµõ',
            ja_name: '„Éà„Éº„Éä„É°„É≥„Éà',
            ko_name: 'ÌÜ†ÎÑàÎ®ºÌä∏'
        },
        points: {
            name: '–ü–æ –æ—á–∫–∞–º',
            en_name: 'Points',
            de_name: 'Punkte',
            fr_name: 'Points',
            es_name: 'Puntos',
            zh_name: 'ÁßØÂàÜËµõ',
            ja_name: '„Éù„Ç§„É≥„ÉàÂà∂',
            ko_name: 'Ìè¨Ïù∏Ìä∏Ï†ú'
        },
        round_robin: {
            name: '–ö—Ä—É–≥–æ–≤–æ–π',
            en_name: 'Round Robin',
            de_name: 'Jeder gegen jeden',
            fr_name: 'Chacun contre chacun',
            es_name: 'Todos contra todos',
            zh_name: 'Âæ™ÁéØËµõ',
            ja_name: 'Á∑èÂΩì„Åü„Çä',
            ko_name: 'Î¶¨Í∑∏Ï†Ñ'
        }
    },

    // –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –®–∞–Ω—Å
    CHANCE_CARDS: [
        {
            id: 1,
            type: 'money',
            amount: 500,
            text: '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –±–∏–ª–µ—Ç—ã –≤ –ë–æ–ª—å—à–æ–π —Ç–µ–∞—Ç—Ä! –ü–æ–ª—É—á–∏—Ç–µ 500‚ÇΩ',
            en_text: 'You won tickets to the Bolshoi Theatre! Receive 500$'
        },
        {
            id: 2,
            type: 'money',
            amount: -200,
            text: '–®—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 200‚ÇΩ',
            en_text: 'Speeding ticket fine. Pay 200$'
        },
        {
            id: 3,
            type: 'move',
            target: 0,
            text: '–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ—Å—å –Ω–∞ –°–¢–ê–†–¢',
            en_text: 'Go to START'
        },
        {
            id: 4,
            type: 'move',
            target: 9,
            text: '–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ—Å—å –≤ —Ç—é—Ä—å–º—É',
            en_text: 'Go to jail'
        },
        {
            id: 5,
            type: 'money',
            amount: 300,
            text: '–¢—Ä–∞–Ω—Å—Å–∏–±–∏—Ä—Å–∫–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ! –ü–æ–ª—É—á–∏—Ç–µ 300‚ÇΩ',
            en_text: 'Trans-Siberian journey! Receive 300$'
        },
        {
            id: 6,
            type: 'money',
            amount: -150,
            text: '–†–µ–º–æ–Ω—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—è. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 150‚ÇΩ',
            en_text: 'Car repair. Pay 150$'
        },
        {
            id: 7,
            type: 'money',
            amount: 400,
            text: '–í—ã–∏–≥—Ä—ã—à –≤ –ª–æ—Ç–µ—Ä–µ—é! –ü–æ–ª—É—á–∏—Ç–µ 400‚ÇΩ',
            en_text: 'Lottery win! Receive 400$'
        },
        {
            id: 8,
            type: 'money',
            amount: -100,
            text: '–û–ø–ª–∞—Ç–∞ –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 100‚ÇΩ',
            en_text: 'Utility bill payment. Pay 100$'
        },
        {
            id: 9,
            type: 'money',
            amount: 250,
            text: '–ü—Ä–æ–¥–∞–∂–∞ —Å—É–≤–µ–Ω–∏—Ä–æ–≤. –ü–æ–ª—É—á–∏—Ç–µ 250‚ÇΩ',
            en_text: 'Souvenir sales. Receive 250$'
        },
        {
            id: 10,
            type: 'money',
            amount: -300,
            text: '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 300‚ÇΩ',
            en_text: 'Medical expenses. Pay 300$'
        },
        {
            id: 11,
            type: 'money',
            amount: 600,
            text: '–ù–∞—Å–ª–µ–¥—Å—Ç–≤–æ –æ—Ç –¥–∞–ª—å–Ω–µ–≥–æ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞. –ü–æ–ª—É—á–∏—Ç–µ 600‚ÇΩ',
            en_text: 'Inheritance from distant relative. Receive 600$'
        },
        {
            id: 12,
            type: 'money',
            amount: -250,
            text: '–®—Ç—Ä–∞—Ñ –∑–∞ –ø–∞—Ä–∫–æ–≤–∫—É. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 250‚ÇΩ',
            en_text: 'Parking ticket. Pay 250$'
        },
        {
            id: 13,
            type: 'money',
            amount: 350,
            text: '–ü—Ä–æ–¥–∞–∂–∞ —Å—Ç–∞—Ä–æ–π —Ç–µ—Ö–Ω–∏–∫–∏. –ü–æ–ª—É—á–∏—Ç–µ 350‚ÇΩ',
            en_text: 'Old equipment sale. Receive 350$'
        },
        {
            id: 14,
            type: 'money',
            amount: -180,
            text: '–û–ø–ª–∞—Ç–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 180‚ÇΩ',
            en_text: 'Internet bill. Pay 180$'
        },
        {
            id: 15,
            type: 'money',
            amount: 450,
            text: '–í—ã–∏–≥—Ä—ã—à –≤ –∫–∞–∑–∏–Ω–æ! –ü–æ–ª—É—á–∏—Ç–µ 450‚ÇΩ',
            en_text: 'Casino win! Receive 450$'
        },
        {
            id: 16,
            type: 'money',
            amount: -220,
            text: '–ü–æ–∫—É–ø–∫–∞ –ø–æ–¥–∞—Ä–∫–æ–≤. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 220‚ÇΩ',
            en_text: 'Gift purchases. Pay 220$'
        }
    ],

    // –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –ö–∞–∑–Ω–∞
    TREASURE_CARDS: [
        {
            id: 1,
            type: 'money',
            amount: 1000,
            text: '–í—ã–∏–≥—Ä—ã—à –≤ —Ç–µ–ª–µ–≤–∏–∫—Ç–æ—Ä–∏–Ω–µ! –ü–æ–ª—É—á–∏—Ç–µ 1000‚ÇΩ',
            en_text: 'Game show win! Receive 1000$'
        },
        {
            id: 2,
            type: 'money',
            amount: -500,
            text: '–ù–∞–ª–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 500‚ÇΩ',
            en_text: 'Tax audit. Pay 500$'
        },
        {
            id: 3,
            type: 'money',
            amount: 800,
            text: '–ü—Ä–æ–¥–∞–∂–∞ –∞–∫—Ü–∏–π. –ü–æ–ª—É—á–∏—Ç–µ 800‚ÇΩ',
            en_text: 'Stock sale. Receive 800$'
        },
        {
            id: 4,
            type: 'money',
            amount: -400,
            text: '–†–µ–º–æ–Ω—Ç –∫–≤–∞—Ä—Ç–∏—Ä—ã. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 400‚ÇΩ',
            en_text: 'Apartment renovation. Pay 400$'
        },
        {
            id: 5,
            type: 'money',
            amount: 1200,
            text: '–í—ã–∏–≥—Ä—ã—à –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–º —Ç–æ—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä–µ! –ü–æ–ª—É—á–∏—Ç–µ 1200‚ÇΩ',
            en_text: 'Sports betting win! Receive 1200$'
        },
        {
            id: 6,
            type: 'money',
            amount: -600,
            text: '–ü–æ–∫—É–ø–∫–∞ –Ω–æ–≤–æ–π –º–µ–±–µ–ª–∏. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 600‚ÇΩ',
            en_text: 'New furniture purchase. Pay 600$'
        },
        {
            id: 7,
            type: 'money',
            amount: 900,
            text: '–ü—Ä–æ–¥–∞–∂–∞ –∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç–∞. –ü–æ–ª—É—á–∏—Ç–µ 900‚ÇΩ',
            en_text: 'Antique sale. Receive 900$'
        },
        {
            id: 8,
            type: 'money',
            amount: -350,
            text: '–û–ø–ª–∞—Ç–∞ –∫—Ä–µ–¥–∏—Ç–∞. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 350‚ÇΩ',
            en_text: 'Loan payment. Pay 350$'
        },
        {
            id: 9,
            type: 'money',
            amount: 1500,
            text: '–í—ã–∏–≥—Ä—ã—à –≤ –ª–æ—Ç–µ—Ä–µ–µ! –ü–æ–ª—É—á–∏—Ç–µ 1500‚ÇΩ',
            en_text: 'Lottery jackpot! Receive 1500$'
        },
        {
            id: 10,
            type: 'money',
            amount: -700,
            text: '–ü–æ–∫—É–ø–∫–∞ –Ω–æ–≤–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 700‚ÇΩ',
            en_text: 'New phone purchase. Pay 700$'
        },
        {
            id: 11,
            type: 'money',
            amount: 1100,
            text: '–ü—Ä–æ–¥–∞–∂–∞ —Å—Ç–∞—Ä–æ–π –º–∞—à–∏–Ω—ã. –ü–æ–ª—É—á–∏—Ç–µ 1100‚ÇΩ',
            en_text: 'Old car sale. Receive 1100$'
        },
        {
            id: 12,
            type: 'money',
            amount: -450,
            text: '–û–ø–ª–∞—Ç–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 450‚ÇΩ',
            en_text: 'Insurance payment. Pay 450$'
        },
        {
            id: 13,
            type: 'money',
            amount: 1300,
            text: '–í—ã–∏–≥—Ä—ã—à –≤ –ø–æ–∫–µ—Ä! –ü–æ–ª—É—á–∏—Ç–µ 1300‚ÇΩ',
            en_text: 'Poker win! Receive 1300$'
        },
        {
            id: 14,
            type: 'money',
            amount: -550,
            text: '–ü–æ–∫—É–ø–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 550‚ÇΩ',
            en_text: 'Computer purchase. Pay 550$'
        },
        {
            id: 15,
            type: 'money',
            amount: 1400,
            text: '–ü—Ä–æ–¥–∞–∂–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –º–∞—Ä–æ–∫. –ü–æ–ª—É—á–∏—Ç–µ 1400‚ÇΩ',
            en_text: 'Stamp collection sale. Receive 1400$'
        },
        {
            id: 16,
            type: 'money',
            amount: -650,
            text: '–û–ø–ª–∞—Ç–∞ –æ–±—É—á–µ–Ω–∏—è. –ó–∞–ø–ª–∞—Ç–∏—Ç–µ 650‚ÇΩ',
            en_text: 'Education payment. Pay 650$'
        }
    ],

    // –î–∞–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤ (—É—á–∞—Å—Ç–∫–æ–≤)
    PROPERTIES: [
        // –ö–æ—Ä–∏—á–Ω–µ–≤—ã–µ (–¥–µ—à–µ–≤—ã–µ)
        { id: 1, name: '–ê—Ä–±–∞—Ç', price: 600, rent: [20, 100, 300, 900, 1600, 2500], color: 'brown', position: 1, logo: 'assets/brands/apple.svg' },
        { id: 3, name: '–¢–≤–µ—Ä—Å–∫–∞—è', price: 800, rent: [40, 200, 600, 1800, 3200, 4500], color: 'brown', position: 3, logo: 'üè†' },
        
        // –ì–æ–ª—É–±—ã–µ
        { id: 5, name: '–ú–µ—Ç—Ä–æ', price: 1000, rent: [60, 300, 900, 2700, 4000, 5500], color: 'lightblue', position: 5, logo: 'assets/brands/google.svg' },
        { id: 6, name: '–≠—Ä–º–∏—Ç–∞–∂', price: 1200, rent: [80, 400, 1000, 3000, 4500, 6000], color: 'lightblue', position: 6, logo: 'assets/brands/microsoft.svg' },
        { id: 8, name: '–ü–µ—Ç–µ—Ä–≥–æ—Ñ', price: 1400, rent: [100, 500, 1500, 4500, 6250, 7500], color: 'lightblue', position: 8, logo: 'assets/brands/samsung.svg' },
        
        // –†–æ–∑–æ–≤—ã–µ
        { id: 10, name: '–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å', price: 1600, rent: [120, 600, 1800, 5400, 8000, 11000], color: 'pink', position: 10, logo: 'üü•' },
        { id: 11, name: '–ì–£–ú', price: 1800, rent: [140, 700, 2000, 6000, 9000, 12000], color: 'pink', position: 11, logo: 'üè¨' },
        { id: 13, name: '–¶–£–ú', price: 2000, rent: [160, 800, 2200, 6600, 9800, 14000], color: 'pink', position: 13, logo: 'üè¨' },
        
        // –û—Ä–∞–Ω–∂–µ–≤—ã–µ
        { id: 14, name: '–¢—Ä–µ—Ç—å—è–∫–æ–≤–∫–∞', price: 2200, rent: [180, 900, 2500, 7000, 8750, 10500], color: 'orange', position: 14, logo: 'üñºÔ∏è' },
        { id: 15, name: '–¢—Ä–µ—Ç—å—è–∫–æ–≤—Å–∫–∞—è –≥–∞–ª–µ—Ä–µ—è', price: 2400, rent: [200, 1000, 3000, 9000, 11250, 14000], color: 'orange', position: 15, logo: 'üñºÔ∏è' },
        { id: 16, name: '–ü—É—à–∫–∏–Ω—Å–∫–∏–π –º—É–∑–µ–π', price: 2600, rent: [220, 1100, 3300, 8000, 9750, 11500], color: 'orange', position: 16, logo: 'üñºÔ∏è' },
        
        // –ö—Ä–∞—Å–Ω—ã–µ
        { id: 18, name: '–ë–æ–ª—å—à–æ–π —Ç–µ–∞—Ç—Ä', price: 2800, rent: [240, 1200, 3600, 8500, 10250, 12000], color: 'red', position: 18, logo: 'üé≠' },
        { id: 19, name: '–ú–∞—Ä–∏–∏–Ω—Å–∫–∏–π —Ç–µ–∞—Ç—Ä', price: 3000, rent: [260, 1300, 3900, 9000, 11000, 12750], color: 'red', position: 19, logo: 'üé≠' },
        
        // –ñ–µ–ª—Ç—ã–µ
        { id: 21, name: '–°–æ—á–∏', price: 3200, rent: [280, 1500, 4500, 10000, 12000, 14000], color: 'yellow', position: 21, logo: 'üèñÔ∏è' },
        { id: 23, name: '–ö—Ä—ã–º', price: 3400, rent: [300, 1700, 5000, 11000, 13000, 15000], color: 'yellow', position: 23, logo: 'üèùÔ∏è' },
        { id: 24, name: '–ö–∞–∑–∞–Ω—å', price: 3600, rent: [320, 1800, 5000, 12000, 14000, 16000], color: 'yellow', position: 24, logo: 'üïå' },
        
        // –ó–µ–ª–µ–Ω—ã–µ
        { id: 25, name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', price: 3800, rent: [350, 1750, 5000, 11000, 13000, 15000], color: 'green', position: 25, logo: 'üèôÔ∏è' },
        { id: 26, name: '–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫', price: 4000, rent: [500, 2000, 6000, 14000, 17000, 20000], color: 'green', position: 26, logo: 'üèôÔ∏è' },
        { id: 28, name: '–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫', price: 4200, rent: [550, 2200, 6600, 16000, 19500, 23000], color: 'green', position: 28, logo: 'üö¢' },
        
        // –°–∏–Ω–∏–µ
        { id: 29, name: '–ë–∞–π–∫–∞–ª', price: 4400, rent: [600, 2400, 7200, 18000, 22000, 25000], color: 'blue', position: 29, logo: 'üíß' },
        
        // –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ
        { id: 31, name: '–ö–∞–º—á–∞—Ç–∫–∞', price: 4600, rent: [700, 2800, 8400, 20000, 24000, 28000], color: 'purple', position: 31, logo: 'üåã' },
        { id: 32, name: '–ú–∞–≥–∞–¥–∞–Ω', price: 4800, rent: [800, 3200, 9600, 22000, 26000, 30000], color: 'purple', position: 32, logo: 'üèîÔ∏è' },
        { id: 34, name: '–Ø–∫—É—Ç—Å–∫', price: 5000, rent: [900, 3600, 10800, 24000, 28000, 32000], color: 'purple', position: 34, logo: '‚ùÑÔ∏è' },
        
        // –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–µ (–¥–æ—Ä–æ–≥–∏–µ)
        { id: 35, name: '–¢—Ä–∞–Ω—Å—Å–∏–±', price: 5200, rent: [1000, 4000, 12000, 26000, 30000, 34000], color: 'darkblue', position: 35, logo: 'üöÑ' },
        { id: 37, name: '–ö–æ—Å–º–æ–¥—Ä–æ–º', price: 5400, rent: [1100, 4400, 13200, 28000, 32000, 36000], color: 'darkblue', position: 37, logo: 'üöÄ' },
        { id: 39, name: '–ú–æ—Å–∫–≤–∞-–°–∏—Ç–∏', price: 5600, rent: [1200, 4800, 14400, 30000, 34000, 38000], color: 'darkblue', position: 39, logo: 'üè¢' }
    ],

    // –î–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω–æ–≤ (—Ñ–∏—à–µ–∫)
    TOKENS: [
        { id: 'matryoshka', name: '–ú–∞—Ç—Ä—ë—à–∫–∞', image: 'assets/tokens/matryoshka.png' },
        { id: 'balalaika', name: '–ë–∞–ª–∞–ª–∞–π–∫–∞', image: 'assets/tokens/balalaika.png' },
        { id: 'kremlin', name: '–ö—Ä–µ–º–ª—å', image: 'assets/tokens/kremlin.png' },
        { id: 'samovar', name: '–°–∞–º–æ–≤–∞—Ä', image: 'assets/tokens/samovar.png' },
        { id: 'bear', name: '–ú–µ–¥–≤–µ–¥—å', image: 'assets/tokens/bear.png' },
        { id: 'troika', name: '–¢—Ä–æ–π–∫–∞', image: 'assets/tokens/troika.png' }
    ],

    // –ü–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
    WEATHER_TYPES: [
        { id: 'sunny', name: '–°–æ–ª–Ω–µ—á–Ω–æ', en_name: 'Sunny', effect: 'normal' },
        { id: 'rainy', name: '–î–æ–∂–¥–ª–∏–≤–æ', en_name: 'Rainy', effect: 'rent_reduction' },
        { id: 'snowy', name: '–°–Ω–µ–∂–Ω–æ', en_name: 'Snowy', effect: 'movement_reduction' },
        { id: 'stormy', name: '–®—Ç–æ—Ä–º', en_name: 'Stormy', effect: 'severe_reduction' }
    ],

    // –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
    ECONOMIC_EVENTS: [
        { id: 'boom', name: '–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –±—É–º', en_name: 'Economic Boom', effect: 'rent_increase', multiplier: 1.5 },
        { id: 'crisis', name: '–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–∑–∏—Å', en_name: 'Economic Crisis', effect: 'rent_decrease', multiplier: 0.7 },
        { id: 'inflation', name: '–ò–Ω—Ñ–ª—è—Ü–∏—è', en_name: 'Inflation', effect: 'cost_increase', multiplier: 1.3 },
        { id: 'deflation', name: '–î–µ—Ñ–ª—è—Ü–∏—è', en_name: 'Deflation', effect: 'cost_decrease', multiplier: 0.8 }
    ],

    // –ö—É–ª—å—Ç—É—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
    CULTURAL_EVENTS: [
        { id: 'festival', name: '–§–µ—Å—Ç–∏–≤–∞–ª—å', en_name: 'Festival', effect: 'rent_bonus', bonus: 200 },
        { id: 'holiday', name: '–ü—Ä–∞–∑–¥–Ω–∏–∫', en_name: 'Holiday', effect: 'income_bonus', bonus: 300 },
        { id: 'exhibition', name: '–í—ã—Å—Ç–∞–≤–∫–∞', en_name: 'Exhibition', effect: 'property_bonus', bonus: 150 },
        { id: 'concert', name: '–ö–æ–Ω—Ü–µ—Ä—Ç', en_name: 'Concert', effect: 'entertainment_bonus', bonus: 250 }
    ],

    // –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
    SOUNDS: {
        DICE_ROLL: 'assets/sounds/dice_roll.mp3',
        MONEY: 'assets/sounds/money.mp3',
        PROPERTY_PURCHASE: 'assets/sounds/property_purchase.mp3',
        CARD_DRAW: 'assets/sounds/card_draw.mp3',
        AUCTION: 'assets/sounds/auction.mp3',
        VICTORY: 'assets/sounds/victory.mp3',
        BANKRUPTCY: 'assets/sounds/bankruptcy.mp3',
        BUTTON_CLICK: 'assets/sounds/button_click.mp3'
    },

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    DEFAULT_SETTINGS: {
        language: 'ru',
        soundEnabled: true,
        musicEnabled: true,
        animationsEnabled: true,
        autoSave: true,
        showTooltips: true,
        enableChat: true,
        enableAuctions: true,
        enableWeather: true,
        enableEconomicEvents: true,
        enableCulturalEvents: true
    }
};

// –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
if (typeof module !== 'undefined' && module.exports) {
    module.exports = CONFIG;
} 
```

## js\board.js
```
/**
 * –ú–æ–¥—É–ª—å –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
 * –£–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–µ—Ç–∫–∞–º–∏, —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
 */

import { getText } from './localization.js';

class Board {
    constructor() {
        this.cells = [];
        this.properties = new Map();
        this.weather = 'sunny';
        this.economicEvent = null;
        this.culturalEvent = null;
        this.weatherTimer = 0;
        this.eventTimer = 0;
        
        this.initializeBoard();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
     */
    initializeBoard() {
        // –°–æ–∑–¥–∞–µ–º –≤—Å–µ –∫–ª–µ—Ç–∫–∏
        for (let i = 0; i < CONFIG.GAME.BOARD_SIZE; i++) {
            this.cells[i] = this.createCell(i);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–≤–æ–π—Å—Ç–≤–∞
        CONFIG.PROPERTIES.forEach(propertyData => {
            this.properties.set(propertyData.position, {
                ...propertyData,
                owner: null,
                mortgaged: false,
                improvements: 0,
                residence: false
            });
        });
    }

    /**
     * –°–æ–∑–¥–∞–µ—Ç –∫–ª–µ—Ç–∫—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è –∫–ª–µ—Ç–∫–∏
     * @returns {Object} –æ–±—ä–µ–∫—Ç –∫–ª–µ—Ç–∫–∏
     */
    createCell(position) {
        const cell = {
            position,
            type: this.getCellType(position),
            name: this.getCellName(position),
            price: this.getCellPrice(position),
            color: this.getCellColor(position),
            rent: this.getCellRent(position),
            owner: null,
            mortgaged: false,
            improvements: 0,
            residence: false
        };

        return cell;
    }

    /**
     * –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∫–ª–µ—Ç–∫–∏ –ø–æ –ø–æ–∑–∏—Ü–∏–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @returns {string} —Ç–∏–ø –∫–ª–µ—Ç–∫–∏
     */
    getCellType(position) {
        // –£–≥–ª–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏
        if (position === 0) return 'start';
        if (position === 9) return 'jail';
        if (position === 20) return 'free_parking';
        if (position === 30) return 'go_to_jail';

        // –ö–ª–µ—Ç–∫–∏ –®–∞–Ω—Å
        if ([2, 7, 17, 22, 33, 36].includes(position)) return 'chance';

        // –ö–ª–µ—Ç–∫–∏ –ö–∞–∑–Ω–∞
        if ([12, 22, 33].includes(position)) return 'treasure';

        // –ù–∞–ª–æ–≥–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏
        if ([4, 38].includes(position)) return 'tax';

        // –°–≤–æ–π—Å—Ç–≤–∞
        return 'property';
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–µ—Ç–∫–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @returns {string} –Ω–∞–∑–≤–∞–Ω–∏–µ
     */
    getCellName(position) {
        const property = CONFIG.PROPERTIES.find(p => p.position === position);
        if (property) return property.name;

        // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–ª–µ—Ç–∫–∏
        switch (position) {
            case 0: return getText('COMMON.START');
            case 9: return getText('COMMON.JAIL');
            case 20: return getText('COMMON.FREE_PARKING');
            case 30: return getText('COMMON.GO_TO_JAIL');
            case 2:
            case 7:
            case 17:
            case 22:
            case 33:
            case 36: return getText('COMMON.CHANCE');
            case 12:
            case 22:
            case 33: return getText('COMMON.TREASURE');
            case 4:
            case 38: return getText('COMMON.TAX');
            default: return `–ö–ª–µ—Ç–∫–∞ ${position}`;
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ü–µ–Ω—É –∫–ª–µ—Ç–∫–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @returns {number} —Ü–µ–Ω–∞
     */
    getCellPrice(position) {
        const property = CONFIG.PROPERTIES.find(p => p.position === position);
        if (property) return property.price;

        // –ù–∞–ª–æ–≥–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏
        if (position === 4) return 200;
        if (position === 38) return 1000;

        return 0;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ü–≤–µ—Ç –∫–ª–µ—Ç–∫–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @returns {string} —Ü–≤–µ—Ç
     */
    getCellColor(position) {
        const property = CONFIG.PROPERTIES.find(p => p.position === position);
        return property ? property.color : null;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É –∫–ª–µ—Ç–∫–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @returns {Array} –º–∞—Å—Å–∏–≤ –∞—Ä–µ–Ω–¥–Ω—ã—Ö –ø–ª–∞—Ç
     */
    getCellRent(position) {
        const property = CONFIG.PROPERTIES.find(p => p.position === position);
        return property ? property.rent : [];
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∫–ª–µ—Ç–∫—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @returns {Object} –∫–ª–µ—Ç–∫–∞
     */
    getCell(position) {
        return this.cells[position] || null;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞
     * @param {string} color - —Ü–≤–µ—Ç
     * @returns {Array} –º–∞—Å—Å–∏–≤ –∫–ª–µ—Ç–æ–∫
     */
    getCellsByColor(color) {
        return this.cells.filter(cell => cell.color === color);
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ª–∏ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –æ–¥–Ω–æ–º—É –∏–≥—Ä–æ–∫—É
     * @param {string} color - —Ü–≤–µ—Ç
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {boolean} true –µ—Å–ª–∏ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏–≥—Ä–æ–∫—É
     */
    hasColorMonopoly(color, playerId) {
        const colorCells = this.getCellsByColor(color);
        return colorCells.length > 0 && colorCells.every(cell => cell.owner === playerId);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–µ—Ç–æ–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ —É –∏–≥—Ä–æ–∫–∞
     * @param {string} color - —Ü–≤–µ—Ç
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {number} –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–µ—Ç–æ–∫
     */
    getPlayerColorCount(color, playerId) {
        const colorCells = this.getCellsByColor(color);
        return colorCells.filter(cell => cell.owner === playerId).length;
    }

    /**
     * –ü–æ–∫—É–ø–∞–µ—Ç –∫–ª–µ—Ç–∫—É
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @param {number} price - —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏
     * @returns {boolean} true –µ—Å–ª–∏ –ø–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞
     */
    buyCell(position, playerId, price) {
        const cell = this.getCell(position);
        if (!cell || cell.type !== 'property' || cell.owner !== null) {
            return false;
        }

        cell.owner = playerId;
        cell.mortgaged = false;
        cell.improvements = 0;
        cell.residence = false;

        return true;
    }

    /**
     * –ü—Ä–æ–¥–∞–µ—Ç –∫–ª–µ—Ç–∫—É
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {number} —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏
     */
    sellCell(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId) {
            return 0;
        }

        let sellPrice = cell.price / 2; // –ü—Ä–æ–¥–∞–∂–∞ –∑–∞ –ø–æ–ª–æ–≤–∏–Ω—É —Ü–µ–Ω—ã

        // –í–æ–∑–≤—Ä–∞—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–∏–π
        if (cell.improvements > 0) {
            sellPrice += cell.improvements * CONFIG.IMPROVEMENT.COST_PER_LEVEL / 2;
        }

        // –í–æ–∑–≤—Ä–∞—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
        if (cell.residence) {
            sellPrice += CONFIG.RESIDENCE.BUILD_COST / 2;
        }

        cell.owner = null;
        cell.mortgaged = false;
        cell.improvements = 0;
        cell.residence = false;

        return Math.floor(sellPrice);
    }

    /**
     * –ó–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –∫–ª–µ—Ç–∫—É
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {number} —Å—É–º–º–∞ –∑–∞–ª–æ–≥–∞
     */
    mortgageCell(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId || cell.mortgaged) {
            return 0;
        }

        // –ù–µ–ª—å–∑—è –∑–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –∫–ª–µ—Ç–∫–∏ —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –∏–ª–∏ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—è–º–∏
        if (cell.improvements > 0 || cell.residence) {
            return 0;
        }

        cell.mortgaged = true;
        return Math.floor(cell.price / 2);
    }

    /**
     * –í—ã–∫—É–ø–∞–µ—Ç –∫–ª–µ—Ç–∫—É –∏–∑ –∑–∞–ª–æ–≥–∞
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {number} —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–∫—É–ø–∞
     */
    unmortgageCell(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId || !cell.mortgaged) {
            return 0;
        }

        const unmortgageCost = Math.floor(cell.price / 2 * 1.1); // 10% –Ω–∞–¥–±–∞–≤–∫–∞
        cell.mortgaged = false;
        return unmortgageCost;
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ –∫ –∫–ª–µ—Ç–∫–µ
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {boolean} true –µ—Å–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
     */
    addImprovement(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId || cell.mortgaged) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —É –∏–≥—Ä–æ–∫–∞ –µ—Å—Ç—å –º–æ–Ω–æ–ø–æ–ª–∏—è –Ω–∞ —ç—Ç–æ—Ç —Ü–≤–µ—Ç
        if (!this.hasColorMonopoly(cell.color, playerId)) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç —É–ª—É—á—à–µ–Ω–∏–π
        if (cell.improvements >= CONFIG.IMPROVEMENT.MAX_LEVEL) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏–π
        const colorCells = this.getCellsByColor(cell.color);
        const maxImprovements = Math.min(...colorCells.map(c => c.improvements));
        if (cell.improvements > maxImprovements) {
            return false;
        }

        cell.improvements++;
        return true;
    }

    /**
     * –£–¥–∞–ª—è–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ —Å –∫–ª–µ—Ç–∫–∏
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {boolean} true –µ—Å–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ
     */
    removeImprovement(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId || cell.improvements <= 0) {
            return false;
        }

        cell.improvements--;
        return true;
    }

    /**
     * –°—Ç—Ä–æ–∏—Ç —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—é
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞
     * @returns {boolean} true –µ—Å–ª–∏ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞
     */
    buildResidence(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId || cell.mortgaged) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —É –∏–≥—Ä–æ–∫–∞ –µ—Å—Ç—å –º–æ–Ω–æ–ø–æ–ª–∏—è –Ω–∞ —ç—Ç–æ—Ç —Ü–≤–µ—Ç
        if (!this.hasColorMonopoly(cell.color, playerId)) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ —ç—Ç–æ–≥–æ —Ü–≤–µ—Ç–∞ –∏–º–µ—é—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
        const colorCells = this.getCellsByColor(cell.color);
        const allMaxImprovements = colorCells.every(c => c.improvements >= CONFIG.IMPROVEMENT.MAX_LEVEL);
        if (!allMaxImprovements) {
            return false;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—è –µ—â–µ –Ω–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞
        if (cell.residence) {
            return false;
        }

        cell.residence = true;
        return true;
    }

    /**
     * –í—ã—á–∏—Å–ª—è–µ—Ç –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É
     * @param {number} position - –ø–æ–∑–∏—Ü–∏—è
     * @param {number} playerId - ID –∏–≥—Ä–æ–∫–∞ (–≤–ª–∞–¥–µ–ª–µ—Ü)
     * @returns {number} –∞—Ä–µ–Ω–¥–Ω–∞—è –ø–ª–∞—Ç–∞
     */
    calculateRent(position, playerId) {
        const cell = this.getCell(position);
        if (!cell || cell.owner !== playerId || cell.mortgaged) {
            return 0;
        }

        let rent = cell.rent[cell.improvements] || 0;

        // –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
        if (cell.residence) {
            rent *= CONFIG.RESIDENCE.RENT_MULTIPLIER;
        }

        // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –º–æ–Ω–æ–ø–æ–ª–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –≤—Å–µ –∫–ª–µ—Ç–∫–∏ –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞)
        if (this.hasColorMonopoly(cell.color, playerId)) {
            rent *= 1.5;
        }

        // –í–ª–∏—è–Ω–∏–µ –ø–æ–≥–æ–¥—ã
        const weatherEffect = CONFIG.WEATHER.EFFECTS[this.weather];
        if (weatherEffect) {
            rent *= weatherEffect.rentMultiplier;
        }

        // –í–ª–∏—è–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
        if (this.economicEvent) {
            rent *= this.economicEvent.multiplier;
        }

        // –í–ª–∏—è–Ω–∏–µ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
        if (this.culturalEvent) {
            rent += this.culturalEvent.bonus;
        }

        return Math.floor(rent);
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–≥–æ–¥—É
     */
    updateWeather() {
        this.weatherTimer++;
        if (this.weatherTimer >= CONFIG.WEATHER.CHANGE_INTERVAL) {
            this.weatherTimer = 0;
            const weatherTypes = CONFIG.WEATHER_TYPES;
            this.weather = utils.randomChoice(weatherTypes).id;
            
            // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–º–µ–Ω–µ –ø–æ–≥–æ–¥—ã
            const weatherName = weatherTypes.find(w => w.id === this.weather).name;
            utils.showNotification(
                utils.getText('MESSAGES.WEATHER_CHANGE', { weather: weatherName }),
                'info'
            );
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
     */
    updateEconomicEvents() {
        this.eventTimer++;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
        if (Math.random() < CONFIG.ECONOMIC_EVENTS.FREQUENCY && !this.economicEvent) {
            const event = utils.randomChoice(CONFIG.ECONOMIC_EVENTS);
            this.economicEvent = {
                ...event,
                duration: CONFIG.ECONOMIC_EVENTS.DURATION
            };
            
            utils.showNotification(
                utils.getText('MESSAGES.' + event.id.toUpperCase()),
                event.id === 'boom' ? 'success' : 'warning'
            );
        }

        // –£–º–µ–Ω—å—à–∞–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è
        if (this.economicEvent) {
            this.economicEvent.duration--;
            if (this.economicEvent.duration <= 0) {
                this.economicEvent = null;
            }
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
     */
    updateCulturalEvents() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
        if (Math.random() < CONFIG.CULTURAL_EVENTS.FREQUENCY && !this.culturalEvent) {
            const event = utils.randomChoice(CONFIG.CULTURAL_EVENTS);
            this.culturalEvent = {
                ...event,
                duration: CONFIG.CULTURAL_EVENTS.DURATION
            };
            
            utils.showNotification(
                utils.getText('MESSAGES.CULTURAL_FESTIVAL'),
                'info'
            );
        }

        // –£–º–µ–Ω—å—à–∞–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è
        if (this.culturalEvent) {
            this.culturalEvent.duration--;
            if (this.culturalEvent.duration <= 0) {
                this.culturalEvent = null;
            }
        }
    }

    /**
     * –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
     */
    update() {
        this.updateWeather();
        this.updateEconomicEvents();
        this.updateCulturalEvents();
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
     * @returns {Object} —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è
     */
    getState() {
        return {
            cells: this.cells,
            weather: this.weather,
            economicEvent: this.economicEvent,
            culturalEvent: this.culturalEvent,
            weatherTimer: this.weatherTimer,
            eventTimer: this.eventTimer
        };
    }

    /**
     * –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
     * @param {Object} state - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è
     */
    setState(state) {
        this.cells = state.cells || [];
        this.weather = state.weather || 'sunny';
        this.economicEvent = state.economicEvent || null;
        this.culturalEvent = state.culturalEvent || null;
        this.weatherTimer = state.weatherTimer || 0;
        this.eventTimer = state.eventTimer || 0;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getStats() {
        const stats = {
            totalProperties: CONFIG.PROPERTIES.length,
            ownedProperties: 0,
            mortgagedProperties: 0,
            totalImprovements: 0,
            totalResidences: 0,
            colorMonopolies: 0
        };

        this.cells.forEach(cell => {
            if (cell.owner !== null) {
                stats.ownedProperties++;
                if (cell.mortgaged) stats.mortgagedProperties++;
                stats.totalImprovements += cell.improvements;
                if (cell.residence) stats.totalResidences++;
            }
        });

        // –ü–æ–¥—Å—á–µ—Ç –º–æ–Ω–æ–ø–æ–ª–∏–π
        const colors = [...new Set(CONFIG.PROPERTIES.map(p => p.color))];
        colors.forEach(color => {
            const colorCells = this.getCellsByColor(color);
            if (colorCells.length > 0) {
                const owners = [...new Set(colorCells.map(c => c.owner).filter(o => o !== null))];
                if (owners.length === 1) {
                    stats.colorMonopolies++;
                }
            }
        });

        return stats;
    }
}

// –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
const board = new Board();

// –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
if (typeof module !== 'undefined' && module.exports) {
    module.exports = Board;
} 
```

## js\audio.js
```
/**
 * –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–æ–º –∏ –º—É–∑—ã–∫–æ–π
 * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞
 */

class AudioManager {
    constructor() {
        this.sounds = new Map();
        this.music = new Map();
        this.currentMusic = null;
        this.musicVolume = 0.5;
        this.soundVolume = 0.7;
        this.masterVolume = 1.0;
        this.muted = false;
        this.audioContext = null;
        this.initialized = false;
        
        this.soundQueue = [];
        this.isPlaying = false;
        
        this.initializeAudio();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ —Å–∏—Å—Ç–µ–º—É
     */
    async initializeAudio() {
        try {
            // –°–æ–∑–¥–∞–µ–º AudioContext –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
            if (window.AudioContext || window.webkitAudioContext) {
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–≤—É–∫–∏
            await this.loadSounds();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –º—É–∑—ã–∫—É
            await this.loadMusic();
            
            this.initialized = true;
            console.log('Audio system initialized');
            
        } catch (error) {
            console.error('Failed to initialize audio:', error);
        }
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
     */
    async loadSounds() {
        const soundFiles = {
            // –û—Å–Ω–æ–≤–Ω—ã–µ –∑–≤—É–∫–∏ –∏–≥—Ä—ã
            dice_roll: 'assets/sounds/dice_roll.mp3',
            money: 'assets/sounds/money.mp3',
            property_purchase: 'assets/sounds/property_purchase.mp3',
            rent_payment: 'assets/sounds/rent_payment.mp3',
            jail: 'assets/sounds/jail.mp3',
            bankruptcy: 'assets/sounds/bankruptcy.mp3',
            victory: 'assets/sounds/victory.mp3',
            
            // –ó–≤—É–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
            chance_card: 'assets/sounds/chance_card.mp3',
            treasure_card: 'assets/sounds/treasure_card.mp3',
            
            // –ó–≤—É–∫–∏ –∞—É–∫—Ü–∏–æ–Ω–∞
            auction_start: 'assets/sounds/auction_start.mp3',
            auction_bid: 'assets/sounds/auction_bid.mp3',
            auction_end: 'assets/sounds/auction_end.mp3',
            
            // –ó–≤—É–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏
            trade_offer: 'assets/sounds/trade_offer.mp3',
            trade_accept: 'assets/sounds/trade_accept.mp3',
            trade_reject: 'assets/sounds/trade_reject.mp3',
            
            // –ó–≤—É–∫–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
            build_residence: 'assets/sounds/build_residence.mp3',
            improve_property: 'assets/sounds/improve_property.mp3',
            
            // –ó–≤—É–∫–∏ —Å–æ–±—ã—Ç–∏–π
            weather_change: 'assets/sounds/weather_change.mp3',
            economic_event: 'assets/sounds/economic_event.mp3',
            cultural_event: 'assets/sounds/cultural_event.mp3',
            
            // –ó–≤—É–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            button_click: 'assets/sounds/button_click.mp3',
            menu_open: 'assets/sounds/menu_open.mp3',
            menu_close: 'assets/sounds/menu_close.mp3',
            notification: 'assets/sounds/notification.mp3',
            achievement: 'assets/sounds/achievement.mp3',
            
            // –ó–≤—É–∫–∏ —á–∞—Ç–∞
            chat_message: 'assets/sounds/chat_message.mp3',
            player_join: 'assets/sounds/player_join.mp3',
            player_leave: 'assets/sounds/player_leave.mp3',
            
            // –ó–≤—É–∫–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤
            tournament_start: 'assets/sounds/tournament_start.mp3',
            tournament_end: 'assets/sounds/tournament_end.mp3',
            round_start: 'assets/sounds/round_start.mp3',
            round_end: 'assets/sounds/round_end.mp3',
            
            // –ó–≤—É–∫–∏ –∞–ª—å—è–Ω—Å–æ–≤
            alliance_form: 'assets/sounds/alliance_form.mp3',
            alliance_break: 'assets/sounds/alliance_break.mp3',
            
            // –ó–≤—É–∫–∏ –æ—à–∏–±–æ–∫
            error: 'assets/sounds/error.mp3',
            warning: 'assets/sounds/warning.mp3',
            
            // –ó–≤—É–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            move_token: 'assets/sounds/move_token.mp3',
            land_on_property: 'assets/sounds/land_on_property.mp3',
            pass_go: 'assets/sounds/pass_go.mp3',
            
            // –ó–≤—É–∫–∏ –Ω–∞–ª–æ–≥–æ–≤ –∏ —à—Ç—Ä–∞—Ñ–æ–≤
            pay_tax: 'assets/sounds/pay_tax.mp3',
            pay_fine: 'assets/sounds/pay_fine.mp3',
            
            // –ó–≤—É–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
            mortgage: 'assets/sounds/mortgage.mp3',
            unmortgage: 'assets/sounds/unmortgage.mp3',
            
            // –ó–≤—É–∫–∏ –ø–æ–≥–æ–¥—ã
            rain: 'assets/sounds/rain.mp3',
            snow: 'assets/sounds/snow.mp3',
            storm: 'assets/sounds/storm.mp3',
            wind: 'assets/sounds/wind.mp3'
        };

        for (const [name, path] of Object.entries(soundFiles)) {
            try {
                const audio = await this.loadAudioFile(path);
                this.sounds.set(name, audio);
            } catch (error) {
                console.warn(`Failed to load sound: ${name}`, error);
            }
        }
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É
     */
    async loadMusic() {
        const musicFiles = {
            // –û—Å–Ω–æ–≤–Ω–∞—è –º—É–∑—ã–∫–∞
            main_theme: 'assets/music/main_theme.mp3',
            menu_music: 'assets/music/menu_music.mp3',
            game_music: 'assets/music/game_music.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
            victory_music: 'assets/music/victory_music.mp3',
            defeat_music: 'assets/music/defeat_music.mp3',
            tension_music: 'assets/music/tension_music.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–æ–≤
            tournament_music: 'assets/music/tournament_music.mp3',
            final_round: 'assets/music/final_round.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è —Å–æ–±—ã—Ç–∏–π
            economic_boom: 'assets/music/economic_boom.mp3',
            economic_crisis: 'assets/music/economic_crisis.mp3',
            cultural_festival: 'assets/music/cultural_festival.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è –ø–æ–≥–æ–¥—ã
            sunny_music: 'assets/music/sunny_music.mp3',
            rainy_music: 'assets/music/rainy_music.mp3',
            snowy_music: 'assets/music/snowy_music.mp3',
            stormy_music: 'assets/music/stormy_music.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤
            auction_music: 'assets/music/auction_music.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
            trade_music: 'assets/music/trade_music.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è –∞–ª—å—è–Ω—Å–æ–≤
            alliance_music: 'assets/music/alliance_music.mp3',
            
            // –ú—É–∑—ã–∫–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            achievement_music: 'assets/music/achievement_music.mp3'
        };

        for (const [name, path] of Object.entries(musicFiles)) {
            try {
                const audio = await this.loadAudioFile(path, true);
                this.music.set(name, audio);
            } catch (error) {
                console.warn(`Failed to load music: ${name}`, error);
            }
        }
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞—É–¥–∏–æ —Ñ–∞–π–ª
     * @param {string} path - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
     * @param {boolean} isMusic - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –º—É–∑—ã–∫–æ–π
     * @returns {Promise<HTMLAudioElement>} –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç
     */
    loadAudioFile(path, isMusic = false) {
        return new Promise((resolve, reject) => {
            const audio = new Audio();
            
            audio.addEventListener('canplaythrough', () => {
                if (isMusic) {
                    audio.loop = true;
                }
                resolve(audio);
            });
            
            audio.addEventListener('error', (error) => {
                reject(error);
            });
            
            audio.src = path;
            audio.load();
        });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫–æ–≤–æ–π —ç—Ñ—Ñ–µ–∫—Ç
     * @param {string} soundName - –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–≤—É–∫–∞
     * @param {Object} options - –æ–ø—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
     */
    playSound(soundName, options = {}) {
        if (this.muted || !this.initialized) return;

        const sound = this.sounds.get(soundName);
        if (!sound) {
            console.warn(`Sound not found: ${soundName}`);
            return;
        }

        try {
            // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –∑–≤—É–∫–∞ –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            const soundClone = sound.cloneNode();
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
            const volume = (options.volume || 1.0) * this.soundVolume * this.masterVolume;
            soundClone.volume = Math.max(0, Math.min(1, volume));
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏
            if (options.rate) {
                soundClone.playbackRate = options.rate;
            }
            
            if (options.pitch) {
                // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–Ω–∞ —á–µ—Ä–µ–∑ Web Audio API
                if (this.audioContext) {
                    const source = this.audioContext.createMediaElementSource(soundClone);
                    const pitchShift = this.audioContext.createBiquadFilter();
                    pitchShift.type = 'highpass';
                    pitchShift.frequency.value = options.pitch;
                    source.connect(pitchShift);
                    pitchShift.connect(this.audioContext.destination);
                }
            }

            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
            soundClone.play().catch(error => {
                console.warn(`Failed to play sound: ${soundName}`, error);
            });

            // –û—á–∏—â–∞–µ–º –ø–∞–º—è—Ç—å –ø–æ—Å–ª–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            soundClone.addEventListener('ended', () => {
                soundClone.remove();
            });

        } catch (error) {
            console.error(`Error playing sound: ${soundName}`, error);
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É
     * @param {string} musicName - –Ω–∞–∑–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏
     * @param {Object} options - –æ–ø—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
     */
    playMusic(musicName, options = {}) {
        if (this.muted || !this.initialized) return;

        const music = this.music.get(musicName);
        if (!music) {
            console.warn(`Music not found: ${musicName}`);
            return;
        }

        try {
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –º—É–∑—ã–∫—É
            this.stopMusic();

            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –Ω–æ–≤—É—é –º—É–∑—ã–∫—É
            this.currentMusic = music;
            this.currentMusic.volume = (options.volume || 1.0) * this.musicVolume * this.masterVolume;
            this.currentMusic.loop = options.loop !== false; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞—Ü–∏–∫–ª–µ–Ω–∞

            // –ü–ª–∞–≤–Ω–æ–µ –Ω–∞—á–∞–ª–æ
            if (options.fadeIn) {
                this.currentMusic.volume = 0;
                this.fadeIn(this.currentMusic, options.fadeIn);
            }

            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –º—É–∑—ã–∫—É
            this.currentMusic.play().catch(error => {
                console.warn(`Failed to play music: ${musicName}`, error);
            });

        } catch (error) {
            console.error(`Error playing music: ${musicName}`, error);
        }
    }

    /**
     * –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É
     * @param {number} fadeOutTime - –≤—Ä–µ–º—è –∑–∞—Ç—É—Ö–∞–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
     */
    stopMusic(fadeOutTime = 0) {
        if (!this.currentMusic) return;

        if (fadeOutTime > 0) {
            this.fadeOut(this.currentMusic, fadeOutTime);
        } else {
            this.currentMusic.pause();
            this.currentMusic.currentTime = 0;
        }

        this.currentMusic = null;
    }

    /**
     * –ü–ª–∞–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
     * @param {HTMLAudioElement} audio - –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç
     * @param {number} duration - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
     */
    fadeIn(audio, duration) {
        const targetVolume = audio.volume;
        audio.volume = 0;
        
        const steps = 50;
        const stepDuration = duration / steps;
        const volumeStep = targetVolume / steps;
        
        let currentStep = 0;
        const fadeInterval = setInterval(() => {
            currentStep++;
            audio.volume = Math.min(targetVolume, currentStep * volumeStep);
            
            if (currentStep >= steps) {
                clearInterval(fadeInterval);
            }
        }, stepDuration);
    }

    /**
     * –ü–ª–∞–≤–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
     * @param {HTMLAudioElement} audio - –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç
     * @param {number} duration - –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
     */
    fadeOut(audio, duration) {
        const startVolume = audio.volume;
        
        const steps = 50;
        const stepDuration = duration / steps;
        const volumeStep = startVolume / steps;
        
        let currentStep = 0;
        const fadeInterval = setInterval(() => {
            currentStep++;
            audio.volume = Math.max(0, startVolume - (currentStep * volumeStep));
            
            if (currentStep >= steps) {
                clearInterval(fadeInterval);
                audio.pause();
                audio.currentTime = 0;
            }
        }, stepDuration);
    }

    /**
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
     * @param {number} volume - –≥—Ä–æ–º–∫–æ—Å—Ç—å (0-1)
     */
    setSoundVolume(volume) {
        this.soundVolume = Math.max(0, Math.min(1, volume));
        this.saveSettings();
    }

    /**
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç—å –º—É–∑—ã–∫–∏
     * @param {number} volume - –≥—Ä–æ–º–∫–æ—Å—Ç—å (0-1)
     */
    setMusicVolume(volume) {
        this.musicVolume = Math.max(0, Math.min(1, volume));
        
        if (this.currentMusic) {
            this.currentMusic.volume = this.musicVolume * this.masterVolume;
        }
        
        this.saveSettings();
    }

    /**
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—â—É—é –≥—Ä–æ–º–∫–æ—Å—Ç—å
     * @param {number} volume - –≥—Ä–æ–º–∫–æ—Å—Ç—å (0-1)
     */
    setMasterVolume(volume) {
        this.masterVolume = Math.max(0, Math.min(1, volume));
        
        if (this.currentMusic) {
            this.currentMusic.volume = this.musicVolume * this.masterVolume;
        }
        
        this.saveSettings();
    }

    /**
     * –í–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç –∑–≤—É–∫
     * @param {boolean} muted - –≤—ã–∫–ª—é—á–µ–Ω –ª–∏ –∑–≤—É–∫
     */
    setMuted(muted) {
        this.muted = muted;
        
        if (muted && this.currentMusic) {
            this.currentMusic.pause();
        } else if (!muted && this.currentMusic) {
            this.currentMusic.play().catch(error => {
                console.warn('Failed to resume music after unmute:', error);
            });
        }
        
        this.saveSettings();
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∫–æ—Å—Ç–µ–π
     * @param {number} dice1 - –ø–µ—Ä–≤–∞—è –∫–æ—Å—Ç—å
     * @param {number} dice2 - –≤—Ç–æ—Ä–∞—è –∫–æ—Å—Ç—å
     */
    playDiceRoll(dice1, dice2) {
        this.playSound('dice_roll', {
            volume: 0.8,
            rate: 1.0 + (Math.random() * 0.2 - 0.1) // –Ω–µ–±–æ–ª—å—à–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
        });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –¥–µ–Ω–µ–≥
     * @param {number} amount - —Å—É–º–º–∞
     * @param {boolean} isPositive - –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –ª–∏ —Å—É–º–º–∞
     */
    playMoneySound(amount, isPositive = true) {
        const soundName = isPositive ? 'money' : 'pay_tax';
        const volume = Math.min(1.0, 0.5 + (amount / 10000) * 0.5); // –≥—Ä–æ–º–∫–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—É–º–º—ã
        
        this.playSound(soundName, { volume: volume });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –ø–æ–∫—É–ø–∫–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
     * @param {number} price - —Ü–µ–Ω–∞
     */
    playPropertyPurchase(price) {
        const volume = Math.min(1.0, 0.6 + (price / 5000) * 0.4);
        this.playSound('property_purchase', { volume: volume });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã
     * @param {number} amount - —Å—É–º–º–∞
     */
    playRentPayment(amount) {
        const volume = Math.min(1.0, 0.5 + (amount / 2000) * 0.5);
        this.playSound('rent_payment', { volume: volume });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∫–∞—Ä—Ç–æ—á–∫–∏
     * @param {string} cardType - —Ç–∏–ø –∫–∞—Ä—Ç–æ—á–∫–∏
     */
    playCardSound(cardType) {
        const soundName = cardType === 'chance' ? 'chance_card' : 'treasure_card';
        this.playSound(soundName, { volume: 0.7 });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∞—É–∫—Ü–∏–æ–Ω–∞
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playAuctionSound(action) {
        const soundMap = {
            'start': 'auction_start',
            'bid': 'auction_bid',
            'end': 'auction_end'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.8 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ —Ç–æ—Ä–≥–æ–≤–ª–∏
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playTradeSound(action) {
        const soundMap = {
            'offer': 'trade_offer',
            'accept': 'trade_accept',
            'reject': 'trade_reject'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.7 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
     * @param {string} type - —Ç–∏–ø —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
     */
    playBuildSound(type) {
        const soundName = type === 'residence' ? 'build_residence' : 'improve_property';
        this.playSound(soundName, { volume: 0.8 });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ —Å–æ–±—ã—Ç–∏—è
     * @param {string} eventType - —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è
     */
    playEventSound(eventType) {
        const soundMap = {
            'weather': 'weather_change',
            'economic': 'economic_event',
            'cultural': 'cultural_event'
        };
        
        const soundName = soundMap[eventType];
        if (soundName) {
            this.playSound(soundName, { volume: 0.6 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playUISound(action) {
        const soundMap = {
            'click': 'button_click',
            'open': 'menu_open',
            'close': 'menu_close',
            'notification': 'notification',
            'achievement': 'achievement'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.5 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ —á–∞—Ç–∞
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playChatSound(action) {
        const soundMap = {
            'message': 'chat_message',
            'join': 'player_join',
            'leave': 'player_leave'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.4 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ —Ç—É—Ä–Ω–∏—Ä–∞
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playTournamentSound(action) {
        const soundMap = {
            'start': 'tournament_start',
            'end': 'tournament_end',
            'round_start': 'round_start',
            'round_end': 'round_end'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.8 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∞–ª—å—è–Ω—Å–∞
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playAllianceSound(action) {
        const soundMap = {
            'form': 'alliance_form',
            'break': 'alliance_break'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.7 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –ø–æ–≥–æ–¥—ã
     * @param {string} weatherType - —Ç–∏–ø –ø–æ–≥–æ–¥—ã
     */
    playWeatherSound(weatherType) {
        const soundMap = {
            'rainy': 'rain',
            'snowy': 'snow',
            'stormy': 'storm',
            'foggy': 'wind'
        };
        
        const soundName = soundMap[weatherType];
        if (soundName) {
            this.playSound(soundName, { 
                volume: 0.3,
                loop: true // –ø–æ–≥–æ–¥–Ω—ã–µ –∑–≤—É–∫–∏ –∑–∞—Ü–∏–∫–ª–µ–Ω—ã
            });
        }
    }

    /**
     * –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–≥–æ–¥–Ω—ã–µ –∑–≤—É–∫–∏
     */
    stopWeatherSound() {
        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –ø–æ–≥–æ–¥–Ω—ã–µ –∑–≤—É–∫–∏
        ['rain', 'snow', 'storm', 'wind'].forEach(soundName => {
            const sound = this.sounds.get(soundName);
            if (sound) {
                sound.pause();
                sound.currentTime = 0;
            }
        });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –æ—à–∏–±–∫–∏
     * @param {string} type - —Ç–∏–ø –æ—à–∏–±–∫–∏
     */
    playErrorSound(type = 'error') {
        const soundName = type === 'warning' ? 'warning' : 'error';
        this.playSound(soundName, { volume: 0.6 });
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
     * @param {string} action - –¥–µ–π—Å—Ç–≤–∏–µ
     */
    playNavigationSound(action) {
        const soundMap = {
            'move': 'move_token',
            'land': 'land_on_property',
            'pass_go': 'pass_go'
        };
        
        const soundName = soundMap[action];
        if (soundName) {
            this.playSound(soundName, { volume: 0.6 });
        }
    }

    /**
     * –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –∑–≤—É–∫ –∏–ø–æ—Ç–µ–∫–∏
     * @param {boolean} isMortgage - –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –ª–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
     */
    playMortgageSound(isMortgage) {
        const soundName = isMortgage ? 'mortgage' : 'unmortgage';
        this.playSound(soundName, { volume: 0.7 });
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞
     */
    saveSettings() {
        const settings = {
            soundVolume: this.soundVolume,
            musicVolume: this.musicVolume,
            masterVolume: this.masterVolume,
            muted: this.muted
        };
        
        localStorage.setItem('audioSettings', JSON.stringify(settings));
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞
     */
    loadSettings() {
        try {
            const settings = JSON.parse(localStorage.getItem('audioSettings'));
            if (settings) {
                this.soundVolume = settings.soundVolume || 0.7;
                this.musicVolume = settings.musicVolume || 0.5;
                this.masterVolume = settings.masterVolume || 1.0;
                this.muted = settings.muted || false;
            }
        } catch (error) {
            console.warn('Failed to load audio settings:', error);
        }
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞
     * @returns {Object} –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
     */
    getSettings() {
        return {
            soundVolume: this.soundVolume,
            musicVolume: this.musicVolume,
            masterVolume: this.masterVolume,
            muted: this.muted
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
     * @returns {boolean} —Å—Ç–∞—Ç—É—Å
     */
    isInitialized() {
        return this.initialized;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º—É–∑—ã–∫–∏
     * @returns {boolean} —Å—Ç–∞—Ç—É—Å
     */
    isMusicPlaying() {
        return this.currentMusic && !this.currentMusic.paused;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –º—É–∑—ã–∫—É
     * @returns {string|null} –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –º—É–∑—ã–∫–∏
     */
    getCurrentMusic() {
        if (!this.currentMusic) return null;
        
        for (const [name, music] of this.music.entries()) {
            if (music === this.currentMusic) {
                return name;
            }
        }
        
        return null;
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–≤—É–∫–æ–≤
     * @returns {Array} —Å–ø–∏—Å–æ–∫ –∑–≤—É–∫–æ–≤
     */
    getAvailableSounds() {
        return Array.from(this.sounds.keys());
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–æ–π –º—É–∑—ã–∫–∏
     * @returns {Array} —Å–ø–∏—Å–æ–∫ –º—É–∑—ã–∫–∏
     */
    getAvailableMusic() {
        return Array.from(this.music.keys());
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
window.AudioManager = AudioManager; 
```

## js\achievements.js
```
/**
 * –ú–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
 * –£–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ –∏–≥—Ä–æ–∫–æ–≤, –Ω–∞–≥—Ä–∞–¥–∞–º–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
 */

class AchievementSystem {
    constructor() {
        this.achievements = new Map();
        this.playerAchievements = new Map();
        this.achievementHistory = [];
        this.notifications = [];
        
        this.initializeAchievements();
        this.setupEventListeners();
    }

    /**
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    initializeAchievements() {
        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –¥–µ–Ω—å–≥–∏
        this.addAchievement({
            id: 'first_money',
            name: '–ü–µ—Ä–≤—ã–µ –¥–µ–Ω—å–≥–∏',
            en_name: 'First Money',
            description: '–ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä–≤—ã–µ 1000‚ÇΩ',
            en_description: 'Earn your first 1000$',
            type: 'money',
            condition: 1000,
            icon: 'üí∞',
            rarity: 'common',
            points: 10,
            reward: { money: 100 }
        });

        this.addAchievement({
            id: 'millionaire',
            name: '–ú–∏–ª–ª–∏–æ–Ω–µ—Ä',
            en_name: 'Millionaire',
            description: '–ù–∞–∫–æ–ø–∏—Ç–µ 10,000‚ÇΩ',
            en_description: 'Accumulate 10,000$',
            type: 'money',
            condition: 10000,
            icon: 'üíé',
            rarity: 'rare',
            points: 50,
            reward: { money: 1000, title: '–ú–∏–ª–ª–∏–æ–Ω–µ—Ä' }
        });

        this.addAchievement({
            id: 'billionaire',
            name: '–ú–∏–ª–ª–∏–∞—Ä–¥–µ—Ä',
            en_name: 'Billionaire',
            description: '–ù–∞–∫–æ–ø–∏—Ç–µ 100,000‚ÇΩ',
            en_description: 'Accumulate 100,000$',
            type: 'money',
            condition: 100000,
            icon: 'üëë',
            rarity: 'epic',
            points: 100,
            reward: { money: 5000, title: '–ú–∏–ª–ª–∏–∞—Ä–¥–µ—Ä', special: 'golden_token' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
        this.addAchievement({
            id: 'first_property',
            name: '–ü–µ—Ä–≤—ã–π –¥–æ–º–æ–≤–ª–∞–¥–µ–ª–µ—Ü',
            en_name: 'First Property Owner',
            description: '–ö—É–ø–∏—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
            en_description: 'Purchase your first property',
            type: 'properties',
            condition: 1,
            icon: 'üè†',
            rarity: 'common',
            points: 15,
            reward: { money: 200 }
        });

        this.addAchievement({
            id: 'property_tycoon',
            name: '–ù–µ–¥–≤–∏–∂–∏–º—ã–π –º–∞–≥–Ω–∞—Ç',
            en_name: 'Property Tycoon',
            description: '–í–ª–∞–¥–µ–π—Ç–µ 10 –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',
            en_description: 'Own 10 properties',
            type: 'properties',
            condition: 10,
            icon: 'üè¢',
            rarity: 'rare',
            points: 75,
            reward: { money: 1500, title: '–ú–∞–≥–Ω–∞—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏' }
        });

        this.addAchievement({
            id: 'property_empire',
            name: '–ò–º–ø–µ—Ä–∏—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',
            en_name: 'Property Empire',
            description: '–í–ª–∞–¥–µ–π—Ç–µ 20 –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',
            en_description: 'Own 20 properties',
            type: 'properties',
            condition: 20,
            icon: 'üè∞',
            rarity: 'epic',
            points: 150,
            reward: { money: 3000, title: '–ò–º–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
        this.addAchievement({
            id: 'first_residence',
            name: '–ü–µ—Ä–≤—ã–π –¥–æ–º',
            en_name: 'First Home',
            description: '–ü–æ—Å—Ç—Ä–æ–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏—é',
            en_description: 'Build your first residence',
            type: 'residences',
            condition: 1,
            icon: 'üè°',
            rarity: 'common',
            points: 25,
            reward: { money: 300 }
        });

        this.addAchievement({
            id: 'residence_builder',
            name: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–π',
            en_name: 'Residence Builder',
            description: '–ü–æ—Å—Ç—Ä–æ–π—Ç–µ 5 —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–π',
            en_description: 'Build 5 residences',
            type: 'residences',
            condition: 5,
            icon: 'üèòÔ∏è',
            rarity: 'rare',
            points: 100,
            reward: { money: 2000, title: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å' }
        });

        this.addAchievement({
            id: 'residence_master',
            name: '–ú–∞—Å—Ç–µ—Ä —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–π',
            en_name: 'Residence Master',
            description: '–ü–æ—Å—Ç—Ä–æ–π—Ç–µ 10 —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–π',
            en_description: 'Build 10 residences',
            type: 'residences',
            condition: 10,
            icon: 'üèõÔ∏è',
            rarity: 'epic',
            points: 200,
            reward: { money: 5000, title: '–ú–∞—Å—Ç–µ—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —É–ª—É—á—à–µ–Ω–∏—è
        this.addAchievement({
            id: 'first_improvement',
            name: '–ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ',
            en_name: 'First Improvement',
            description: '–£–ª—É—á—à–∏—Ç–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–æ —É—Ä–æ–≤–Ω—è 1',
            en_description: 'Improve a property to level 1',
            type: 'improvements',
            condition: 1,
            icon: 'üîß',
            rarity: 'common',
            points: 20,
            reward: { money: 250 }
        });

        this.addAchievement({
            id: 'improvement_expert',
            name: '–≠–∫—Å–ø–µ—Ä—Ç –ø–æ —É–ª—É—á—à–µ–Ω–∏—è–º',
            en_name: 'Improvement Expert',
            description: '–£–ª—É—á—à–∏—Ç–µ 10 –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–µ–π –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è',
            en_description: 'Improve 10 properties to maximum level',
            type: 'improvements',
            condition: 10,
            icon: '‚ö°',
            rarity: 'rare',
            points: 125,
            reward: { money: 2500, title: '–≠–∫—Å–ø–µ—Ä—Ç' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ç–æ—Ä–≥–æ–≤–ª—é
        this.addAchievement({
            id: 'first_trade',
            name: '–ü–µ—Ä–≤–∞—è —Å–¥–µ–ª–∫–∞',
            en_name: 'First Trade',
            description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Ç–æ—Ä–≥–æ–≤—É—é —Å–¥–µ–ª–∫—É',
            en_description: 'Complete your first trade deal',
            type: 'trades',
            condition: 1,
            icon: 'ü§ù',
            rarity: 'common',
            points: 30,
            reward: { money: 400 }
        });

        this.addAchievement({
            id: 'trade_master',
            name: '–ú–∞—Å—Ç–µ—Ä —Ç–æ—Ä–≥–æ–≤–ª–∏',
            en_name: 'Trade Master',
            description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ 10 —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫',
            en_description: 'Complete 10 trade deals',
            type: 'trades',
            condition: 10,
            icon: 'üíº',
            rarity: 'rare',
            points: 150,
            reward: { money: 3000, title: '–¢–æ—Ä–≥–æ–≤–µ—Ü' }
        });

        this.addAchievement({
            id: 'trade_legend',
            name: '–õ–µ–≥–µ–Ω–¥–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏',
            en_name: 'Trade Legend',
            description: '–ó–∞–≤–µ—Ä—à–∏—Ç–µ 50 —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫',
            en_description: 'Complete 50 trade deals',
            type: 'trades',
            condition: 50,
            icon: 'üéØ',
            rarity: 'legendary',
            points: 500,
            reward: { money: 10000, title: '–õ–µ–≥–µ–Ω–¥–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏', special: 'diamond_token' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∞—É–∫—Ü–∏–æ–Ω—ã
        this.addAchievement({
            id: 'first_auction',
            name: '–ü–µ—Ä–≤—ã–π –∞—É–∫—Ü–∏–æ–Ω',
            en_name: 'First Auction',
            description: '–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —Å–≤–æ–µ–º –ø–µ—Ä–≤–æ–º –∞—É–∫—Ü–∏–æ–Ω–µ',
            en_description: 'Participate in your first auction',
            type: 'auctions',
            condition: 1,
            icon: 'üî®',
            rarity: 'common',
            points: 25,
            reward: { money: 300 }
        });

        this.addAchievement({
            id: 'auction_king',
            name: '–ö–æ—Ä–æ–ª—å –∞—É–∫—Ü–∏–æ–Ω–æ–≤',
            en_name: 'Auction King',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 5 –∞—É–∫—Ü–∏–æ–Ω–æ–≤',
            en_description: 'Win 5 auctions',
            type: 'auctions',
            condition: 5,
            icon: 'üëë',
            rarity: 'rare',
            points: 125,
            reward: { money: 2500, title: '–ö–æ—Ä–æ–ª—å –∞—É–∫—Ü–∏–æ–Ω–æ–≤' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∞–ª—å—è–Ω—Å—ã
        this.addAchievement({
            id: 'first_alliance',
            name: '–ü–µ—Ä–≤—ã–π –∞–ª—å—è–Ω—Å',
            en_name: 'First Alliance',
            description: '–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∞–ª—å—è–Ω—Å',
            en_description: 'Create your first alliance',
            type: 'alliances',
            condition: 1,
            icon: 'ü§ù',
            rarity: 'common',
            points: 40,
            reward: { money: 500 }
        });

        this.addAchievement({
            id: 'alliance_leader',
            name: '–õ–∏–¥–µ—Ä –∞–ª—å—è–Ω—Å–∞',
            en_name: 'Alliance Leader',
            description: '–°–æ–∑–¥–∞–π—Ç–µ 3 –∞–ª—å—è–Ω—Å–∞',
            en_description: 'Create 3 alliances',
            type: 'alliances',
            condition: 3,
            icon: 'üë•',
            rarity: 'rare',
            points: 175,
            reward: { money: 3500, title: '–õ–∏–¥–µ—Ä' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ç—É—Ä–Ω–∏—Ä—ã
        this.addAchievement({
            id: 'first_tournament',
            name: '–ü–µ—Ä–≤—ã–π —Ç—É—Ä–Ω–∏—Ä',
            en_name: 'First Tournament',
            description: '–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —Å–≤–æ–µ–º –ø–µ—Ä–≤–æ–º —Ç—É—Ä–Ω–∏—Ä–µ',
            en_description: 'Participate in your first tournament',
            type: 'tournaments',
            condition: 1,
            icon: 'üèÜ',
            rarity: 'common',
            points: 50,
            reward: { money: 600 }
        });

        this.addAchievement({
            id: 'tournament_champion',
            name: '–ß–µ–º–ø–∏–æ–Ω —Ç—É—Ä–Ω–∏—Ä–∞',
            en_name: 'Tournament Champion',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ —Ç—É—Ä–Ω–∏—Ä',
            en_description: 'Win a tournament',
            type: 'tournament_wins',
            condition: 1,
            icon: 'ü•á',
            rarity: 'rare',
            points: 200,
            reward: { money: 5000, title: '–ß–µ–º–ø–∏–æ–Ω' }
        });

        this.addAchievement({
            id: 'tournament_legend',
            name: '–õ–µ–≥–µ–Ω–¥–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤',
            en_name: 'Tournament Legend',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 10 —Ç—É—Ä–Ω–∏—Ä–æ–≤',
            en_description: 'Win 10 tournaments',
            type: 'tournament_wins',
            condition: 10,
            icon: 'üåü',
            rarity: 'legendary',
            points: 1000,
            reward: { money: 20000, title: '–õ–µ–≥–µ–Ω–¥–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤', special: 'legendary_token' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –ø–æ–±–µ–¥—ã
        this.addAchievement({
            id: 'first_win',
            name: '–ü–µ—Ä–≤–∞—è –ø–æ–±–µ–¥–∞',
            en_name: 'First Victory',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∏–≥—Ä—É',
            en_description: 'Win your first game',
            type: 'wins',
            condition: 1,
            icon: 'üéâ',
            rarity: 'common',
            points: 100,
            reward: { money: 1000, title: '–ü–æ–±–µ–¥–∏—Ç–µ–ª—å' }
        });

        this.addAchievement({
            id: 'winning_streak',
            name: '–°–µ—Ä–∏—è –ø–æ–±–µ–¥',
            en_name: 'Winning Streak',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 5 –∏–≥—Ä –ø–æ–¥—Ä—è–¥',
            en_description: 'Win 5 games in a row',
            type: 'winning_streak',
            condition: 5,
            icon: 'üî•',
            rarity: 'epic',
            points: 300,
            reward: { money: 7500, title: '–ù–µ—É—è–∑–≤–∏–º—ã–π' }
        });

        this.addAchievement({
            id: 'game_master',
            name: '–ú–∞—Å—Ç–µ—Ä –∏–≥—Ä—ã',
            en_name: 'Game Master',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 50 –∏–≥—Ä',
            en_description: 'Win 50 games',
            type: 'wins',
            condition: 50,
            icon: 'üéÆ',
            rarity: 'legendary',
            points: 1000,
            reward: { money: 25000, title: '–ú–∞—Å—Ç–µ—Ä –∏–≥—Ä—ã', special: 'master_token' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –≤—Ä–µ–º—è –∏–≥—Ä—ã
        this.addAchievement({
            id: 'dedicated_player',
            name: '–ü—Ä–µ–¥–∞–Ω–Ω—ã–π –∏–≥—Ä–æ–∫',
            en_name: 'Dedicated Player',
            description: '–ò–≥—Ä–∞–π—Ç–µ 10 —á–∞—Å–æ–≤',
            en_description: 'Play for 10 hours',
            type: 'playtime',
            condition: 36000000, // 10 —á–∞—Å–æ–≤ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
            icon: '‚è∞',
            rarity: 'common',
            points: 75,
            reward: { money: 800, title: '–ü—Ä–µ–¥–∞–Ω–Ω—ã–π' }
        });

        this.addAchievement({
            id: 'hardcore_player',
            name: '–•–∞—Ä–¥–∫–æ—Ä–Ω—ã–π –∏–≥—Ä–æ–∫',
            en_name: 'Hardcore Player',
            description: '–ò–≥—Ä–∞–π—Ç–µ 100 —á–∞—Å–æ–≤',
            en_description: 'Play for 100 hours',
            type: 'playtime',
            condition: 360000000, // 100 —á–∞—Å–æ–≤ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
            icon: 'üí™',
            rarity: 'epic',
            points: 400,
            reward: { money: 8000, title: '–•–∞—Ä–¥–∫–æ—Ä–Ω—ã–π' }
        });

        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
        this.addAchievement({
            id: 'weather_master',
            name: '–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å –ø–æ–≥–æ–¥—ã',
            en_name: 'Weather Master',
            description: '–ò–≥—Ä–∞–π—Ç–µ –ø—Ä–∏ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö –ø–æ–≥–æ–¥—ã',
            en_description: 'Play during all weather types',
            type: 'weather_types',
            condition: 5,
            icon: 'üå§Ô∏è',
            rarity: 'rare',
            points: 150,
            reward: { money: 2000, title: '–ú–µ—Ç–µ–æ—Ä–æ–ª–æ–≥' }
        });

        this.addAchievement({
            id: 'event_explorer',
            name: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π',
            en_name: 'Event Explorer',
            description: '–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ 10 —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö',
            en_description: 'Participate in 10 economic and cultural events',
            type: 'events',
            condition: 10,
            icon: 'üé™',
            rarity: 'rare',
            points: 200,
            reward: { money: 3000, title: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å' }
        });

        // –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        this.addAchievement({
            id: 'bankrupt_phoenix',
            name: '–§–µ–Ω–∏–∫—Å',
            en_name: 'Phoenix',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ –∏–≥—Ä—É –ø–æ—Å–ª–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
            en_description: 'Win a game after going bankrupt',
            type: 'secret',
            condition: 1,
            icon: 'ü¶Ö',
            rarity: 'legendary',
            points: 500,
            reward: { money: 10000, title: '–§–µ–Ω–∏–∫—Å', special: 'phoenix_token' },
            secret: true
        });

        this.addAchievement({
            id: 'lucky_winner',
            name: '–°—á–∞—Å—Ç–ª–∏–≤—á–∏–∫',
            en_name: 'Lucky One',
            description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ –∏–≥—Ä—É, –∏–º–µ—è –º–µ–Ω–µ–µ 1000‚ÇΩ –≤ –Ω–∞—á–∞–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ö–æ–¥–∞',
            en_description: 'Win a game with less than 1000$ at the start of the last turn',
            type: 'secret',
            condition: 1,
            icon: 'üçÄ',
            rarity: 'epic',
            points: 300,
            reward: { money: 5000, title: '–°—á–∞—Å—Ç–ª–∏–≤—á–∏–∫' },
            secret: true
        });
    }

    /**
     * –î–æ–±–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º—É
     * @param {Object} achievement - –æ–±—ä–µ–∫—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    addAchievement(achievement) {
        this.achievements.set(achievement.id, {
            ...achievement,
            unlocked: false,
            unlockedAt: null,
            progress: 0
        });
    }

    /**
     * –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
     */
    setupEventListeners() {
        // –°–ª—É—à–∞–µ–º —Å–æ–±—ã—Ç–∏—è –∏–≥—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        document.addEventListener('gameEvent', (e) => {
            this.handleGameEvent(e.detail);
        });
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
     * @param {Object} event - —Å–æ–±—ã—Ç–∏–µ –∏–≥—Ä—ã
     */
    handleGameEvent(event) {
        switch (event.type) {
            case 'money_earned':
                this.checkMoneyAchievements(event.player, event.amount);
                break;
            case 'property_purchased':
                this.checkPropertyAchievements(event.player);
                break;
            case 'residence_built':
                this.checkResidenceAchievements(event.player);
                break;
            case 'property_improved':
                this.checkImprovementAchievements(event.player);
                break;
            case 'trade_completed':
                this.checkTradeAchievements(event.player);
                break;
            case 'auction_won':
                this.checkAuctionAchievements(event.player);
                break;
            case 'alliance_formed':
                this.checkAllianceAchievements(event.player);
                break;
            case 'tournament_won':
                this.checkTournamentAchievements(event.player);
                break;
            case 'game_won':
                this.checkWinAchievements(event.player);
                break;
            case 'weather_changed':
                this.checkWeatherAchievements(event.player);
                break;
            case 'event_triggered':
                this.checkEventAchievements(event.player);
                break;
        }
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –¥–µ–Ω—å–≥–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {number} amount - —Å—É–º–º–∞
     */
    checkMoneyAchievements(player, amount) {
        const totalMoney = player.money;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'money' && !achievement.unlocked) {
                if (totalMoney >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkPropertyAchievements(player) {
        const propertyCount = player.properties.length;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'properties' && !achievement.unlocked) {
                if (propertyCount >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkResidenceAchievements(player) {
        const residenceCount = player.properties.filter(p => p.hasResidence).length;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'residences' && !achievement.unlocked) {
                if (residenceCount >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —É–ª—É—á—à–µ–Ω–∏—è
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkImprovementAchievements(player) {
        const maxImprovements = player.properties.filter(p => p.improvementLevel >= 5).length;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'improvements' && !achievement.unlocked) {
                if (maxImprovements >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ç–æ—Ä–≥–æ–≤–ª—é
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkTradeAchievements(player) {
        const tradeCount = player.tradeHistory ? player.tradeHistory.length : 0;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'trades' && !achievement.unlocked) {
                if (tradeCount >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∞—É–∫—Ü–∏–æ–Ω—ã
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkAuctionAchievements(player) {
        const auctionWins = player.auctionWins ? player.auctionWins : 0;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'auctions' && !achievement.unlocked) {
                if (auctionWins >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –∞–ª—å—è–Ω—Å—ã
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkAllianceAchievements(player) {
        const allianceCount = player.alliances ? player.alliances.length : 0;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'alliances' && !achievement.unlocked) {
                if (allianceCount >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Ç—É—Ä–Ω–∏—Ä—ã
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkTournamentAchievements(player) {
        const tournamentWins = player.tournamentWins ? player.tournamentWins : 0;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'tournament_wins' && !achievement.unlocked) {
                if (tournamentWins >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –ø–æ–±–µ–¥—ã
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkWinAchievements(player) {
        const wins = player.wins ? player.wins : 0;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'wins' && !achievement.unlocked) {
                if (wins >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ –ø–æ–≥–æ–¥—É
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkWeatherAchievements(player) {
        const weatherTypes = player.weatherTypes ? player.weatherTypes : new Set();
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'weather_types' && !achievement.unlocked) {
                if (weatherTypes.size >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ —Å–æ–±—ã—Ç–∏—è
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    checkEventAchievements(player) {
        const eventCount = player.events ? player.events.length : 0;
        
        this.achievements.forEach((achievement, id) => {
            if (achievement.type === 'events' && !achievement.unlocked) {
                if (eventCount >= achievement.condition) {
                    this.unlockAchievement(player, id);
                }
            }
        });
    }

    /**
     * –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {string} achievementId - ID –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     */
    unlockAchievement(player, achievementId) {
        const achievement = this.achievements.get(achievementId);
        if (!achievement || achievement.unlocked) return;

        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
        achievement.unlocked = true;
        achievement.unlockedAt = Date.now();

        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é –∏–≥—Ä–æ–∫–∞
        if (!player.achievements) {
            player.achievements = [];
        }
        player.achievements.push({
            id: achievementId,
            unlockedAt: Date.now()
        });

        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ–±—â—É—é –∏—Å—Ç–æ—Ä–∏—é
        this.achievementHistory.push({
            playerId: player.id,
            playerName: player.name,
            achievementId: achievementId,
            achievementName: achievement.name,
            unlockedAt: Date.now()
        });

        // –í—ã–¥–∞–µ–º –Ω–∞–≥—Ä–∞–¥—ã
        this.giveRewards(player, achievement.reward);

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        this.showAchievementNotification(achievement);

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫
        if (window.audio) {
            window.audio.playSound('achievement');
        }

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ
        this.dispatchAchievementEvent(player, achievement);
    }

    /**
     * –í—ã–¥–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} reward - –Ω–∞–≥—Ä–∞–¥–∞
     */
    giveRewards(player, reward) {
        if (reward.money) {
            player.addMoney(reward.money);
        }

        if (reward.title) {
            if (!player.titles) {
                player.titles = [];
            }
            player.titles.push(reward.title);
        }

        if (reward.special) {
            if (!player.specialItems) {
                player.specialItems = [];
            }
            player.specialItems.push(reward.special);
        }
    }

    /**
     * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏
     * @param {Object} achievement - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     */
    showAchievementNotification(achievement) {
        const notification = {
            id: Date.now(),
            type: 'achievement',
            title: utils.getText(`ACHIEVEMENTS.${achievement.name.toUpperCase()}`),
            message: utils.getText(`ACHIEVEMENTS.${achievement.description.toUpperCase()}`),
            icon: achievement.icon,
            rarity: achievement.rarity,
            points: achievement.points,
            timestamp: Date.now()
        };

        this.notifications.push(notification);
        this.displayNotification(notification);
    }

    /**
     * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
     * @param {Object} notification - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
     */
    displayNotification(notification) {
        const notificationElement = document.createElement('div');
        notificationElement.className = `achievement-notification ${notification.rarity}`;
        notificationElement.innerHTML = `
            <div class="notification-icon">${notification.icon}</div>
            <div class="notification-content">
                <div class="notification-title">${notification.title}</div>
                <div class="notification-message">${notification.message}</div>
                <div class="notification-points">+${notification.points} –æ—á–∫–æ–≤</div>
            </div>
            <button class="notification-details" style="margin-inline-end:8px;" onclick="if(window.ui)window.ui.showAchievementsModal()">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            <button class="notification-close" onclick="this.parentElement.remove()">√ó</button>
        `;

        document.body.appendChild(notificationElement);

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
        setTimeout(() => {
            if (notificationElement.parentElement) {
                notificationElement.remove();
            }
        }, 5000);
    }

    /**
     * –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @param {Object} achievement - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
     */
    dispatchAchievementEvent(player, achievement) {
        const event = new CustomEvent('achievementUnlocked', {
            detail: {
                player: player,
                achievement: achievement,
                timestamp: Date.now()
            }
        });
        document.dispatchEvent(event);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @returns {Array} –º–∞—Å—Å–∏–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    getPlayerAchievements(player) {
        return Array.from(this.achievements.values()).map(achievement => ({
            ...achievement,
            unlocked: player.achievements ? 
                player.achievements.some(a => a.id === achievement.id) : false,
            unlockedAt: player.achievements ? 
                player.achievements.find(a => a.id === achievement.id)?.unlockedAt : null
        }));
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä–æ–∫–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     * @returns {Object} –ø—Ä–æ–≥—Ä–µ—Å—Å
     */
    getPlayerProgress(player) {
        const achievements = this.getPlayerAchievements(player);
        const unlocked = achievements.filter(a => a.unlocked);
        const totalPoints = unlocked.reduce((sum, a) => sum + a.points, 0);

        return {
            total: achievements.length,
            unlocked: unlocked.length,
            percentage: Math.round((unlocked.length / achievements.length) * 100),
            points: totalPoints,
            rarity: {
                common: unlocked.filter(a => a.rarity === 'common').length,
                rare: unlocked.filter(a => a.rarity === 'rare').length,
                epic: unlocked.filter(a => a.rarity === 'epic').length,
                legendary: unlocked.filter(a => a.rarity === 'legendary').length
            }
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     * @returns {Object} —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
     */
    getAchievementStats() {
        const totalAchievements = this.achievements.size;
        const totalUnlocks = this.achievementHistory.length;
        const recentUnlocks = this.achievementHistory.filter(
            a => Date.now() - a.unlockedAt < 24 * 60 * 60 * 1000
        ).length;

        return {
            totalAchievements,
            totalUnlocks,
            recentUnlocks,
            averageUnlocksPerDay: Math.round(totalUnlocks / Math.max(1, Math.floor((Date.now() - this.achievementHistory[0]?.unlockedAt || Date.now()) / (24 * 60 * 60 * 1000))))
        };
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
     * @param {string} rarity - —Ä–µ–¥–∫–æ—Å—Ç—å
     * @returns {Array} –º–∞—Å—Å–∏–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    getAchievementsByRarity(rarity) {
        return Array.from(this.achievements.values()).filter(a => a.rarity === rarity);
    }

    /**
     * –ü–æ–ª—É—á–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
     * @returns {Array} –º–∞—Å—Å–∏–≤ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    getSecretAchievements() {
        return Array.from(this.achievements.values()).filter(a => a.secret);
    }

    /**
     * –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
     * @param {Player} player - –∏–≥—Ä–æ–∫
     */
    resetPlayerAchievements(player) {
        player.achievements = [];
        this.achievementHistory = this.achievementHistory.filter(
            a => a.playerId !== player.id
        );
    }

    /**
     * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    saveData() {
        const data = {
            achievementHistory: this.achievementHistory,
            notifications: this.notifications
        };
        localStorage.setItem('achievementData', JSON.stringify(data));
    }

    /**
     * –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
     */
    loadData() {
        try {
            const data = JSON.parse(localStorage.getItem('achievementData'));
            if (data) {
                this.achievementHistory = data.achievementHistory || [];
                this.notifications = data.notifications || [];
            }
        } catch (error) {
            console.warn('Failed to load achievement data:', error);
        }
    }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª–∞—Å—Å
window.AchievementSystem = AchievementSystem; 
```

## .stylelintrc.json
```
{
  "plugins": [
    "stylelint-no-physical-properties"
  ],
  "rules": {
    "plugin/no-physical-properties": [true, { "disableFix": false }]
  }
} 
```

## .htaccess
```
# Performance optimization .htaccess
# Enable compression
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# Leverage browser caching
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 year"
    ExpiresByType application/javascript "access plus 1 year"
    ExpiresByType text/javascript "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType text/html "access plus 1 hour"
</IfModule>

# Add cache control headers
<IfModule mod_headers.c>
    <FilesMatch "\.(css|js|png|jpg|jpeg|gif|svg)$">
        Header set Cache-Control "public, max-age=31536000"
    </FilesMatch>
    <FilesMatch "\.(html)$">
        Header set Cache-Control "public, max-age=3600"
    </FilesMatch>
</IfModule>

# Security headers
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options SAMEORIGIN
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# Remove server signature
ServerSignature Off

# Disable directory browsing
Options -Indexes
```

## assets\tokens\zh.json
```
{
  "COMMON": {
    "START": "Ëµ∑ÁÇπ",
    "JAIL": "ÁõëÁã±",
    "FREE_PARKING": "ÂÖçË¥πÂÅúËΩ¶",
    "GO_TO_JAIL": "ËøõÁõëÁã±",
    "CHANCE": "Êú∫‰ºö",
    "TREASURE": "ÂÆùËóè",
    "TAX": "Á®éÊî∂",
    "MONEY": "¬•",
    "YES": "ÊòØ",
    "NO": "Âê¶",
    "OK": "Á°ÆÂÆö",
    "CANCEL": "ÂèñÊ∂à",
    "CONFIRM": "Á°ÆËÆ§",
    "BUY": "Ë¥≠‰π∞",
    "SELL": "Âá∫ÂîÆ",
    "PASS": "Ë∑≥Ëøá",
    "END_TURN": "ÁªìÊùüÂõûÂêà",
    "ROLL_DICE": "Êé∑È™∞Â≠ê",
    "SETTINGS": "ËÆæÁΩÆ",
    "RULES": "ËßÑÂàô",
    "STATISTICS": "ÁªüËÆ°",
    "ACHIEVEMENTS": "ÊàêÂ∞±",
    "TRADE": "‰∫§Êòì",
    "AUCTION": "ÊãçÂçñ",
    "ALLIANCE": "ËÅîÁõü",
    "TOURNAMENT": "Èî¶Ê†áËµõ",
    "CHAT": "ËÅäÂ§©",
    "SAVE": "‰øùÂ≠ò",
    "LOAD": "Âä†ËΩΩ",
    "EXPORT": "ÂØºÂá∫",
    "IMPORT": "ÂØºÂÖ•",
    "FULLSCREEN": "ÂÖ®Â±è",
    "SOUND": "Â£∞Èü≥",
    "MUSIC": "Èü≥‰πê",
    "LANGUAGE": "ËØ≠Ë®Ä",
    "THEME": "‰∏ªÈ¢ò",
    "HELP": "Â∏ÆÂä©",
    "ABOUT": "ÂÖ≥‰∫é",
    "VERSION": "ÁâàÊú¨",
    "CREDITS": "Ëá¥Ë∞¢",
    "FEEDBACK": "ÂèçÈ¶à",
    "BUG_REPORT": "Êä•ÂëäÈîôËØØ",
    "FEATURE_REQUEST": "Âª∫ËÆÆÂäüËÉΩ",
    "ACHIEVEMENTS_BTN": "ÊàêÂ∞±",
    "STATISTICS_BTN": "ÁªüËÆ°",
    "TOURNAMENTS_BTN": "Èî¶Ê†áËµõ",
    "ACHIEVEMENTS_TITLE": "ÊàêÂ∞±",
    "STATISTICS_TITLE": "ÁªüËÆ°",
    "TOURNAMENTS_TITLE": "Èî¶Ê†áËµõ",
    "ACHIEVEMENTS_NONE": "Êó†ÊàêÂ∞±",
    "STATISTICS_NONE": "Êó†ÁªüËÆ°Êï∞ÊçÆ",
    "TOURNAMENTS_NONE": "Êó†Ê¥ªË∑ÉÈî¶Ê†áËµõ"
  }
} 
```

## assets\tokens\ru.json
```
{
  "COMMON": { ... },
  "MESSAGES": { ... },
  "ERRORS": { ... },
  "TOOLTIPS": { ... },
  "STATISTICS": { ... }
}
// (–í—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ LOCALES.ru) 
```

## assets\tokens\README.md
```
# –¢–æ–∫–µ–Ω—ã (—Ñ–∏—à–∫–∏) –¥–ª—è –∏–≥—Ä—ã

–í —ç—Ç–æ–π –ø–∞–ø–∫–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã—Ö —Ñ–∏—à–µ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ PNG.

## –¢—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã

- `matryoshka.png` - –ú–∞—Ç—Ä—ë—à–∫–∞
- `balalaika.png` - –ë–∞–ª–∞–ª–∞–π–∫–∞
- `kremlin.png` - –ö—Ä–µ–º–ª—å
- `samovar.png` - –°–∞–º–æ–≤–∞—Ä
- `bear.png` - –ú–µ–¥–≤–µ–¥—å
- `troika.png` - –¢—Ä–æ–π–∫–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º

- **–§–æ—Ä–º–∞—Ç**: PNG —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ñ–æ–Ω–æ–º
- **–†–∞–∑–º–µ—Ä**: 64x64 –ø–∏–∫—Å–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **–°—Ç–∏–ª—å**: –ü–ª–æ—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏ –∏–ª–∏ –ø—Ä–æ—Å—Ç—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–¶–≤–µ—Ç–∞**: –Ø—Ä–∫–∏–µ, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞

## –ì–¥–µ –Ω–∞–π—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

1. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã**:
   - [Flaticon](https://www.flaticon.com/)
   - [Icons8](https://icons8.com/)
   - [Freepik](https://www.freepik.com/)

2. **–°–æ–∑–¥–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã (GIMP, Photoshop, Figma)
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–º–æ–¥–∑–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã, –∏–∑–º–µ–Ω–∏–≤ –∫–æ–¥ –≤ `js/config.js`:

```javascript
TOKENS: [
    { id: 'matryoshka', name: '–ú–∞—Ç—Ä—ë—à–∫–∞', image: 'üéé' },
    { id: 'balalaika', name: '–ë–∞–ª–∞–ª–∞–π–∫–∞', image: 'üé∏' },
    { id: 'kremlin', name: '–ö—Ä–µ–º–ª—å', image: 'üè∞' },
    { id: 'samovar', name: '–°–∞–º–æ–≤–∞—Ä', image: '‚òï' },
    { id: 'bear', name: '–ú–µ–¥–≤–µ–¥—å', image: 'üêª' },
    { id: 'troika', name: '–¢—Ä–æ–π–∫–∞', image: 'üêé' }
]
``` 
```

## assets\tokens\ko.json
```
{
  "COMMON": {
    "START": "ÏãúÏûë",
    "JAIL": "Í∞êÏò•",
    "FREE_PARKING": "Î¨¥Î£å Ï£ºÏ∞®",
    "GO_TO_JAIL": "Í∞êÏò•ÏúºÎ°ú Í∞ÄÍ∏∞",
    "CHANCE": "Í∏∞Ìöå",
    "TREASURE": "Î≥¥Î¨º",
    "TAX": "ÏÑ∏Í∏à",
    "MONEY": "‚Ç©",
    "YES": "Ïòà",
    "NO": "ÏïÑÎãàÏò§",
    "OK": "ÌôïÏù∏",
    "CANCEL": "Ï∑®ÏÜå",
    "CONFIRM": "ÌôïÏù∏",
    "BUY": "Íµ¨Îß§",
    "SELL": "ÌåêÎß§",
    "PASS": "Ìå®Ïä§",
    "END_TURN": "ÌÑ¥ Ï¢ÖÎ£å",
    "ROLL_DICE": "Ï£ºÏÇ¨ÏúÑ Íµ¥Î¶¨Í∏∞",
    "SETTINGS": "ÏÑ§Ï†ï",
    "RULES": "Í∑úÏπô",
    "STATISTICS": "ÌÜµÍ≥Ñ",
    "ACHIEVEMENTS": "ÏóÖÏ†Å",
    "TRADE": "Í±∞Îûò",
    "AUCTION": "Í≤ΩÎß§",
    "ALLIANCE": "ÎèôÎßπ",
    "TOURNAMENT": "ÌÜ†ÎÑàÎ®ºÌä∏",
    "CHAT": "Ï±ÑÌåÖ",
    "SAVE": "Ï†ÄÏû•",
    "LOAD": "Î∂àÎü¨Ïò§Í∏∞",
    "EXPORT": "ÎÇ¥Î≥¥ÎÇ¥Í∏∞",
    "IMPORT": "Í∞ÄÏ†∏Ïò§Í∏∞",
    "FULLSCREEN": "Ï†ÑÏ≤¥ ÌôîÎ©¥",
    "SOUND": "ÏÇ¨Ïö¥Îìú",
    "MUSIC": "ÏùåÏïÖ",
    "LANGUAGE": "Ïñ∏Ïñ¥",
    "THEME": "ÌÖåÎßà",
    "HELP": "ÎèÑÏõÄÎßê",
    "ABOUT": "Ï†ïÎ≥¥",
    "VERSION": "Î≤ÑÏ†Ñ",
    "CREDITS": "ÌÅ¨Î†àÎîß",
    "FEEDBACK": "ÌîºÎìúÎ∞±",
    "BUG_REPORT": "Î≤ÑÍ∑∏ Ïã†Í≥†",
    "FEATURE_REQUEST": "Í∏∞Îä• Ï†úÏïà",
    "ACHIEVEMENTS_BTN": "ÏóÖÏ†Å",
    "STATISTICS_BTN": "ÌÜµÍ≥Ñ",
    "TOURNAMENTS_BTN": "ÌÜ†ÎÑàÎ®ºÌä∏",
    "ACHIEVEMENTS_TITLE": "ÏóÖÏ†Å",
    "STATISTICS_TITLE": "ÌÜµÍ≥Ñ",
    "TOURNAMENTS_TITLE": "ÌÜ†ÎÑàÎ®ºÌä∏",
    "ACHIEVEMENTS_NONE": "ÏóÖÏ†Å ÏóÜÏùå",
    "STATISTICS_NONE": "ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞ ÏóÜÏùå",
    "TOURNAMENTS_NONE": "ÌôúÏÑ± ÌÜ†ÎÑàÎ®ºÌä∏ ÏóÜÏùå"
  }
} 
```

## assets\tokens\ja.json
```
{
  "COMMON": {
    "START": "„Çπ„Çø„Éº„Éà",
    "JAIL": "ÂàëÂãôÊâÄ",
    "FREE_PARKING": "ÁÑ°ÊñôÈßêËªäÂ†¥",
    "GO_TO_JAIL": "ÂàëÂãôÊâÄ„Å∏Ë°å„Åè",
    "CHANCE": "„ÉÅ„É£„É≥„Çπ",
    "TREASURE": "ÂÆùÁÆ±",
    "TAX": "Á®éÈáë",
    "MONEY": "¬•",
    "YES": "„ÅØ„ÅÑ",
    "NO": "„ÅÑ„ÅÑ„Åà",
    "OK": "OK",
    "CANCEL": "„Ç≠„É£„É≥„Çª„É´",
    "CONFIRM": "Á¢∫Ë™ç",
    "BUY": "Ë≥ºÂÖ•",
    "SELL": "Â£≤Âç¥",
    "PASS": "„Éë„Çπ",
    "END_TURN": "„Çø„Éº„É≥ÁµÇ‰∫Ü",
    "ROLL_DICE": "„Çµ„Ç§„Ç≥„É≠„ÇíÊåØ„Çã",
    "SETTINGS": "Ë®≠ÂÆö",
    "RULES": "„É´„Éº„É´",
    "STATISTICS": "Áµ±Ë®à",
    "ACHIEVEMENTS": "ÂÆüÁ∏æ",
    "TRADE": "ÂèñÂºï",
    "AUCTION": "„Ç™„Éº„ÇØ„Ç∑„Éß„É≥",
    "ALLIANCE": "ÂêåÁõü",
    "TOURNAMENT": "„Éà„Éº„Éä„É°„É≥„Éà",
    "CHAT": "„ÉÅ„É£„ÉÉ„Éà",
    "SAVE": "‰øùÂ≠ò",
    "LOAD": "Ë™≠„ÅøËæº„Åø",
    "EXPORT": "„Ç®„ÇØ„Çπ„Éù„Éº„Éà",
    "IMPORT": "„Ç§„É≥„Éù„Éº„Éà",
    "FULLSCREEN": "ÂÖ®ÁîªÈù¢",
    "SOUND": "„Çµ„Ç¶„É≥„Éâ",
    "MUSIC": "Èü≥Ê•Ω",
    "LANGUAGE": "Ë®ÄË™û",
    "THEME": "„ÉÜ„Éº„Éû",
    "HELP": "„Éò„É´„Éó",
    "ABOUT": "ÊÉÖÂ†±",
    "VERSION": "„Éê„Éº„Ç∏„Éß„É≥",
    "CREDITS": "„ÇØ„É¨„Ç∏„ÉÉ„Éà",
    "FEEDBACK": "„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ",
    "BUG_REPORT": "„Éê„Ç∞Â†±Âëä",
    "FEATURE_REQUEST": "Ê©üËÉΩÊèêÊ°à",
    "ACHIEVEMENTS_BTN": "ÂÆüÁ∏æ",
    "STATISTICS_BTN": "Áµ±Ë®à",
    "TOURNAMENTS_BTN": "„Éà„Éº„Éä„É°„É≥„Éà",
    "ACHIEVEMENTS_TITLE": "ÂÆüÁ∏æ",
    "STATISTICS_TITLE": "Áµ±Ë®à",
    "TOURNAMENTS_TITLE": "„Éà„Éº„Éä„É°„É≥„Éà",
    "ACHIEVEMENTS_NONE": "ÂÆüÁ∏æ„Å™„Åó",
    "STATISTICS_NONE": "Áµ±Ë®à„Éá„Éº„Çø„Å™„Åó",
    "TOURNAMENTS_NONE": "„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Éà„Éº„Éä„É°„É≥„Éà„Å™„Åó"
  }
} 
```

## assets\tokens\fr.json
```
{
  "COMMON": {
    "START": "D√âPART",
    "JAIL": "PRISON",
    "FREE_PARKING": "PARC GRATUIT",
    "GO_TO_JAIL": "ALLEZ EN PRISON",
    "CHANCE": "CHANCE",
    "TREASURE": "TR√âSOR",
    "TAX": "IMP√îT",
    "MONEY": "‚Ç¨",
    "YES": "Oui",
    "NO": "Non",
    "OK": "OK",
    "CANCEL": "Annuler",
    "CONFIRM": "Confirmer",
    "BUY": "Acheter",
    "SELL": "Vendre",
    "PASS": "Passer",
    "END_TURN": "Fin du tour",
    "ROLL_DICE": "Lancer les d√©s",
    "SETTINGS": "Param√®tres",
    "RULES": "R√®gles",
    "STATISTICS": "Statistiques",
    "ACHIEVEMENTS": "Succ√®s",
    "TRADE": "√âchange",
    "AUCTION": "Ench√®re",
    "ALLIANCE": "Alliance",
    "TOURNAMENT": "Tournoi",
    "CHAT": "Chat",
    "SAVE": "Enregistrer",
    "LOAD": "Charger",
    "EXPORT": "Exporter",
    "IMPORT": "Importer",
    "FULLSCREEN": "Plein √©cran",
    "SOUND": "Son",
    "MUSIC": "Musique",
    "LANGUAGE": "Langue",
    "THEME": "Th√®me",
    "HELP": "Aide",
    "ABOUT": "√Ä propos",
    "VERSION": "Version",
    "CREDITS": "Cr√©dits",
    "FEEDBACK": "Retour",
    "BUG_REPORT": "Signaler un bug",
    "FEATURE_REQUEST": "Sugg√©rer une fonctionnalit√©",
    "ACHIEVEMENTS_BTN": "Succ√®s",
    "STATISTICS_BTN": "Statistiques",
    "TOURNAMENTS_BTN": "Tournois",
    "ACHIEVEMENTS_TITLE": "Succ√®s",
    "STATISTICS_TITLE": "Statistiques",
    "TOURNAMENTS_TITLE": "Tournois",
    "ACHIEVEMENTS_NONE": "Aucun succ√®s",
    "STATISTICS_NONE": "Aucune statistique",
    "TOURNAMENTS_NONE": "Aucun tournoi actif"
  }
} 
```

## assets\tokens\es.json
```
{
  "COMMON": {
    "START": "SALIDA",
    "JAIL": "C√ÅRCEL",
    "FREE_PARKING": "APARCAMIENTO GRATUITO",
    "GO_TO_JAIL": "VE A LA C√ÅRCEL",
    "CHANCE": "SUERTE",
    "TREASURE": "TESORO",
    "TAX": "IMPUESTO",
    "MONEY": "‚Ç¨",
    "YES": "S√≠",
    "NO": "No",
    "OK": "OK",
    "CANCEL": "Cancelar",
    "CONFIRM": "Confirmar",
    "BUY": "Comprar",
    "SELL": "Vender",
    "PASS": "Pasar",
    "END_TURN": "Fin del turno",
    "ROLL_DICE": "Tirar dados",
    "SETTINGS": "Configuraci√≥n",
    "RULES": "Reglas",
    "STATISTICS": "Estad√≠sticas",
    "ACHIEVEMENTS": "Logros",
    "TRADE": "Intercambio",
    "AUCTION": "Subasta",
    "ALLIANCE": "Alianza",
    "TOURNAMENT": "Torneo",
    "CHAT": "Chat",
    "SAVE": "Guardar",
    "LOAD": "Cargar",
    "EXPORT": "Exportar",
    "IMPORT": "Importar",
    "FULLSCREEN": "Pantalla completa",
    "SOUND": "Sonido",
    "MUSIC": "M√∫sica",
    "LANGUAGE": "Idioma",
    "THEME": "Tema",
    "HELP": "Ayuda",
    "ABOUT": "Acerca de",
    "VERSION": "Versi√≥n",
    "CREDITS": "Cr√©ditos",
    "FEEDBACK": "Comentarios",
    "BUG_REPORT": "Reportar un error",
    "FEATURE_REQUEST": "Sugerir funci√≥n",
    "ACHIEVEMENTS_BTN": "Logros",
    "STATISTICS_BTN": "Estad√≠sticas",
    "TOURNAMENTS_BTN": "Torneos",
    "ACHIEVEMENTS_TITLE": "Logros",
    "STATISTICS_TITLE": "Estad√≠sticas",
    "TOURNAMENTS_TITLE": "Torneos",
    "ACHIEVEMENTS_NONE": "Sin logros",
    "STATISTICS_NONE": "Sin estad√≠sticas",
    "TOURNAMENTS_NONE": "Sin torneos activos"
  }
} 
```

## assets\sounds\README.md
```
# –ó–≤—É–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –†—É—Å—Å–∫–æ–π –ú–æ–Ω–æ–ø–æ–ª–∏–∏

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –∏–≥—Ä—ã –†—É—Å—Å–∫–∞—è –ú–æ–Ω–æ–ø–æ–ª–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

### –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (`sounds/`)

- **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–≤—É–∫–∏ –∏–≥—Ä—ã** - –±–∞–∑–æ–≤—ã–µ –∑–≤—É–∫–∏ –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- **–ó–≤—É–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫** - –∑–≤—É–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –®–∞–Ω—Å –∏ –ö–∞–∑–Ω–∞
- **–ó–≤—É–∫–∏ –∞—É–∫—Ü–∏–æ–Ω–∞** - –∑–≤—É–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- **–ó–≤—É–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏** - –∑–≤—É–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Ç–æ—Ä–≥–æ–≤–ª–∏
- **–ó–≤—É–∫–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞** - –∑–≤—É–∫–∏ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π
- **–ó–≤—É–∫–∏ —Å–æ–±—ã—Ç–∏–π** - –∑–≤—É–∫–∏ –¥–ª—è –ø–æ–≥–æ–¥–Ω—ã—Ö –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π
- **–ó–≤—É–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - –∑–≤—É–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏ –º–µ–Ω—é
- **–ó–≤—É–∫–∏ —á–∞—Ç–∞** - –∑–≤—É–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —á–∞—Ç–∞
- **–ó–≤—É–∫–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤** - –∑–≤—É–∫–∏ –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- **–ó–≤—É–∫–∏ –∞–ª—å—è–Ω—Å–æ–≤** - –∑–≤—É–∫–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–ª—å—è–Ω—Å–æ–≤
- **–ó–≤—É–∫–∏ –æ—à–∏–±–æ–∫** - –∑–≤—É–∫–∏ –¥–ª—è –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- **–ó–≤—É–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** - –∑–≤—É–∫–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ –ø–æ–ª—é
- **–ó–≤—É–∫–∏ –Ω–∞–ª–æ–≥–æ–≤** - –∑–≤—É–∫–∏ –¥–ª—è –Ω–∞–ª–æ–≥–æ–≤ –∏ —à—Ç—Ä–∞—Ñ–æ–≤
- **–ó–≤—É–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π** - –∑–≤—É–∫–∏ –¥–ª—è –∏–ø–æ—Ç–µ–∫–∏ –∏ –≤—ã–∫—É–ø–∞
- **–ó–≤—É–∫–∏ –ø–æ–≥–æ–¥—ã** - –∑–≤—É–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

### –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (`music/`)

- **–û—Å–Ω–æ–≤–Ω–∞—è –º—É–∑—ã–∫–∞** - –≥–ª–∞–≤–Ω—ã–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã
- **–°–∏—Ç—É–∞—Ç–∏–≤–Ω–∞—è –º—É–∑—ã–∫–∞** - –º—É–∑—ã–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
- **–¢—É—Ä–Ω–∏—Ä–Ω–∞—è –º—É–∑—ã–∫–∞** - –º—É–∑—ã–∫–∞ –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–æ–≤
- **–°–æ–±—ã—Ç–∏–π–Ω–∞—è –º—É–∑—ã–∫–∞** - –º—É–∑—ã–∫–∞ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- **–ü–æ–≥–æ–¥–Ω–∞—è –º—É–∑—ã–∫–∞** - –º—É–∑—ã–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–≥–æ–¥–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –º—É–∑—ã–∫–∞** - –º—É–∑—ã–∫–∞ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤, —Ç–æ—Ä–≥–æ–≤–ª–∏, –∞–ª—å—è–Ω—Å–æ–≤

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–π–ª–∞–º

### –§–æ—Ä–º–∞—Ç—ã

- **–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**: MP3, OGG, WAV
- **–ú—É–∑—ã–∫–∞**: MP3, OGG
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: OGG (–ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ/—Ä–∞–∑–º–µ—Ä), MP3 (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

### –ö–∞—á–µ—Å—Ç–≤–æ

- **–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**: 44.1 kHz, 128-192 kbps
- **–ú—É–∑—ã–∫–∞**: 44.1 kHz, 192-320 kbps
- **–ë–∏—Ç—Ä–µ–π—Ç**: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–π (VBR) –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

### –†–∞–∑–º–µ—Ä—ã

- **–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã**: 5-50 KB
- **–ú—É–∑—ã–∫–∞**: 1-5 MB
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä**: –ù–µ –±–æ–ª–µ–µ 50 MB

## –°–ø–∏—Å–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–≤—É–∫–∏ –∏–≥—Ä—ã

- `dice_roll.mp3` - –ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π
- `money.mp3` - –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ–Ω–µ–≥
- `property_purchase.mp3` - –ü–æ–∫—É–ø–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- `rent_payment.mp3` - –û–ø–ª–∞—Ç–∞ –∞—Ä–µ–Ω–¥—ã
- `jail.mp3` - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç—é—Ä—å–º—É
- `bankruptcy.mp3` - –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
- `victory.mp3` - –ü–æ–±–µ–¥–∞

### –ó–≤—É–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫

- `chance_card.mp3` - –ö–∞—Ä—Ç–æ—á–∫–∞ –®–∞–Ω—Å
- `treasure_card.mp3` - –ö–∞—Ä—Ç–æ—á–∫–∞ –ö–∞–∑–Ω–∞

### –ó–≤—É–∫–∏ –∞—É–∫—Ü–∏–æ–Ω–∞

- `auction_start.mp3` - –ù–∞—á–∞–ª–æ –∞—É–∫—Ü–∏–æ–Ω–∞
- `auction_bid.mp3` - –°—Ç–∞–≤–∫–∞ –Ω–∞ –∞—É–∫—Ü–∏–æ–Ω–µ
- `auction_end.mp3` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞

### –ó–≤—É–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏

- `trade_offer.mp3` - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
- `trade_accept.mp3` - –ü—Ä–∏–Ω—è—Ç–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏
- `trade_reject.mp3` - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–ª–∏

### –ó–≤—É–∫–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞

- `build_residence.mp3` - –°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏
- `improve_property.mp3` - –£–ª—É—á—à–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

### –ó–≤—É–∫–∏ —Å–æ–±—ã—Ç–∏–π

- `weather_change.mp3` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
- `economic_event.mp3` - –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ
- `cultural_event.mp3` - –ö—É–ª—å—Ç—É—Ä–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ

### –ó–≤—É–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- `button_click.mp3` - –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
- `menu_open.mp3` - –û—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é
- `menu_close.mp3` - –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é
- `notification.mp3` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- `achievement.mp3` - –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ

### –ó–≤—É–∫–∏ —á–∞—Ç–∞

- `chat_message.mp3` - –°–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
- `player_join.mp3` - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
- `player_leave.mp3` - –í—ã—Ö–æ–¥ –∏–≥—Ä–æ–∫–∞

### –ó–≤—É–∫–∏ —Ç—É—Ä–Ω–∏—Ä–æ–≤

- `tournament_start.mp3` - –ù–∞—á–∞–ª–æ —Ç—É—Ä–Ω–∏—Ä–∞
- `tournament_end.mp3` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞
- `round_start.mp3` - –ù–∞—á–∞–ª–æ —Ä–∞—É–Ω–¥–∞
- `round_end.mp3` - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞—É–Ω–¥–∞

### –ó–≤—É–∫–∏ –∞–ª—å—è–Ω—Å–æ–≤

- `alliance_form.mp3` - –°–æ–∑–¥–∞–Ω–∏–µ –∞–ª—å—è–Ω—Å–∞
- `alliance_break.mp3` - –†–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –∞–ª—å—è–Ω—Å–∞

### –ó–≤—É–∫–∏ –æ—à–∏–±–æ–∫

- `error.mp3` - –û—à–∏–±–∫–∞
- `warning.mp3` - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

### –ó–≤—É–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

- `move_token.mp3` - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∏—à–∫–∏
- `land_on_property.mp3` - –ü—Ä–∏–∑–µ–º–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
- `pass_go.mp3` - –ü—Ä–æ—Ö–æ–¥ —á–µ—Ä–µ–∑ –°—Ç–∞—Ä—Ç

### –ó–≤—É–∫–∏ –Ω–∞–ª–æ–≥–æ–≤

- `pay_tax.mp3` - –û–ø–ª–∞—Ç–∞ –Ω–∞–ª–æ–≥–∞
- `pay_fine.mp3` - –û–ø–ª–∞—Ç–∞ —à—Ç—Ä–∞—Ñ–∞

### –ó–≤—É–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π

- `mortgage.mp3` - –ó–∞–ª–æ–≥ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- `unmortgage.mp3` - –í—ã–∫—É–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

### –ó–≤—É–∫–∏ –ø–æ–≥–æ–¥—ã

- `rain.mp3` - –î–æ–∂–¥—å
- `snow.mp3` - –°–Ω–µ–≥
- `storm.mp3` - –®—Ç–æ—Ä–º
- `wind.mp3` - –í–µ—Ç–µ—Ä

### –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

#### –û—Å–Ω–æ–≤–Ω–∞—è –º—É–∑—ã–∫–∞

- `main_theme.mp3` - –ì–ª–∞–≤–Ω–∞—è —Ç–µ–º–∞ –∏–≥—Ä—ã
- `menu_music.mp3` - –ú—É–∑—ã–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
- `game_music.mp3` - –ú—É–∑—ã–∫–∞ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã

#### –°–∏—Ç—É–∞—Ç–∏–≤–Ω–∞—è –º—É–∑—ã–∫–∞

- `victory_music.mp3` - –ú—É–∑—ã–∫–∞ –ø–æ–±–µ–¥—ã
- `defeat_music.mp3` - –ú—É–∑—ã–∫–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏—è
- `tension_music.mp3` - –ù–∞–ø—Ä—è–∂–µ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞

#### –¢—É—Ä–Ω–∏—Ä–Ω–∞—è –º—É–∑—ã–∫–∞

- `tournament_music.mp3` - –ú—É–∑—ã–∫–∞ —Ç—É—Ä–Ω–∏—Ä–æ–≤
- `final_round.mp3` - –ú—É–∑—ã–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—É–Ω–¥–∞

#### –°–æ–±—ã—Ç–∏–π–Ω–∞—è –º—É–∑—ã–∫–∞

- `economic_boom.mp3` - –ú—É–∑—ã–∫–∞ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ –±—É–º–∞
- `economic_crisis.mp3` - –ú—É–∑—ã–∫–∞ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ –∫—Ä–∏–∑–∏—Å–∞
- `cultural_festival.mp3` - –ú—É–∑—ã–∫–∞ –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Ñ–µ—Å—Ç–∏–≤–∞–ª—è

#### –ü–æ–≥–æ–¥–Ω–∞—è –º—É–∑—ã–∫–∞

- `sunny_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è —Å–æ–ª–Ω–µ—á–Ω–æ–π –ø–æ–≥–æ–¥—ã
- `rainy_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è –¥–æ–∂–¥–ª–∏–≤–æ–π –ø–æ–≥–æ–¥—ã
- `snowy_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è —Å–Ω–µ–∂–Ω–æ–π –ø–æ–≥–æ–¥—ã
- `stormy_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è —à—Ç–æ—Ä–º–æ–≤–æ–π –ø–æ–≥–æ–¥—ã

#### –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –º—É–∑—ã–∫–∞

- `auction_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è –∞—É–∫—Ü–∏–æ–Ω–æ–≤
- `trade_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
- `alliance_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è –∞–ª—å—è–Ω—Å–æ–≤
- `achievement_music.mp3` - –ú—É–∑—ã–∫–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∑–≤—É–∫–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

1. **Freesound.org** - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∑–≤—É–∫–∏ —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π Creative Commons
2. **Zapsplat.com** - –ü–ª–∞—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∑–≤—É–∫–∏
3. **AudioJungle.net** - –ü–æ–∫—É–ø–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–≤—É–∫–æ–≤
4. **PremiumBeat.com** - –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–≤—É–∫–∏
5. **Pond5.com** - –ë–æ–ª—å—à–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–≤—É–∫–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–≤—É–∫–æ–≤

- **Audacity** - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞—É–¥–∏–æ—Ä–µ–¥–∞–∫—Ç–æ—Ä
- **GarageBand** - –î–ª—è macOS
- **FL Studio** - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è DAW
- **Reaper** - –î–æ—Å—Ç—É–ø–Ω–∞—è DAW

## –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–∏—Ü–µ–Ω–∑–∏—è–º

- **–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –†–∞–∑—Ä–µ—à–µ–Ω–æ
- **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è** - –†–∞–∑—Ä–µ—à–µ–Ω–æ
- **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ** - –†–∞–∑—Ä–µ—à–µ–Ω–æ
- **–ê—Ç—Ä–∏–±—É—Ü–∏—è** - –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏

- Creative Commons Attribution (CC BY)
- Creative Commons Attribution-ShareAlike (CC BY-SA)
- Creative Commons Zero (CC0)
- Royalty-free

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –°–∂–∞—Ç–∏–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OGG –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ MP3 –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Å–∂–∞—Ç–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä—å –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∑–≤—É–∫–æ–≤

### –ó–∞–≥—Ä—É–∑–∫–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–≤—É–∫–∏
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–≤—É–∫–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–ª –∞—É–¥–∏–æ –æ–±—ä–µ–∫—Ç–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∞—É–¥–∏–æ –¥–ª—è 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≥—Ä–æ–º–∫–æ—Å—Ç—å –∏ –±–∞–ª–∞–Ω—Å
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ä–∞–±–æ—Ç–µ —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º –∑–≤—É–∫–æ–º

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í–µ–¥–∏—Ç–µ changelog –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è

- –û–±–µ—Å–ø–µ—á–∏–≤–∞–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ fallback –∑–≤—É–∫–∏
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∑–≤—É–∫–æ–≤—ã–º —Ñ–∞–π–ª–∞–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫:

- –ó–≤—É–∫–æ–≤–æ–π –¥–∏–∑–∞–π–Ω–µ—Ä: [email]
- –ö–æ–º–ø–æ–∑–∏—Ç–æ—Ä: [email]
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä: [email] 
```

## assets\tokens\en.json
```
{
  "COMMON": { ... },
  "MESSAGES": { ... },
  "ERRORS": { ... },
  "TOOLTIPS": { ... },
  "STATISTICS": { ... }
}
// (–í—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ LOCALES.en) 
```

## assets\tokens\de.json
```
{
  "COMMON": {
    "START": "LOS",
    "JAIL": "GEF√ÑNGNIS",
    "FREE_PARKING": "KOSTENLOSES PARKEN",
    "GO_TO_JAIL": "INS GEF√ÑNGNIS",
    "CHANCE": "CHANCE",
    "TREASURE": "SCHATZ",
    "TAX": "STEUER",
    "MONEY": "‚Ç¨",
    "YES": "Ja",
    "NO": "Nein",
    "OK": "OK",
    "CANCEL": "Abbrechen",
    "CONFIRM": "Best√§tigen",
    "BUY": "Kaufen",
    "SELL": "Verkaufen",
    "PASS": "Passen",
    "END_TURN": "Zug beenden",
    "ROLL_DICE": "W√ºrfeln",
    "SETTINGS": "Einstellungen",
    "RULES": "Regeln",
    "STATISTICS": "Statistik",
    "ACHIEVEMENTS": "Erfolge",
    "TRADE": "Handel",
    "AUCTION": "Auktion",
    "ALLIANCE": "Allianz",
    "TOURNAMENT": "Turnier",
    "CHAT": "Chat",
    "SAVE": "Speichern",
    "LOAD": "Laden",
    "EXPORT": "Exportieren",
    "IMPORT": "Importieren",
    "FULLSCREEN": "Vollbild",
    "SOUND": "Ton",
    "MUSIC": "Musik",
    "LANGUAGE": "Sprache",
    "THEME": "Thema",
    "HELP": "Hilfe",
    "ABOUT": "√úber",
    "VERSION": "Version",
    "CREDITS": "Credits",
    "FEEDBACK": "Feedback",
    "BUG_REPORT": "Fehler melden",
    "FEATURE_REQUEST": "Funktion vorschlagen",
    "ACHIEVEMENTS_BTN": "Erfolge",
    "STATISTICS_BTN": "Statistik",
    "TOURNAMENTS_BTN": "Turniere",
    "ACHIEVEMENTS_TITLE": "Erfolge",
    "STATISTICS_TITLE": "Statistik",
    "TOURNAMENTS_TITLE": "Turniere",
    "ACHIEVEMENTS_NONE": "Keine Erfolge",
    "STATISTICS_NONE": "Keine Statistikdaten",
    "TOURNAMENTS_NONE": "Keine aktiven Turniere"
  }
} 
```

## assets\brands\README.md
```
# –õ–æ–≥–æ—Ç–∏–ø—ã –±—Ä–µ–Ω–¥–æ–≤ –¥–ª—è –∫–ª–µ—Ç–æ–∫ –ú–æ–Ω–æ–ø–æ–ª–∏–∏

–í —ç—Ç—É –ø–∞–ø–∫—É –ø–æ–º–µ—â–∞–π—Ç–µ SVG –∏–ª–∏ PNG –ª–æ–≥–æ—Ç–∏–ø—ã –∫–æ–º–ø–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞ –∫–ª–µ—Ç–∫–∞—Ö –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è.

–ü—Ä–∏–º–µ—Ä: apple.svg, google.svg, samsung.png –∏ —Ç.–¥. 
```

